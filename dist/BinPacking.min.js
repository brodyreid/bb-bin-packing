!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("BinPacking",[],e):"object"==typeof exports?exports.BinPacking=e():t.BinPacking=e()}(this,(function(){return function(){var t={23:function(t){var e=function(){"use strict";function t(e,n,r,o){"object"==typeof n&&(r=n.depth,o=n.prototype,n.filter,n=n.circular);var s=[],h=[],c="undefined"!=typeof Buffer;return void 0===n&&(n=!0),void 0===r&&(r=1/0),function e(r,u){if(null===r)return null;if(0==u)return r;var a,f;if("object"!=typeof r)return r;if(t.__isArray(r))a=[];else if(t.__isRegExp(r))a=new RegExp(r.source,i(r)),r.lastIndex&&(a.lastIndex=r.lastIndex);else if(t.__isDate(r))a=new Date(r.getTime());else{if(c&&Buffer.isBuffer(r))return a=Buffer.allocUnsafe?Buffer.allocUnsafe(r.length):new Buffer(r.length),r.copy(a),a;void 0===o?(f=Object.getPrototypeOf(r),a=Object.create(f)):(a=Object.create(o),f=o)}if(n){var l=s.indexOf(r);if(-1!=l)return h[l];s.push(r),h.push(a)}for(var p in r){var g;f&&(g=Object.getOwnPropertyDescriptor(f,p)),g&&null==g.set||(a[p]=e(r[p],u-1))}return a}(e,r)}function e(t){return Object.prototype.toString.call(t)}function i(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return t.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},t.__objToStr=e,t.__isDate=function(t){return"object"==typeof t&&"[object Date]"===e(t)},t.__isArray=function(t){return"object"==typeof t&&"[object Array]"===e(t)},t.__isRegExp=function(t){return"object"==typeof t&&"[object RegExp]"===e(t)},t.__getRegExpFlags=i,t}();t.exports&&(t.exports=e)},426:function(t,e,i){!function(){"use strict";!function(){if("undefined"==typeof console)throw new Error("Weird, console object is undefined");if("function"!=typeof console.table||console.table!==l){var e=function(t,e){return typeof e===t}.bind(null,"string"),n=s.bind(null,e),r=s.bind(null,Array.isArray),o=i(185);t.exports.getTable=function(){var t=Array.prototype.slice.call(arguments),e="";return 2===t.length&&"string"==typeof t[0]&&Array.isArray(t[1])?a(t[0],t[1]):2===t.length&&n(t[0])&&r(t[1])?c(t[0],t[1],!0):(t.forEach((function(i,n){if("string"==typeof i)return e+=i,void(n!==t.length-1&&(e+="\n"));Array.isArray(i)?e+=h(i)+"\n":"object"==typeof i&&(e+=f(i))})),e)},console.table=l}function s(t,e){return Array.isArray(e)&&e.every(t)}function h(t){var e=new o;return t.forEach((function(t){"string"==typeof t||"number"==typeof t?e.cell("item",t):Object.keys(t).forEach((function(i){e.cell(i,t[i])})),e.newRow()})),e.toString()}function c(t,e,i){var n=new o;e.forEach((function(e){e.forEach((function(e,i){n.cell(t[i],e)})),n.newRow()}));var r=n.toString();return i?r:console.log(r)}function u(t,e){var i=h(e),n=i.indexOf("\n");if(n>0){t.length>n&&(n=t.length),console.log(t);var r,o="";for(r=0;r<n;r+=1)o+="-";console.log(o)}console.log(i)}function a(t,e){var i=h(e),n=i.indexOf("\n"),r="";if(n>0){t.length>n&&(n=t.length),r+=t+"\n";var o,s="";for(o=0;o<n;o+=1)s+="-";r+=s+"\n"}return r+i}function f(t){return h(function(t){return Object.keys(t).map((function(e){return{key:e,value:t[e]}}))}(t))}function l(){var t=Array.prototype.slice.call(arguments);return 2===t.length&&"string"==typeof t[0]&&Array.isArray(t[1])?u(t[0],t[1]):2===t.length&&n(t[0])&&r(t[1])?c(t[0],t[1]):void t.forEach((function(t){if("string"==typeof t)return console.log(t);Array.isArray(t)?console.log(h(t)):"object"==typeof t&&console.log(f(t))}))}}()}()},451:function(t,e,i){var n=i(23);t.exports=function(t,e){return t=t||{},Object.keys(e).forEach((function(i){void 0===t[i]&&(t[i]=n(e[i]))})),t}},185:function(t,e,i){var n;try{n=i(561)}catch(t){}function r(){this.rows=[],this.row={__printers:{}}}function o(t){return void 0===t?"":""+t}function s(t){var e=t.replace(/\u001b\[\d+m/g,"");return null==n?e.length:n(e)}function h(t){return function(e,i){var n=o(e),r=s(n);return(i>r?Array(i-r+1).join(t):"")+n}}t.exports=r,r.prototype.newRow=function(){return this.rows.push(this.row),this.row={__printers:{}},this},r.prototype.cell=function(t,e,i){return this.row[t]=e,this.row.__printers[t]=i||o,this},r.prototype.separator="  ",r.string=o,r.leftPadder=h;var c=r.padLeft=h(" ");function u(t){return function(e,i){var n=o(e),r=s(n);return n+(i>r?Array(i-r+1).join(t):"")}}r.rightPadder=u;var a=u(" ");function f(t,e){for(var i in t)"__printers"!=i&&e(i,t[i])}function l(t,e){return t===e?0:void 0===t?1:void 0===e?-1:null===t?1:null===e?-1:t>e?1:t<e?-1:l(String(t),String(e))}r.number=function(t){return function(e,i){if(null==e)return"";if("number"!=typeof e)throw new Error(e+" is not a number");var n=null==t?e+"":e.toFixed(t);return c(n,i)}},r.prototype.columns=function(){for(var t={},e=0;e<2;e++)this.rows.forEach((function(e){var i=0;f(e,(function(e){i=Math.max(i,t[e]||0),t[e]=i,i++}))}));return Object.keys(t).sort((function(e,i){return t[e]-t[i]}))},r.prototype.print=function(){var t=this.columns(),e=this.separator,i={},n="";return this.rows.forEach((function(t){f(t,(function(e,n){var r=t.__printers[e].call(t,n);i[e]=Math.max(s(r),i[e]||0)}))})),this.rows.forEach((function(r){var o="";t.forEach((function(t){var n=i[t],s=r.hasOwnProperty(t)?""+r.__printers[t].call(r,r[t],n):"";o+=a(s,n)+e})),o=o.slice(0,-e.length),n+=o+"\n"})),n},r.prototype.toString=function(){var t=this.columns(),e=new r;return e.separator=this.separator,t.forEach((function(t){e.cell(t,t)})),e.newRow(),e.pushDelimeter(t),e.rows=e.rows.concat(this.rows),this.totals&&this.rows.length&&(e.pushDelimeter(t),this.forEachTotal(e.cell.bind(e)),e.newRow()),e.print()},r.prototype.pushDelimeter=function(t){return(t=t||this.columns()).forEach((function(t){this.cell(t,void 0,h("-"))}),this),this.newRow()},r.prototype.forEachTotal=function(t){for(var e in this.totals){var i=this.totals[e],n=i.init,r=this.rows.length;this.rows.forEach((function(t,o){n=i.reduce.call(t,n,t[e],o,r)})),t(e,n,i.printer)}},r.prototype.printTransposed=function(t){t=t||{};var e=new r;return e.separator=t.separator||this.separator,this.columns().forEach((function(i){e.cell(0,i,t.namePrinter),this.rows.forEach((function(t,n){e.cell(n+1,t[i],t.__printers[i])})),e.newRow()}),this),e.print()},r.prototype.sort=function(t){if("function"==typeof t)return this.rows.sort(t),this;var e=(Array.isArray(t)?t:this.columns()).map((function(t){var e="asc",i=/(.*)\|\s*(asc|des)\s*$/.exec(t);return i&&(t=i[1],e=i[2]),function(i,n){return"asc"==e?l(i[t],n[t]):l(n[t],i[t])}}));return this.sort((function(t,i){for(var n=0;n<e.length;n++){var r=e[n](t,i);if(0!=r)return r}return 0}))},r.prototype.total=function(t,e){return e=e||{},this.totals=this.totals||{},this.totals[t]={reduce:e.reduce||r.aggr.sum,printer:e.printer||c,init:null==e.init?0:e.init},this},r.aggr={},r.aggr.printer=function(t,e){return e=e||o,function(i,n){return c(t+e(i),n)}},r.aggr.sum=function(t,e){return t+e},r.aggr.avg=function(t,e,i,n){return t+=e,i+1==n?t/n:t},r.print=function(t,e,i){var n=e||{};e="function"==typeof e?e:function(t,e){for(var i in t)if(t.hasOwnProperty(i)){var r=n[i]||{};e(r.name||i,t[i],r.printer)}};var o=new r,s=o.cell.bind(o);return Array.isArray(t)?(i=i||function(t){return t.toString()},t.forEach((function(t){e(t,s),o.newRow()}))):(i=i||function(t){return t.printTransposed({separator:" : "})},e(t,s),o.newRow()),i(o)},r.log=function(t,e,i){console.log(r.print(t,e,i))},r.prototype.log=function(){console.log(this.toString())}},653:function(t){t.exports=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531],[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]]},561:function(t,e,i){"use strict";var n=i(451),r=i(653),o={nul:0,control:0};function s(t,e){if("string"!=typeof t)return h(t,e);for(var i=0,n=0;n<t.length;n++){var r=h(t.charCodeAt(n),e);if(r<0)return-1;i+=r}return i}function h(t,e){return 0===t?e.nul:t<32||t>=127&&t<160?e.control:function(t){var e,i=0,n=r.length-1;if(t<r[0][0]||t>r[n][1])return!1;for(;n>=i;)if(e=Math.floor((i+n)/2),t>r[e][1])i=e+1;else{if(!(t<r[e][0]))return!0;n=e-1}return!1}(t)?0:1+(t>=4352&&(t<=4447||9001==t||9002==t||t>=11904&&t<=42191&&12351!=t||t>=44032&&t<=55203||t>=63744&&t<=64255||t>=65040&&t<=65049||t>=65072&&t<=65135||t>=65280&&t<=65376||t>=65504&&t<=65510||t>=131072&&t<=196605||t>=196608&&t<=262141))}t.exports=function(t){return s(t,o)},t.exports.config=function(t){return t=n(t||{},o),function(e){return s(e,t)}}},878:function(t,e,i){"use strict";i.r(e),i.d(e,{Bin:function(){return u},Box:function(){return h},Packer:function(){return p},heuristics:function(){return n}});var n={};i.r(n),i.d(n,{BestAreaFit:function(){return g},BestLongSideFit:function(){return y},BestShortSideFit:function(){return s},BottomLeft:function(){return d}});var r=function(){function t(e,i){this.score_1=t.MAX_INT,this.score_2=t.MAX_INT,void 0!==e&&(this.score_1=e),void 0!==i&&(this.score_2=i)}return t.prototype.valueOf=function(){return this.score_1+this.score_2},t.prototype.assign=function(t){this.score_1=t.score_1,this.score_2=t.score_2},t.prototype.isBlank=function(){return this.score_1===t.MAX_INT},t.prototype.decreaseBy=function(t){this.score_1+=t,this.score_2+=t},t.MAX_INT=Number.MAX_SAFE_INTEGER,t}(),o=function(){function t(){}return t.prototype.findPositionForNewNode=function(t,e){var i=this,n=new r,o=t.width,s=t.height;return e.forEach((function(e){i.tryPlaceRectIn(e,t,o,s,n),t.constrainRotation||i.tryPlaceRectIn(e,t,s,o,n)})),n},t.prototype.tryPlaceRectIn=function(t,e,i,n,r){if(t.width>=i&&t.height>=n){var o=this.calculateScore();o<r&&(e.x=t.x,e.y=t.y,e.width=i,e.height=n,e.packed=!0,r.assign(o))}},t.prototype.calculateScore=function(){throw"NotImplementedError"},t}();class s extends o{calculateScore(t,e,i){let n=[Math.abs(t.width-e),Math.abs(t.height-i)].sort(((t,e)=>t-e));return new r(n[0],n[1])}}var h=function(){function t(t,e,i){void 0===i&&(i=!1),this.width=0,this.height=0,this.constrainRotation=!1,this.x=0,this.y=0,this.packed=!1,this.width=t,this.height=e,this.constrainRotation=i}return t.prototype.rotate=function(){var t=this.width,e=this.height;this.width=e,this.height=t},Object.defineProperty(t.prototype,"label",{get:function(){return"".concat(this.width,"x").concat(this.height," at [").concat(this.x,",").concat(this.y,"]")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"area",{get:function(){return this.width*this.height},enumerable:!1,configurable:!0}),t}(),c=function(){return(c=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},u=function(){function t(t,e,i){this.width=0,this.height=0,this.boxes=[],this.heuristic=null,this.freeRectangles=[],this.width=t,this.height=e,this.freeRectangles=[new a(t,e)],this.heuristic=i||new s}return Object.defineProperty(t.prototype,"area",{get:function(){return this.width*this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"efficiency",{get:function(){var t=0;return this.boxes.forEach((function(e){t+=e.area})),100*t/this.area},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return"".concat(this.width,"x").concat(this.height," ").concat(this.efficiency,"%")},enumerable:!1,configurable:!0}),t.prototype.insert=function(t){if(t.packed)return!1;if(this.heuristic.findPositionForNewNode(t,this.freeRectangles),!t.packed)return!1;for(var e=this.freeRectangles.length,i=0;i<e;)this.splitFreeNode(this.freeRectangles[i],t)?(this.freeRectangles.splice(i,1),e--):i++;return this.pruneFreeList(),this.boxes.push(t),!0},t.prototype.scoreFor=function(t){var e=new h(t.width,t.height,t.constrainRotation);return this.heuristic.findPositionForNewNode(e,this.freeRectangles)},t.prototype.isLargerThan=function(t){return this.width>=t.width&&this.height>=t.height||this.height>=t.width&&this.width>=t.height},t.prototype.splitFreeNode=function(t,e){return!(e.x>=t.x+t.width||e.x+e.width<=t.x||e.y>=t.y+t.height||e.y+e.height<=t.y||(this.trySplitFreeNodeVertically(t,e),this.trySplitFreeNodeHorizontally(t,e),0))},t.prototype.trySplitFreeNodeVertically=function(t,e){e.x<t.x+t.width&&e.x+e.width>t.x&&(this.tryLeaveFreeSpaceAtTop(t,e),this.tryLeaveFreeSpaceAtBottom(t,e))},t.prototype.tryLeaveFreeSpaceAtTop=function(t,e){if(e.y>t.y&&e.y<t.y+t.height){var i=c({},t);i.height=e.y-i.y,this.freeRectangles.push(i)}},t.prototype.tryLeaveFreeSpaceAtBottom=function(t,e){if(e.y+e.height<t.y+t.height){var i=c({},t);i.y=e.y+e.height,i.height=t.y+t.height-(e.y+e.height),this.freeRectangles.push(i)}},t.prototype.trySplitFreeNodeHorizontally=function(t,e){e.y<t.y+t.height&&e.y+e.height>t.y&&(this.tryLeaveFreeSpaceOnLeft(t,e),this.tryLeaveFreeSpaceOnRight(t,e))},t.prototype.tryLeaveFreeSpaceOnLeft=function(t,e){if(e.x>t.x&&e.x<t.x+t.width){var i=c({},t);i.width=e.x-i.x,this.freeRectangles.push(i)}},t.prototype.tryLeaveFreeSpaceOnRight=function(t,e){if(e.x+e.width<t.x+t.width){var i=c({},t);i.x=e.x+e.width,i.width=t.x+t.width-(e.x+e.width),this.freeRectangles.push(i)}},t.prototype.pruneFreeList=function(){for(var t=0;t<this.freeRectangles.length;){var e=t+1;if(e===this.freeRectangles.length)break;for(;e<this.freeRectangles.length;){if(this.isContainedIn(this.freeRectangles[t],this.freeRectangles[e])){this.freeRectangles.splice(t,1),t--;break}this.isContainedIn(this.freeRectangles[e],this.freeRectangles[t])?this.freeRectangles.splice(e,1):e++,t++}}},t.prototype.isContainedIn=function(t,e){return t&&e&&t.x>=e.x&&t.y>=e.y&&t.x+t.width<=e.x+e.width&&t.y+t.height<=e.y+e.height},t}(),a=function(t,e){this.x=0,this.y=0,this.width=null,this.height=null,this.width=t,this.height=e},f=function(){function t(t,e){this.bin=t,this.box=e}return t.prototype.calculate=function(){return this.score=this.bin.scoreFor(this.box),this.score},t.prototype.fit=function(){return!this.score.isBlank()},t}(),l=function(){function t(t,e){var i=this;this.entries=[],t.forEach((function(t){i.addBinEntries(t,e)}))}return t.prototype.debug=function(){i(426),console.table(this.entries.map((function(t){return{bin:t.bin.label,box:t.box.label,score:t.score}})))},t.prototype.addBinEntries=function(t,e){var i=this;e.forEach((function(e){var n=new f(t,e);n.calculate(),i.entries.push(n)}))},t.prototype.largestNotFitingBox=function(){var t,e=this.entries.filter((function(t){return t.fit})).map((function(t){return t.box}));return this.entries.forEach((function(i){e.includes(i.box)&&(null===t||t.box.area<i.box.area)&&(t=i)})),!!t.box&&t},t.prototype.bestFit=function(){for(var t=null,e=0;e<this.entries.length;e++){var i=this.entries[e];i.fit()&&(null===t||i.score<t.score)&&(t=i)}return t},t.prototype.removeBox=function(t){this.entries=this.entries.filter((function(e){return e.box!==t}))},t.prototype.addBin=function(t){this.addBinEntries(t,this.currentBoxes())},t.prototype.recalculateBin=function(t){this.entries.filter((function(e){return e.bin===t})).forEach((function(t){return t.calculate()}))},t.prototype.currentBoxes=function(){return function(t,e,i){if(i||2===arguments.length)for(var n,r=0,o=e.length;r<o;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))}([],function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s}(new Set(this.entries.map((function(t){return t.box})))),!1)},t}(),p=function(){function t(t){this.bins=[],this.unpackedBoxes=[],this.bins=t}return t.prototype.pack=function(t,e){void 0===e&&(e={});var i,n=[];if(0===(t=t.filter((function(t){return!t.packed}))).length)return n;for(var o=e.limit||r.MAX_INT,s=new l(this.bins,t);(i=s.bestFit())&&(i.bin.insert(i.box),s.removeBox(i.box),s.recalculateBin(i.bin),n.push({box:i.box,score:i.score}),!(n.length>=o)););return this.unpackedBoxes=t.filter((function(t){return!t.packed})),n},t}();class g extends o{calculateScore(t,e,i){let n=t.width*t.height-e*i,o=Math.abs(t.width-e),s=Math.abs(t.height-i),h=Math.min(o,s);return new r(n,h)}}class y extends o{calculateScore(t,e,i){let n=[Math.abs(t.width-e),Math.abs(t.height-i)].sort(((t,e)=>t-e)).reverse();return new r(n[0],n[1])}}class d extends o{calculateScore(t,e,i){let n=t.y+i;return new r(n,t.x)}}},954:function(t,e,i){"use strict";i.r(e),i.d(e,{Bin:function(){return s},Item:function(){return u},Packer:function(){return f}});const n=t=>Math.round(t*10**5);function r(t,...e){}const o=function(t="binpackingjs"){return r.bind(void 0,t)}("3D:");class s{name="";width=0;height=0;depth=0;maxWeight=0;items=[];constructor(t,e,i,r,o){this.name=t,this.width=n(e),this.height=n(i),this.depth=n(r),this.maxWeight=n(o)}getName(){return this.name}getWidth(){return this.width}getHeight(){return this.height}getDepth(){return this.depth}getMaxWeight(){return this.maxWeight}getItems(){return this.items}getVolume(){return this.getWidth()*this.getHeight()*this.getDepth()}getPackedWeight(){return this.items.reduce(((t,e)=>t+e.getWeight()),0)}weighItem(t){const e=this.getMaxWeight();return!e||t.getWeight()+this.getPackedWeight()<=e}scoreRotation(t,e){t.rotationType=e;let i=t.getDimension();return this.getWidth()<i[0]||this.getHeight()<i[1]||this.getDepth()<i[2]?0:Math.pow(i[0]/this.getWidth(),2)+Math.pow(i[1]/this.getHeight(),2)+Math.pow(i[2]/this.getDepth(),2)}getBestRotationOrder(t){const e={};for(let i=0;i<t.allowedRotation.length;i++){const n=t.allowedRotation[i];e[n]=this.scoreRotation(t,n)}return Object.keys(e).sort(((t,i)=>e[i]-e[t])).map(Number)}putItem(t,e){const i=this;let n=!1;const r=this.getBestRotationOrder(t);t.position=e;for(let s=0;s<r.length;s++){t.rotationType=r[s];let h=t.getDimension();if(i.getWidth()<e[0]+h[0]||i.getHeight()<e[1]+h[1]||i.getDepth()<e[2]+h[2])n=!1;else{n=!0;for(let e=0;e<i.items.length;e++)if(i.items[e].intersect(t)){n=!1;break}n&&i.items.push(t)}if(o("try to putItem",n,"item",t.toString(),"box",i.toString()),n)break}return n}toString(){return`Bin:${this.name} (WxHxD = ${this.getWidth()}x${this.getHeight()}x${this.getDepth()}, MaxWg. = ${this.getMaxWeight()})`}}const h=[0,0,0],c={0:"RotationType_WHD (w,h,d)",1:"RotationType_HWD (h,w,d)",2:"RotationType_HDW (h,d,w)",3:"RotationType_DHW (d,h,w)",4:"RotationType_DWH (d,w,h)",5:"RotationType_WDH (w,d,h)"};class u{name="";width=0;height=0;depth=0;weight=0;allowedRotation=[0,1,2,3,4,5];rotationType=0;position=[];constructor(t,e,i,r,o,s){this.name=t,this.width=n(e),this.height=n(i),this.depth=n(r),this.weight=n(o),this.allowedRotation=s||this.allowedRotation}getWidth(){return this.width}getHeight(){return this.height}getDepth(){return this.depth}getWeight(){return this.weight}getRotationType(){return this.rotationType}getAllowedRotation(){return this.allowedRotation}getRotationTypeString(){return c[this.getRotationType()]}getDimension(){let t;switch(this.rotationType){case 0:t=[this.getWidth(),this.getHeight(),this.getDepth()];break;case 1:t=[this.getHeight(),this.getWidth(),this.getDepth()];break;case 2:t=[this.getHeight(),this.getDepth(),this.getWidth()];break;case 3:t=[this.getDepth(),this.getHeight(),this.getWidth()];break;case 4:t=[this.getDepth(),this.getWidth(),this.getHeight()];break;case 5:t=[this.getWidth(),this.getDepth(),this.getHeight()]}return t}intersect(t){return a(this,t,0,1)&&a(this,t,1,2)&&a(this,t,0,2)}getVolume(){return this.getWidth()*this.getHeight()*this.getDepth()}toString(){return`Item:${this.name} (${this.getRotationTypeString()} = ${this.getDimension().join("x")}, Wg. = ${this.weight})`}}const a=(t,e,i,n)=>{let r,o,s,h,c,u,a,f;return r=t.getDimension(),o=e.getDimension(),s=t.position[i]+r[i]/2,h=t.position[n]+r[n]/2,c=e.position[i]+o[i]/2,u=e.position[n]+o[n]/2,a=Math.max(s,c)-Math.min(s,c),f=Math.max(h,u)-Math.min(h,u),a<(r[i]+o[i])/2&&f<(r[n]+o[n])/2};class f{bins=[];items=[];unfitItems=[];addBin(t){this.bins.push(t)}addItem(t){this.items.push(t)}findFittedBin(t){for(let e=0;e<this.bins.length;e++){let i=this.bins[e];if(i.weighItem(t)&&i.putItem(t,h))return 1===i.items.length&&i.items[0]===t&&(i.items=[]),i}return null}getBiggerBinThan(t){let e=t.getVolume();for(let t=0;t<this.bins;t++){let i=this.bins[t];if(i.getVolume()>e)return i}return null}unfitItem(){0!==this.items.length&&(this.unfitItems.push(this.items[0]),this.items.splice(0,1))}packToBin(t,e){let i=null,n=[];if(!t.weighItem(e[0])||!t.putItem(e[0],h)){let i=this.getBiggerBinThan(t);return i?this.packToBin(i,e):this.items}for(let e=1;e<this.items.length;e++){let r=!1,o=this.items[e];if(t.weighItem(o))t:for(let e=0;e<3;e++)for(let i=0;i<t.items.length;i++){let n,s=t.items[i],h=s.getDimension();switch(e){case 0:n=[s.position[0]+h[0],s.position[1],s.position[2]];break;case 1:n=[s.position[0],s.position[1]+h[1],s.position[2]];break;case 2:n=[s.position[0],s.position[1],s.position[2]+h[2]]}if(t.putItem(o,n)){r=!0;break t}}if(!r){for(;null!==i;)if(i=this.getBiggerBinThan(t),i&&(i.items.push(o),0===this.packToBin(i,i.items).length)){t=i,r=!0;break}r||n.push(o)}}return n}pack(){for(this.bins.sort(((t,e)=>t.getVolume()-e.getVolume())),this.items.sort(((t,e)=>e.getVolume()-t.getVolume()));this.items.length>0;){let t=this.findFittedBin(this.items[0]);null!==t?this.items=this.packToBin(t,this.items):this.unfitItem()}return null}}}},e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={exports:{}};return t[n](r,r.exports,i),r.exports}i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};return function(){"use strict";i.r(n),i.d(n,{BP2D:function(){return t},BP3D:function(){return e}});var t=i(878),e=i(954)}(),n}()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9CaW5QYWNraW5nL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9CaW5QYWNraW5nLy4uL25vZGVfbW9kdWxlcy9jbG9uZS9jbG9uZS5qcyIsIndlYnBhY2s6Ly9CaW5QYWNraW5nLy4uL25vZGVfbW9kdWxlcy9jb25zb2xlLnRhYmxlL2luZGV4LmpzIiwid2VicGFjazovL0JpblBhY2tpbmcvLi4vbm9kZV9tb2R1bGVzL2RlZmF1bHRzL2luZGV4LmpzIiwid2VicGFjazovL0JpblBhY2tpbmcvLi4vbm9kZV9tb2R1bGVzL2Vhc3ktdGFibGUvdGFibGUuanMiLCJ3ZWJwYWNrOi8vQmluUGFja2luZy8uLi9ub2RlX21vZHVsZXMvd2N3aWR0aC9jb21iaW5pbmcuanMiLCJ3ZWJwYWNrOi8vQmluUGFja2luZy8uLi9ub2RlX21vZHVsZXMvd2N3aWR0aC9pbmRleC5qcyIsIndlYnBhY2s6Ly9CaW5QYWNraW5nLy4vMkQvU2NvcmUudHMiLCJ3ZWJwYWNrOi8vQmluUGFja2luZy8uLzJEL2hldXJpc3RpY3MvQmFzZS50cyIsIndlYnBhY2s6Ly9CaW5QYWNraW5nLy4vMkQvaGV1cmlzdGljcy9CZXN0U2hvcnRTaWRlRml0LmpzIiwid2VicGFjazovL0JpblBhY2tpbmcvLi8yRC9Cb3gudHMiLCJ3ZWJwYWNrOi8vQmluUGFja2luZy8uLzJEL0Jpbi50cyIsIndlYnBhY2s6Ly9CaW5QYWNraW5nLy4vMkQvU2NvcmVCb2FyZEVudHJ5LnRzIiwid2VicGFjazovL0JpblBhY2tpbmcvLi8yRC9TY29yZUJvYXJkLnRzIiwid2VicGFjazovL0JpblBhY2tpbmcvLi8yRC9QYWNrZXIudHMiLCJ3ZWJwYWNrOi8vQmluUGFja2luZy8uLzJEL2hldXJpc3RpY3MvQmVzdEFyZWFGaXQuanMiLCJ3ZWJwYWNrOi8vQmluUGFja2luZy8uLzJEL2hldXJpc3RpY3MvQmVzdExvbmdTaWRlRml0LmpzIiwid2VicGFjazovL0JpblBhY2tpbmcvLi8yRC9oZXVyaXN0aWNzL0JvdHRvbUxlZnQuanMiLCJ3ZWJwYWNrOi8vQmluUGFja2luZy8uLzNEL3V0aWwuanMiLCJ3ZWJwYWNrOi8vQmluUGFja2luZy8uL2xpYi9sb2cuanMiLCJ3ZWJwYWNrOi8vQmluUGFja2luZy8uLzNEL0Jpbi5qcyIsIndlYnBhY2s6Ly9CaW5QYWNraW5nLy4vM0QvSXRlbS5qcyIsIndlYnBhY2s6Ly9CaW5QYWNraW5nLy4vM0QvUGFja2VyLmpzIiwid2VicGFjazovL0JpblBhY2tpbmcvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vQmluUGFja2luZy93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vQmluUGFja2luZy93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL0JpblBhY2tpbmcvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJ0aGlzIiwiY2xvbmUiLCJwYXJlbnQiLCJjaXJjdWxhciIsImRlcHRoIiwicHJvdG90eXBlIiwiZmlsdGVyIiwiYWxsUGFyZW50cyIsImFsbENoaWxkcmVuIiwidXNlQnVmZmVyIiwiQnVmZmVyIiwiSW5maW5pdHkiLCJfY2xvbmUiLCJjaGlsZCIsInByb3RvIiwiX19pc0FycmF5IiwiX19pc1JlZ0V4cCIsIlJlZ0V4cCIsInNvdXJjZSIsIl9fZ2V0UmVnRXhwRmxhZ3MiLCJsYXN0SW5kZXgiLCJfX2lzRGF0ZSIsIkRhdGUiLCJnZXRUaW1lIiwiaXNCdWZmZXIiLCJhbGxvY1Vuc2FmZSIsImxlbmd0aCIsImNvcHkiLCJPYmplY3QiLCJnZXRQcm90b3R5cGVPZiIsImNyZWF0ZSIsImluZGV4IiwiaW5kZXhPZiIsInB1c2giLCJpIiwiYXR0cnMiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJzZXQiLCJfX29ialRvU3RyIiwibyIsInRvU3RyaW5nIiwiY2FsbCIsInJlIiwiZmxhZ3MiLCJnbG9iYWwiLCJpZ25vcmVDYXNlIiwibXVsdGlsaW5lIiwiY2xvbmVQcm90b3R5cGUiLCJjIiwiY29uc29sZSIsIkVycm9yIiwidGFibGUiLCJjb25zb2xlVGFibGUiLCJpc1N0cmluZyIsInQiLCJ4IiwiYmluZCIsImlzQXJyYXlPZlN0cmluZ3MiLCJpc0FycmF5T2YiLCJpc0FycmF5T2ZBcnJheXMiLCJBcnJheSIsImlzQXJyYXkiLCJUYWJsZSIsImdldFRhYmxlIiwiYXJncyIsInNsaWNlIiwiYXJndW1lbnRzIiwic3RyVG9SZXR1cm4iLCJnZXRUaXRsZVRhYmxlIiwicHJpbnRUYWJsZVdpdGhDb2x1bW5UaXRsZXMiLCJmb3JFYWNoIiwiayIsImFycmF5VG9TdHJpbmciLCJvYmplY3RUb1N0cmluZyIsImlzVHlwZUZuIiwiYSIsImV2ZXJ5IiwiYXJyIiwicmVjb3JkIiwiY2VsbCIsImtleXMiLCJwcm9wZXJ0eSIsIm5ld1JvdyIsInRpdGxlcyIsIml0ZW1zIiwibm9Db25zb2xlIiwiaXRlbSIsInZhbHVlIiwic3RyIiwibG9nIiwicHJpbnRUaXRsZVRhYmxlIiwidGl0bGUiLCJyb3dMZW5ndGgiLCJsaW5lIiwib2JqIiwibWFwIiwia2V5Iiwib2JqZWN0VG9BcnJheSIsInNldHVwQ29uc29sZVRhYmxlIiwib3B0aW9ucyIsImRlZmF1bHRzIiwid2N3aWR0aCIsImUiLCJyb3dzIiwicm93IiwiX19wcmludGVycyIsInN0cmluZyIsInZhbCIsInVuZGVmaW5lZCIsInMiLCJyZXBsYWNlIiwibGVmdFBhZGRlciIsImNoIiwid2lkdGgiLCJsZW4iLCJqb2luIiwiY29sIiwicHJpbnRlciIsInNlcGFyYXRvciIsInBhZExlZnQiLCJyaWdodFBhZGRlciIsInBhZFJpZ2h0IiwiZWFjaCIsImZuIiwiY29tcGFyZSIsImIiLCJTdHJpbmciLCJudW1iZXIiLCJkaWdpdHMiLCJ0b0ZpeGVkIiwiY29sdW1ucyIsImNvbHMiLCJpZHgiLCJNYXRoIiwibWF4Iiwic29ydCIsInByaW50Iiwid2lkdGhzIiwib3V0IiwiaGFzT3duUHJvcGVydHkiLCJwdXNoRGVsaW1ldGVyIiwiY29uY2F0IiwidG90YWxzIiwiZm9yRWFjaFRvdGFsIiwiY2IiLCJhZ2dyIiwiYWNjIiwiaW5pdCIsInJlZHVjZSIsInByaW50VHJhbnNwb3NlZCIsIm9wdHMiLCJuYW1lUHJpbnRlciIsImNtcCIsImNvbXBhcmF0b3JzIiwib3JkZXIiLCJtIiwiZXhlYyIsInRvdGFsIiwic3VtIiwicHJlZml4IiwiYXZnIiwiZm9ybWF0IiwicGFyYW1zIiwibmFtZSIsImNvbWJpbmluZyIsIkRFRkFVTFRTIiwibnVsIiwiY29udHJvbCIsIndjc3dpZHRoIiwibiIsImNoYXJDb2RlQXQiLCJ1Y3MiLCJtaWQiLCJtaW4iLCJmbG9vciIsImJpc2VhcmNoIiwiY29uZmlnIiwic2NvcmVfMSIsInNjb3JlXzIiLCJTY29yZSIsIk1BWF9JTlQiLCJ2YWx1ZU9mIiwiYXNzaWduIiwib3RoZXIiLCJpc0JsYW5rIiwiZGVjcmVhc2VCeSIsImRlbHRhIiwiTnVtYmVyIiwiTUFYX1NBRkVfSU5URUdFUiIsImZpbmRQb3NpdGlvbkZvck5ld05vZGUiLCJib3giLCJmcmVlUmVjdHMiLCJiZXN0U2NvcmUiLCJoZWlnaHQiLCJmcmVlUmVjdCIsInRyeVBsYWNlUmVjdEluIiwiY29uc3RyYWluUm90YXRpb24iLCJyZWN0V2lkdGgiLCJyZWN0SGVpZ2h0Iiwic2NvcmUiLCJjYWxjdWxhdGVTY29yZSIsInkiLCJwYWNrZWQiLCJCZXN0U2hvcnRTaWRlRml0IiwiYWJzIiwicm90YXRlIiwiaGV1cmlzdGljIiwiYm94ZXMiLCJmcmVlUmVjdGFuZ2xlcyIsIkZyZWVTcGFjZUJveCIsImJveGVzQXJlYSIsImFyZWEiLCJlZmZpY2llbmN5IiwiaW5zZXJ0IiwibnVtUmVjdGFuZ2xlc1RvUHJvY2VzcyIsInNwbGl0RnJlZU5vZGUiLCJzcGxpY2UiLCJwcnVuZUZyZWVMaXN0Iiwic2NvcmVGb3IiLCJjb3B5Qm94IiwiaXNMYXJnZXJUaGFuIiwiZnJlZU5vZGUiLCJ1c2VkTm9kZSIsInRyeVNwbGl0RnJlZU5vZGVWZXJ0aWNhbGx5IiwidHJ5U3BsaXRGcmVlTm9kZUhvcml6b250YWxseSIsInRyeUxlYXZlRnJlZVNwYWNlQXRUb3AiLCJ0cnlMZWF2ZUZyZWVTcGFjZUF0Qm90dG9tIiwibmV3Tm9kZSIsInRyeUxlYXZlRnJlZVNwYWNlT25MZWZ0IiwidHJ5TGVhdmVGcmVlU3BhY2VPblJpZ2h0IiwiaiIsImlzQ29udGFpbmVkSW4iLCJyZWN0QSIsInJlY3RCIiwiYmluIiwiY2FsY3VsYXRlIiwiZml0IiwiYmlucyIsImVudHJpZXMiLCJhZGRCaW5FbnRyaWVzIiwiZGVidWciLCJlbnRyeSIsImxhYmVsIiwibGFyZ2VzdE5vdEZpdGluZ0JveCIsInVuZml0IiwiZml0dGluZ0JveGVzIiwiaW5jbHVkZXMiLCJiZXN0Rml0IiwiYmVzdCIsInJlbW92ZUJveCIsImFkZEJpbiIsImN1cnJlbnRCb3hlcyIsInJlY2FsY3VsYXRlQmluIiwiU2V0IiwidW5wYWNrZWRCb3hlcyIsInBhY2siLCJwYWNrZWRCb3hlcyIsImxpbWl0IiwiYm9hcmQiLCJCZXN0QXJlYUZpdCIsImFyZWFGaXQiLCJsZWZ0T3Zlckhvcml6IiwibGVmdE92ZXJWZXJ0Iiwic2hvcnRTaWRlRml0IiwiQmVzdExvbmdTaWRlRml0IiwicmV2ZXJzZSIsIkJvdHRvbUxlZnQiLCJ0b3BTaWRlWSIsImZhY3RvcmVkSW50ZWdlciIsInJvdW5kIiwibmFtZXNwYWNlIiwiY3JlYXRlTG9nZ2VyIiwiQmluIiwidyIsImgiLCJkIiwibXciLCJtYXhXZWlnaHQiLCJnZXRXaWR0aCIsImdldEhlaWdodCIsImdldERlcHRoIiwid2VpZ2h0IiwiZ2V0V2VpZ2h0IiwiZ2V0TWF4V2VpZ2h0IiwiZ2V0UGFja2VkV2VpZ2h0Iiwicm90YXRpb25UeXBlIiwiZ2V0RGltZW5zaW9uIiwicG93Iiwicm90YXRpb25TY29yZXMiLCJhbGxvd2VkUm90YXRpb24iLCJyIiwic2NvcmVSb3RhdGlvbiIsInAiLCJyb3RhdGlvbnMiLCJnZXRCZXN0Um90YXRpb25PcmRlciIsInBvc2l0aW9uIiwiaW50ZXJzZWN0IiwiU3RhcnRQb3NpdGlvbiIsIlJvdGF0aW9uVHlwZVN0cmluZ3MiLCJJdGVtIiwid2ciLCJnZXRSb3RhdGlvblR5cGUiLCJpMiIsInJlY3RJbnRlcnNlY3QiLCJnZXRSb3RhdGlvblR5cGVTdHJpbmciLCJpMSIsImQxIiwiZDIiLCJjeDEiLCJjeTEiLCJjeDIiLCJjeTIiLCJpeCIsIml5IiwiUGFja2VyIiwiX2kiLCJ3ZWlnaEl0ZW0iLCJwdXRJdGVtIiwidiIsImdldFZvbHVtZSIsImIyIiwidW5maXRJdGVtcyIsInVucGFja2VkIiwiZ2V0QmlnZ2VyQmluVGhhbiIsInBhY2tUb0JpbiIsImZpdHRlZCIsImxvb2t1cCIsIl9wdCIsIl9qIiwicHYiLCJpYiIsImZpbmRGaXR0ZWRCaW4iLCJ1bmZpdEl0ZW0iLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZGVmaW5pdGlvbiIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInByb3AiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBMkNBLEVBQU1DLEdBQzFCLGlCQUFaQyxTQUEwQyxpQkFBWEMsT0FDeENBLE9BQU9ELFFBQVVELElBQ1EsbUJBQVhHLFFBQXlCQSxPQUFPQyxJQUM5Q0QsT0FBTyxhQUFjLEdBQUlILEdBQ0MsaUJBQVpDLFFBQ2RBLFFBQW9CLFdBQUlELElBRXhCRCxFQUFpQixXQUFJQyxJQVJ2QixDQVNHSyxNQUFNLFdBQ1QsTyxpQ0NWQSxJQUFJQyxFQUFRLFdBQ1osYUFvQkEsU0FBU0EsRUFBTUMsRUFBUUMsRUFBVUMsRUFBT0MsR0FFZCxpQkFBYkYsSUFDVEMsRUFBUUQsRUFBU0MsTUFDakJDLEVBQVlGLEVBQVNFLFVBQ1pGLEVBQVNHLE9BQ2xCSCxF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VSxDQUFFLEtBQVEsTUFBVSxDQUFFLEtBQVEsTUFDbEQsQ0FBRSxLQUFRLE1BQVUsQ0FBRSxLQUFRLE1BQVUsQ0FBRSxLQUFRLE1BQ2xELENBQUUsS0FBUSxNQUFVLENBQUUsS0FBUSxNQUFVLENBQUUsS0FBUSxNQUNsRCxDQUFFLEtBQVEsTUFBVSxDQUFFLEtBQVEsTUFBVSxDQUFFLEtBQVEsTUFDbEQsQ0FBRSxLQUFRLE1BQVUsQ0FBRSxLQUFRLE1BQVUsQ0FBRSxLQUFRLE1BQ2xELENBQUUsS0FBUSxNQUFVLENBQUUsS0FBUSxNQUFVLENBQUUsS0FBUSxNQUNsRCxDQUFFLEtBQVEsTUFBVSxDQUFFLEtBQVEsTUFBVSxDQUFFLEtBQVEsTUFDbEQsQ0FBRSxLQUFRLE1BQVUsQ0FBRSxLQUFRLE1BQVUsQ0FBRSxLQUFRLE1BQ2xELENBQUUsS0FBUSxNQUFVLENBQUUsS0FBUSxNQUFVLENBQUUsS0FBUSxNQUNsRCxDQUFFLEtBQVEsTUFBVSxDQUFFLEtBQVEsTUFBVSxDQUFFLEtBQVEsTUFDbEQsQ0FBRSxLQUFRLE1BQVUsQ0FBRSxLQUFRLE1BQVUsQ0FBRSxLQUFRLE1BQ2xELENBQUUsS0FBUSxNQUFVLENBQUUsS0FBUSxNQUFVLENBQUUsS0FBUSxNQUNsRCxDQUFFLEtBQVEsTUFBVSxDQUFFLEtBQVEsTUFBVSxDQUFFLEtBQVEsTUFDbEQsQ0FBRSxLQUFRLE1BQVUsQ0FBRSxLQUFRLE1BQVUsQ0FBRSxLQUFRLE1BQ2xELENBQUUsS0FBUSxNQUFVLENBQUUsS0FBUSxNQUFVLENBQUUsS0FBUSxNQUNsRCxDQUFFLEtBQVEsTUFBVSxDQUFFLEtBQVEsTUFBVSxDQUFFLEtBQVEsTUFDbEQsQ0FBRSxLQUFRLE1BQVUsQ0FBRSxLQUFRLE1BQVUsQ0FBRSxLQUFRLE1BQ2xELENBQUUsS0FBUSxNQUFVLENBQUUsS0FBUSxNQUFVLENBQUUsS0FBUSxNQUNsRCxDQUFFLEtBQVEsTUFBVSxDQUFFLEtBQVEsTUFBVSxDQUFFLEtBQVEsTUFDbEQsQ0FBRSxLQUFRLE1BQVUsQ0FBRSxLQUFRLE1BQVUsQ0FBRSxLQUFRLE1BQ2xELENBQUUsS0FBUSxNQUFVLENBQUUsS0FBUSxNQUFVLENBQUUsS0FBUSxNQUNsRCxDQUFFLEtBQVEsTUFBVSxDQUFFLEtBQVEsTUFBVSxDQUFFLEtBQVEsTUFDbEQsQ0FBRSxLQUFRLE1BQVUsQ0FBRSxLQUFRLE1BQVUsQ0FBRSxLQUFRLE1BQ2xELENBQUUsS0FBUSxNQUFVLENBQUUsS0FBUSxNQUFVLENBQUUsS0FBUSxNQUNsRCxDQUFFLEtBQVEsTUFBVSxDQUFFLEtBQVEsTUFBVSxDQUFFLEtBQVEsTUFDbEQsQ0FBRSxLQUFRLE1BQVUsQ0FBRSxLQUFRLE1BQVUsQ0FBRSxLQUFRLE1BQ2xELENBQUUsS0FBUSxNQUFVLENBQUUsS0FBUSxNQUFVLENBQUUsS0FBUSxNQUNsRCxDQUFFLEtBQVEsTUFBVSxDQUFFLEtBQVEsTUFBVSxDQUFFLEtBQVEsTUFDbEQsQ0FBRSxLQUFRLE1BQVUsQ0FBRSxLQUFRLE1BQVUsQ0FBRSxLQUFRLE1BQ2xELENBQUUsS0FBUSxNQUFVLENBQUUsS0FBUSxNQUFVLENBQUUsTUFBUSxPQUNsRCxDQUFFLE1BQVEsT0FBVSxDQUFFLE1BQVEsT0FBVSxDQUFFLE1BQVEsT0FDbEQsQ0FBRSxNQUFRLE9BQVUsQ0FBRSxNQUFRLE9BQVUsQ0FBRSxNQUFRLE9BQ2xELENBQUUsTUFBUSxPQUFVLENBQUUsTUFBUSxPQUFVLENBQUUsTUFBUSxPQUNsRCxDQUFFLE1BQVMsT0FBVyxDQUFFLE1BQVMsT0FBVyxDQUFFLE1BQVMsT0FDdkQsQ0FBRSxNQUFTLE9BQVcsQ0FBRSxNQUFTLE9BQVcsQ0FBRSxPQUFTLFFBQ3ZELENBQUUsT0FBUyxRQUFXLENBQUUsT0FBUyxRQUFXLENBQUUsT0FBUyxRQUN2RCxDQUFFLE9BQVMsUUFBVyxDQUFFLE9BQVMsUUFBVyxDQUFFLE9BQVMsUUFDdkQsQ0FBRSxPQUFTLFUsaUNDOUNmLElBQUl3RyxFQUFXLEVBQVEsS0FDbkJnRSxFQUFZLEVBQVEsS0FFcEJDLEVBQVcsQ0FDYkMsSUFBSyxFQUNMQyxRQUFTLEdBc0NYLFNBQVNDLEVBQVNoRixFQUFL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c0ksZUFBZWxHLEtBQUtxRCxFQUFLdVAsSUNDL0ZQLEVBQW9CNUMsRUFBSSxTQUFTdFMsR0FDWCxvQkFBWDBWLFFBQTBCQSxPQUFPQyxhQUMxQzNULE9BQU9zVCxlQUFldFYsRUFBUzBWLE9BQU9DLFlBQWEsQ0FBRWhRLE1BQU8sV0FFN0QzRCxPQUFPc1QsZUFBZXRWLEVBQVMsYUFBYyxDQUFFMkYsT0FBTyxLIiwiZmlsZSI6IkJpblBhY2tpbmcubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoXCJCaW5QYWNraW5nXCIsIFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIkJpblBhY2tpbmdcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wiQmluUGFja2luZ1wiXSA9IGZhY3RvcnkoKTtcbn0pKHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuICIsInZhciBjbG9uZSA9IChmdW5jdGlvbigpIHtcbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBDbG9uZXMgKGNvcGllcykgYW4gT2JqZWN0IHVzaW5nIGRlZXAgY29weWluZy5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHN1cHBvcnRzIGNpcmN1bGFyIHJlZmVyZW5jZXMgYnkgZGVmYXVsdCwgYnV0IGlmIHlvdSBhcmUgY2VydGFpblxuICogdGhlcmUgYXJlIG5vIGNpcmN1bGFyIHJlZmVyZW5jZXMgaW4geW91ciBvYmplY3QsIHlvdSBjYW4gc2F2ZSBzb21lIENQVSB0aW1lXG4gKiBieSBjYWxsaW5nIGNsb25lKG9iaiwgZmFsc2UpLlxuICpcbiAqIENhdXRpb246IGlmIGBjaXJjdWxhcmAgaXMgZmFsc2UgYW5kIGBwYXJlbnRgIGNvbnRhaW5zIGNpcmN1bGFyIHJlZmVyZW5jZXMsXG4gKiB5b3VyIHByb2dyYW0gbWF5IGVudGVyIGFuIGluZmluaXRlIGxvb3AgYW5kIGNyYXNoLlxuICpcbiAqIEBwYXJhbSBgcGFyZW50YCAtIHRoZSBvYmplY3QgdG8gYmUgY2xvbmVkXG4gKiBAcGFyYW0gYGNpcmN1bGFyYCAtIHNldCB0byB0cnVlIGlmIHRoZSBvYmplY3QgdG8gYmUgY2xvbmVkIG1heSBjb250YWluXG4gKiAgICBjaXJjdWxhciByZWZlcmVuY2VzLiAob3B0aW9uYWwgLSB0cnVlIGJ5IGRlZmF1bHQpXG4gKiBAcGFyYW0gYGRlcHRoYCAtIHNldCB0byBhIG51bWJlciBpZiB0aGUgb2JqZWN0IGlzIG9ubHkgdG8gYmUgY2xvbmVkIHRvXG4gKiAgICBhIHBhcnRpY3VsYXIgZGVwdGguIChvcHRpb25hbCAtIGRlZmF1bHRzIHRvIEluZmluaXR5KVxuICogQHBhcmFtIGBwcm90b3R5cGVgIC0gc2V0cyB0aGUgcHJvdG90eXBlIHRvIGJlIHVzZWQgd2hlbiBjbG9uaW5nIGFuIG9iamVjdC5cbiAqICAgIChvcHRpb25hbCAtIGRlZmF1bHRzIHRvIHBhcmVudCBwcm90b3R5cGUpLlxuKi9cbmZ1bmN0aW9uIGNsb25lKHBhcmVudCwgY2lyY3VsYXIsIGRlcHRoLCBwcm90b3R5cGUpIHtcbiAgdmFyIGZpbHRlcjtcbiAgaWYgKHR5cGVvZiBjaXJjdWxhciA9PT0gJ29iamVjdCcpIHtcbiAgICBkZXB0aCA9IGNpcmN1bGFyLmRlcHRoO1xuICAgIHByb3RvdHlwZSA9IGNpcmN1bGFyLnByb3RvdHlwZTtcbiAgICBmaWx0ZXIgPSBjaXJjdWxhci5maWx0ZXI7XG4gICAgY2lyY3VsYXIgPSBjaXJjdWxhci5jaXJjdWxhclxuICB9XG4gIC8vIG1haW50YWluIHR3byBhcnJheXMgZm9yIGNpcmN1bGFyIHJlZmVyZW5jZXMsIHdoZXJlIGNvcnJlc3BvbmRpbmcgcGFyZW50c1xuICAvLyBhbmQgY2hpbGRyZW4gaGF2ZSB0aGUgc2FtZSBpbmRleFxuICB2YXIgYWxsUGFyZW50cyA9IFtdO1xuICB2YXIgYWxsQ2hpbGRyZW4gPSBbXTtcblxuICB2YXIgdXNlQnVmZmVyID0gdHlwZW9mIEJ1ZmZlciAhPSAndW5kZWZpbmVkJztcblxuICBpZiAodHlwZW9mIGNpcmN1bGFyID09ICd1bmRlZmluZWQnKVxuICAgIGNpcmN1bGFyID0gdHJ1ZTtcblxuICBpZiAodHlwZW9mIGRlcHRoID09ICd1bmRlZmluZWQnKVxuICAgIGRlcHRoID0gSW5maW5pdHk7XG5cbiAgLy8gcmVjdXJzZSB0aGlzIGZ1bmN0aW9uIHNvIHdlIGRvbid0IHJlc2V0IGFsbFBhcmVudHMgYW5kIGFsbENoaWxkcmVuXG4gIGZ1bmN0aW9uIF9jbG9uZShwYXJlbnQsIGRlcHRoKSB7XG4gICAgLy8gY2xvbmluZyBudWxsIGFsd2F5cyByZXR1cm5zIG51bGxcbiAgICBpZiAocGFyZW50ID09PSBudWxsKVxuICAgICAgcmV0dXJuIG51bGw7XG5cbiAgICBpZiAoZGVwdGggPT0gMClcbiAgICAgIHJldHVybiBwYXJlbnQ7XG5cbiAgICB2YXIgY2hpbGQ7XG4gICAgdmFyIHByb3RvO1xuICAgIGlmICh0eXBlb2YgcGFyZW50ICE9ICdvYmplY3QnKSB7XG4gICAgICByZXR1cm4gcGFyZW50O1xuICAgIH1cblxuICAgIGlmIChjbG9uZS5fX2lzQXJyYXkocGFyZW50KSkge1xuICAgICAgY2hpbGQgPSBbXTtcbiAgICB9IGVsc2UgaWYgKGNsb25lLl9faXNSZWdFeHAocGFyZW50KSkge1xuICAgICAgY2hpbGQgPSBuZXcgUmVnRXhwKHBhcmVudC5zb3VyY2UsIF9fZ2V0UmVnRXhwRmxhZ3MocGFyZW50KSk7XG4gICAgICBpZiAocGFyZW50Lmxhc3RJbmRleCkgY2hpbGQubGFzdEluZGV4ID0gcGFyZW50Lmxhc3RJbmRleDtcbiAgICB9IGVsc2UgaWYgKGNsb25lLl9faXNEYXRlKHBhcmVudCkpIHtcbiAgICAgIGNoaWxkID0gbmV3IERhdGUocGFyZW50LmdldFRpbWUoKSk7XG4gICAgfSBlbHNlIGlmICh1c2VCdWZmZXIgJiYgQnVmZmVyLmlzQnVmZmVyKHBhcmVudCkpIHtcbiAgICAgIGlmIChCdWZmZXIuYWxsb2NVbnNhZmUpIHtcbiAgICAgICAgLy8gTm9kZS5qcyA+PSA0LjUuMFxuICAgICAgICBjaGlsZCA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShwYXJlbnQubGVuZ3RoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE9sZGVyIE5vZGUuanMgdmVyc2lvbnNcbiAgICAgICAgY2hpbGQgPSBuZXcgQnVmZmVyKHBhcmVudC5sZW5ndGgpO1xuICAgICAgfVxuICAgICAgcGFyZW50LmNvcHkoY2hpbGQpO1xuICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodHlwZW9mIHByb3RvdHlwZSA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihwYXJlbnQpO1xuICAgICAgICBjaGlsZCA9IE9iamVjdC5jcmVhdGUocHJvdG8pO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGNoaWxkID0gT2JqZWN0LmNyZWF0ZShwcm90b3R5cGUpO1xuICAgICAgICBwcm90byA9IHByb3RvdHlwZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY2lyY3VsYXIpIHtcbiAgICAgIHZhciBpbmRleCA9IGFsbFBhcmVudHMuaW5kZXhPZihwYXJlbnQpO1xuXG4gICAgICBpZiAoaW5kZXggIT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIGFsbENoaWxkcmVuW2luZGV4XTtcbiAgICAgIH1cbiAgICAgIGFsbFBhcmVudHMucHVzaChwYXJlbnQpO1xuICAgICAgYWxsQ2hpbGRyZW4ucHVzaChjaGlsZCk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSBpbiBwYXJlbnQpIHtcbiAgICAgIHZhciBhdHRycztcbiAgICAgIGlmIChwcm90bykge1xuICAgICAgICBhdHRycyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocHJvdG8sIGkpO1xuICAgICAgfVxuXG4gICAgICBpZiAoYXR0cnMgJiYgYXR0cnMuc2V0ID09IG51bGwpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjaGlsZFtpXSA9IF9jbG9uZShwYXJlbnRbaV0sIGRlcHRoIC0gMSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNoaWxkO1xuICB9XG5cbiAgcmV0dXJuIF9jbG9uZShwYXJlbnQsIGRlcHRoKTtcbn1cblxuLyoqXG4gKiBTaW1wbGUgZmxhdCBjbG9uZSB1c2luZyBwcm90b3R5cGUsIGFjY2VwdHMgb25seSBvYmplY3RzLCB1c2VmdWxsIGZvciBwcm9wZXJ0eVxuICogb3ZlcnJpZGUgb24gRkxBVCBjb25maWd1cmF0aW9uIG9iamVjdCAobm8gbmVzdGVkIHByb3BzKS5cbiAqXG4gKiBVU0UgV0lUSCBDQVVUSU9OISBUaGlzIG1heSBub3QgYmVoYXZlIGFzIHlvdSB3aXNoIGlmIHlvdSBkbyBub3Qga25vdyBob3cgdGhpc1xuICogd29ya3MuXG4gKi9cbmNsb25lLmNsb25lUHJvdG90eXBlID0gZnVuY3Rpb24gY2xvbmVQcm90b3R5cGUocGFyZW50KSB7XG4gIGlmIChwYXJlbnQgPT09IG51bGwpXG4gICAgcmV0dXJuIG51bGw7XG5cbiAgdmFyIGMgPSBmdW5jdGlvbiAoKSB7fTtcbiAgYy5wcm90b3R5cGUgPSBwYXJlbnQ7XG4gIHJldHVybiBuZXcgYygpO1xufTtcblxuLy8gcHJpdmF0ZSB1dGlsaXR5IGZ1bmN0aW9uc1xuXG5mdW5jdGlvbiBfX29ialRvU3RyKG8pIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKTtcbn07XG5jbG9uZS5fX29ialRvU3RyID0gX19vYmpUb1N0cjtcblxuZnVuY3Rpb24gX19pc0RhdGUobykge1xuICByZXR1cm4gdHlwZW9mIG8gPT09ICdvYmplY3QnICYmIF9fb2JqVG9TdHIobykgPT09ICdbb2JqZWN0IERhdGVdJztcbn07XG5jbG9uZS5fX2lzRGF0ZSA9IF9faXNEYXRlO1xuXG5mdW5jdGlvbiBfX2lzQXJyYXkobykge1xuICByZXR1cm4gdHlwZW9mIG8gPT09ICdvYmplY3QnICYmIF9fb2JqVG9TdHIobykgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuY2xvbmUuX19pc0FycmF5ID0gX19pc0FycmF5O1xuXG5mdW5jdGlvbiBfX2lzUmVnRXhwKG8pIHtcbiAgcmV0dXJuIHR5cGVvZiBvID09PSAnb2JqZWN0JyAmJiBfX29ialRvU3RyKG8pID09PSAnW29iamVjdCBSZWdFeHBdJztcbn07XG5jbG9uZS5fX2lzUmVnRXhwID0gX19pc1JlZ0V4cDtcblxuZnVuY3Rpb24gX19nZXRSZWdFeHBGbGFncyhyZSkge1xuICB2YXIgZmxhZ3MgPSAnJztcbiAgaWYgKHJlLmdsb2JhbCkgZmxhZ3MgKz0gJ2cnO1xuICBpZiAocmUuaWdub3JlQ2FzZSkgZmxhZ3MgKz0gJ2knO1xuICBpZiAocmUubXVsdGlsaW5lKSBmbGFncyArPSAnbSc7XG4gIHJldHVybiBmbGFncztcbn07XG5jbG9uZS5fX2dldFJlZ0V4cEZsYWdzID0gX19nZXRSZWdFeHBGbGFncztcblxucmV0dXJuIGNsb25lO1xufSkoKTtcblxuaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gY2xvbmU7XG59XG4iLCIoZnVuY3Rpb24gKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgZnVuY3Rpb24gc2V0dXBDb25zb2xlVGFibGUoKSB7XG4gICAgaWYgKHR5cGVvZiBjb25zb2xlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdXZWlyZCwgY29uc29sZSBvYmplY3QgaXMgdW5kZWZpbmVkJyk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY29uc29sZS50YWJsZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gaWYgaXQgaXMgbm90IE9VUiBmdW5jdGlvbiwgb3ZlcndyaXRlIGl0XG4gICAgICBpZiAoY29uc29sZS50YWJsZSA9PT0gY29uc29sZVRhYmxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1R5cGUodCwgeCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB4ID09PSB0O1xuICAgIH1cblxuICAgIHZhciBpc1N0cmluZyA9IGlzVHlwZS5iaW5kKG51bGwsICdzdHJpbmcnKTtcblxuICAgIGZ1bmN0aW9uIGlzQXJyYXlPZihpc1R5cGVGbiwgYSkge1xuICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYSkgJiZcbiAgICAgICAgYS5ldmVyeShpc1R5cGVGbik7XG4gICAgfVxuXG4gICAgdmFyIGlzQXJyYXlPZlN0cmluZ3MgPSBpc0FycmF5T2YuYmluZChudWxsLCBpc1N0cmluZyk7XG4gICAgdmFyIGlzQXJyYXlPZkFycmF5cyA9IGlzQXJyYXlPZi5iaW5kKG51bGwsIEFycmF5LmlzQXJyYXkpO1xuXG4gICAgdmFyIFRhYmxlID0gcmVxdWlyZSgnZWFzeS10YWJsZScpO1xuXG4gICAgZnVuY3Rpb24gYXJyYXlUb1N0cmluZyhhcnIpIHtcbiAgICAgIHZhciB0ID0gbmV3IFRhYmxlKCk7XG4gICAgICBhcnIuZm9yRWFjaChmdW5jdGlvbiAocmVjb3JkKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcmVjb3JkID09PSAnc3RyaW5nJyB8fFxuICAgICAgICAgIHR5cGVvZiByZWNvcmQgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgdC5jZWxsKCdpdGVtJywgcmVjb3JkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBhc3N1bWUgcGxhaW4gb2JqZWN0XG4gICAgICAgICAgT2JqZWN0LmtleXMocmVjb3JkKS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wZXJ0eSkge1xuICAgICAgICAgICAgdC5jZWxsKHByb3BlcnR5LCByZWNvcmRbcHJvcGVydHldKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0Lm5ld1JvdygpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gdC50b1N0cmluZygpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHByaW50VGFibGVXaXRoQ29sdW1uVGl0bGVzKHRpdGxlcywgaXRlbXMsbm9Db25zb2xlKSB7XG4gICAgICB2YXIgdCA9IG5ldyBUYWJsZSgpO1xuICAgICAgaXRlbXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICBpdGVtLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBrKSB7XG4gICAgICAgICAgdC5jZWxsKHRpdGxlc1trXSwgdmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgdC5uZXdSb3coKTtcbiAgICAgIH0pO1xuICAgICAgdmFyIHN0ciA9IHQudG9TdHJpbmcoKTtcblxuICAgICAgcmV0dXJuIG5vQ29uc29sZSA/IHN0ciA6IGNvbnNvbGUubG9nKHN0cik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJpbnRUaXRsZVRhYmxlKHRpdGxlLCBhcnIpIHtcbiAgICAgIHZhciBzdHIgPSBhcnJheVRvU3RyaW5nKGFycik7XG4gICAgICB2YXIgcm93TGVuZ3RoID0gc3RyLmluZGV4T2YoJ1xcbicpO1xuICAgICAgaWYgKHJvd0xlbmd0aCA+IDApIHtcbiAgICAgICAgaWYgKHRpdGxlLmxlbmd0aCA+IHJvd0xlbmd0aCkge1xuICAgICAgICAgIHJvd0xlbmd0aCA9IHRpdGxlLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmxvZyh0aXRsZSk7XG4gICAgICAgIHZhciBzZXAgPSAnLScsIGssIGxpbmUgPSAnJztcbiAgICAgICAgZm9yIChrID0gMDsgayA8IHJvd0xlbmd0aDsgayArPSAxKSB7XG4gICAgICAgICAgbGluZSArPSBzZXA7XG4gICAgICAgfVxuICAgICAgICBjb25zb2xlLmxvZyhsaW5lKTtcbiAgICAgIH1cbiAgICAgIGNvbnNvbGUubG9nKHN0cik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0VGl0bGVUYWJsZSh0aXRsZSwgYXJyKSB7XG4gICAgICB2YXIgc3RyID0gYXJyYXlUb1N0cmluZyhhcnIpO1xuICAgICAgdmFyIHJvd0xlbmd0aCA9IHN0ci5pbmRleE9mKCdcXG4nKTtcbiAgICAgIHZhciBzdHJUb1JldHVybiA9ICcnO1xuICAgICAgaWYgKHJvd0xlbmd0aCA+IDApIHtcbiAgICAgICAgaWYgKHRpdGxlLmxlbmd0aCA+IHJvd0xlbmd0aCkge1xuICAgICAgICAgIHJvd0xlbmd0aCA9IHRpdGxlLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgc3RyVG9SZXR1cm4gKz0gdGl0bGUgKyAnXFxuJztcbiAgICAgICAgdmFyIHNlcCA9ICctJywgaywgbGluZSA9ICcnO1xuICAgICAgICBmb3IgKGsgPSAwOyBrIDwgcm93TGVuZ3RoOyBrICs9IDEpIHtcbiAgICAgICAgICBsaW5lICs9IHNlcDtcbiAgICAgICAgfVxuXHRcbiAgICAgICAgc3RyVG9SZXR1cm4gKz0gbGluZSArICdcXG4nO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3RyVG9SZXR1cm4gKyBzdHI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb2JqZWN0VG9BcnJheShvYmopIHtcbiAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICAgIHJldHVybiBrZXlzLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgdmFsdWU6IG9ialtrZXldXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvYmplY3RUb1N0cmluZyhvYmopIHtcbiAgICAgIHJldHVybiBhcnJheVRvU3RyaW5nKG9iamVjdFRvQXJyYXkob2JqKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY29uc29sZVRhYmxlICgpIHtcbiAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcblxuICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAyICYmXG4gICAgICAgIHR5cGVvZiBhcmdzWzBdID09PSAnc3RyaW5nJyAmJlxuICAgICAgICBBcnJheS5pc0FycmF5KGFyZ3NbMV0pKSB7XG5cbiAgICAgICAgcmV0dXJuIHByaW50VGl0bGVUYWJsZShhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAyICYmXG4gICAgICAgIGlzQXJyYXlPZlN0cmluZ3MoYXJnc1swXSkgJiZcbiAgICAgICAgaXNBcnJheU9mQXJyYXlzKGFyZ3NbMV0pKSB7XG4gICAgICAgIHJldHVybiBwcmludFRhYmxlV2l0aENvbHVtblRpdGxlcyhhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgIH1cblxuICAgICAgYXJncy5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gICAgICAgIGlmICh0eXBlb2YgayA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2coayk7XG4gICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShrKSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGFycmF5VG9TdHJpbmcoaykpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBrID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgIGNvbnNvbGUubG9nKG9iamVjdFRvU3RyaW5nKGspKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgbW9kdWxlLmV4cG9ydHMuZ2V0VGFibGUgPSBmdW5jdGlvbigpe1xuICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuXG4gICAgICB2YXIgc3RyVG9SZXR1cm4gPSAnJztcblxuICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAyICYmXG4gICAgICAgIHR5cGVvZiBhcmdzWzBdID09PSAnc3RyaW5nJyAmJlxuICAgICAgICBBcnJheS5pc0FycmF5KGFyZ3NbMV0pKSB7XG5cbiAgICAgICAgcmV0dXJuIGdldFRpdGxlVGFibGUoYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMiAmJlxuICAgICAgICBpc0FycmF5T2ZTdHJpbmdzKGFyZ3NbMF0pICYmXG4gICAgICAgIGlzQXJyYXlPZkFycmF5cyhhcmdzWzFdKSkge1xuICAgICAgICByZXR1cm4gcHJpbnRUYWJsZVdpdGhDb2x1bW5UaXRsZXMoYXJnc1swXSwgYXJnc1sxXSx0cnVlKTtcbiAgICAgIH1cblxuICAgICAgYXJncy5mb3JFYWNoKGZ1bmN0aW9uIChrLGkpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBrID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIHN0clRvUmV0dXJuICs9IGs7XG5cdCAgaWYgKGkgIT09IGFyZ3MubGVuZ3RoIC0gMSl7XG5cdCAgICBzdHJUb1JldHVybiArPSAnXFxuJztcblx0ICB9XG4gICAgICAgICAgcmV0dXJuIDtcbiAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGspKSB7XG4gICAgICAgICAgc3RyVG9SZXR1cm4gKz0gYXJyYXlUb1N0cmluZyhrKSArICdcXG4nO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBrID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgIHN0clRvUmV0dXJuICs9IG9iamVjdFRvU3RyaW5nKGspO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHN0clRvUmV0dXJuO1xuICAgIH07XG5cbiAgICBjb25zb2xlLnRhYmxlID0gY29uc29sZVRhYmxlO1xuICB9XG5cbiAgc2V0dXBDb25zb2xlVGFibGUoKTtcbn0oKSk7XG4iLCJ2YXIgY2xvbmUgPSByZXF1aXJlKCdjbG9uZScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9wdGlvbnMsIGRlZmF1bHRzKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIE9iamVjdC5rZXlzKGRlZmF1bHRzKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgIGlmICh0eXBlb2Ygb3B0aW9uc1trZXldID09PSAndW5kZWZpbmVkJykge1xuICAgICAgb3B0aW9uc1trZXldID0gY2xvbmUoZGVmYXVsdHNba2V5XSk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gb3B0aW9ucztcbn07IiwidmFyIHdjd2lkdGhcblxudHJ5IHtcbiAgd2N3aWR0aCA9IHJlcXVpcmUoJ3djd2lkdGgnKVxufSBjYXRjaChlKSB7fVxuXG5tb2R1bGUuZXhwb3J0cyA9IFRhYmxlXG5cbmZ1bmN0aW9uIFRhYmxlKCkge1xuICB0aGlzLnJvd3MgPSBbXVxuICB0aGlzLnJvdyA9IHtfX3ByaW50ZXJzIDoge319XG59XG5cbi8qKlxuICogUHVzaCB0aGUgY3VycmVudCByb3cgdG8gdGhlIHRhYmxlIGFuZCBzdGFydCBhIG5ldyBvbmVcbiAqXG4gKiBAcmV0dXJucyB7VGFibGV9IGB0aGlzYFxuICovXG5cblRhYmxlLnByb3RvdHlwZS5uZXdSb3cgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5yb3dzLnB1c2godGhpcy5yb3cpXG4gIHRoaXMucm93ID0ge19fcHJpbnRlcnMgOiB7fX1cbiAgcmV0dXJuIHRoaXNcbn1cblxuLyoqXG4gKiBXcml0ZSBjZWxsIGluIHRoZSBjdXJyZW50IHJvd1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBjb2wgICAgICAgICAgLSBDb2x1bW4gbmFtZVxuICogQHBhcmFtIHtBbnl9IHZhbCAgICAgICAgICAgICAtIENlbGwgdmFsdWVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmludGVyXSAgLSBQcmludGVyIGZ1bmN0aW9uIHRvIGZvcm1hdCB0aGUgdmFsdWVcbiAqIEByZXR1cm5zIHtUYWJsZX0gYHRoaXNgXG4gKi9cblxuVGFibGUucHJvdG90eXBlLmNlbGwgPSBmdW5jdGlvbihjb2wsIHZhbCwgcHJpbnRlcikge1xuICB0aGlzLnJvd1tjb2xdID0gdmFsXG4gIHRoaXMucm93Ll9fcHJpbnRlcnNbY29sXSA9IHByaW50ZXIgfHwgc3RyaW5nXG4gIHJldHVybiB0aGlzXG59XG5cbi8qKlxuICogU3RyaW5nIHRvIHNlcGFyYXRlIGNvbHVtbnNcbiAqL1xuXG5UYWJsZS5wcm90b3R5cGUuc2VwYXJhdG9yID0gJyAgJ1xuXG5mdW5jdGlvbiBzdHJpbmcodmFsKSB7XG4gIHJldHVybiB2YWwgPT09IHVuZGVmaW5lZCA/ICcnIDogJycrdmFsXG59XG5cbmZ1bmN0aW9uIGxlbmd0aChzdHIpIHtcbiAgdmFyIHMgPSBzdHIucmVwbGFjZSgvXFx1MDAxYlxcW1xcZCttL2csICcnKVxuICByZXR1cm4gd2N3aWR0aCA9PSBudWxsID8gcy5sZW5ndGggOiB3Y3dpZHRoKHMpXG59XG5cbi8qKlxuICogRGVmYXVsdCBwcmludGVyXG4gKi9cblxuVGFibGUuc3RyaW5nID0gc3RyaW5nXG5cbi8qKlxuICogQ3JlYXRlIGEgcHJpbnRlciB3aGljaCByaWdodCBhbGlnbnMgdGhlIGNvbnRlbnQgYnkgcGFkZGluZyB3aXRoIGBjaGAgb24gdGhlIGxlZnRcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gY2hcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAqL1xuXG5UYWJsZS5sZWZ0UGFkZGVyID0gbGVmdFBhZGRlclxuXG5mdW5jdGlvbiBsZWZ0UGFkZGVyKGNoKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWwsIHdpZHRoKSB7XG4gICAgdmFyIHN0ciA9IHN0cmluZyh2YWwpXG4gICAgdmFyIGxlbiA9IGxlbmd0aChzdHIpXG4gICAgdmFyIHBhZCA9IHdpZHRoID4gbGVuID8gQXJyYXkod2lkdGggLSBsZW4gKyAxKS5qb2luKGNoKSA6ICcnXG4gICAgcmV0dXJuIHBhZCArIHN0clxuICB9XG59XG5cbi8qKlxuICogUHJpbnRlciB3aGljaCByaWdodCBhbGlnbnMgdGhlIGNvbnRlbnRcbiAqL1xuXG52YXIgcGFkTGVmdCA9IFRhYmxlLnBhZExlZnQgPSBsZWZ0UGFkZGVyKCcgJylcblxuLyoqXG4gKiBDcmVhdGUgYSBwcmludGVyIHdoaWNoIHBhZHMgd2l0aCBgY2hgIG9uIHRoZSByaWdodFxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBjaFxuICogQHJldHVybnMge0Z1bmN0aW9ufVxuICovXG5cblRhYmxlLnJpZ2h0UGFkZGVyID0gcmlnaHRQYWRkZXJcblxuZnVuY3Rpb24gcmlnaHRQYWRkZXIoY2gpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIHBhZFJpZ2h0KHZhbCwgd2lkdGgpIHtcbiAgICB2YXIgc3RyID0gc3RyaW5nKHZhbClcbiAgICB2YXIgbGVuID0gbGVuZ3RoKHN0cilcbiAgICB2YXIgcGFkID0gd2lkdGggPiBsZW4gPyBBcnJheSh3aWR0aCAtIGxlbiArIDEpLmpvaW4oY2gpIDogJydcbiAgICByZXR1cm4gc3RyICsgcGFkXG4gIH1cbn1cblxudmFyIHBhZFJpZ2h0ID0gcmlnaHRQYWRkZXIoJyAnKVxuXG4vKipcbiAqIENyZWF0ZSBhIHByaW50ZXIgZm9yIG51bWJlcnNcbiAqXG4gKiBXaWxsIGRvIHJpZ2h0IGFsaWdubWVudCBhbmQgb3B0aW9uYWxseSBmaXggdGhlIG51bWJlciBvZiBkaWdpdHMgYWZ0ZXIgZGVjaW1hbCBwb2ludFxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBbZGlnaXRzXSAtIE51bWJlciBvZiBkaWdpdHMgZm9yIGZpeHBvaW50IG5vdGF0aW9uXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XG4gKi9cblxuVGFibGUubnVtYmVyID0gZnVuY3Rpb24oZGlnaXRzKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWwsIHdpZHRoKSB7XG4gICAgaWYgKHZhbCA9PSBudWxsKSByZXR1cm4gJydcbiAgICBpZiAodHlwZW9mIHZhbCAhPSAnbnVtYmVyJylcbiAgICAgIHRocm93IG5ldyBFcnJvcignJyt2YWwgKyAnIGlzIG5vdCBhIG51bWJlcicpXG4gICAgdmFyIHN0ciA9IGRpZ2l0cyA9PSBudWxsID8gdmFsKycnIDogdmFsLnRvRml4ZWQoZGlnaXRzKVxuICAgIHJldHVybiBwYWRMZWZ0KHN0ciwgd2lkdGgpXG4gIH1cbn1cblxuZnVuY3Rpb24gZWFjaChyb3csIGZuKSB7XG4gIGZvcih2YXIga2V5IGluIHJvdykge1xuICAgIGlmIChrZXkgPT0gJ19fcHJpbnRlcnMnKSBjb250aW51ZVxuICAgIGZuKGtleSwgcm93W2tleV0pXG4gIH1cbn1cblxuLyoqXG4gKiBHZXQgbGlzdCBvZiBjb2x1bW5zIGluIHByaW50aW5nIG9yZGVyXG4gKlxuICogQHJldHVybnMge3N0cmluZ1tdfVxuICovXG5cblRhYmxlLnByb3RvdHlwZS5jb2x1bW5zID0gZnVuY3Rpb24oKSB7XG4gIHZhciBjb2xzID0ge31cbiAgZm9yKHZhciBpID0gMDsgaSA8IDI7IGkrKykgeyAvLyBkbyAyIHRpbWVzXG4gICAgdGhpcy5yb3dzLmZvckVhY2goZnVuY3Rpb24ocm93KSB7XG4gICAgICB2YXIgaWR4ID0gMFxuICAgICAgZWFjaChyb3csIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICBpZHggPSBNYXRoLm1heChpZHgsIGNvbHNba2V5XSB8fCAwKVxuICAgICAgICBjb2xzW2tleV0gPSBpZHhcbiAgICAgICAgaWR4KytcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuICByZXR1cm4gT2JqZWN0LmtleXMoY29scykuc29ydChmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGNvbHNbYV0gLSBjb2xzW2JdXG4gIH0pXG59XG5cbi8qKlxuICogRm9ybWF0IGp1c3Qgcm93cywgaS5lLiBwcmludCB0aGUgdGFibGUgd2l0aG91dCBoZWFkZXJzIGFuZCB0b3RhbHNcbiAqXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBTdHJpbmcgcmVwcmVzZW50YWlvbiBvZiB0aGUgdGFibGVcbiAqL1xuXG5UYWJsZS5wcm90b3R5cGUucHJpbnQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGNvbHMgPSB0aGlzLmNvbHVtbnMoKVxuICB2YXIgc2VwYXJhdG9yID0gdGhpcy5zZXBhcmF0b3JcbiAgdmFyIHdpZHRocyA9IHt9XG4gIHZhciBvdXQgPSAnJ1xuXG4gIC8vIENhbGMgd2lkdGhzXG4gIHRoaXMucm93cy5mb3JFYWNoKGZ1bmN0aW9uKHJvdykge1xuICAgIGVhY2gocm93LCBmdW5jdGlvbihrZXksIHZhbCkge1xuICAgICAgdmFyIHN0ciA9IHJvdy5fX3ByaW50ZXJzW2tleV0uY2FsbChyb3csIHZhbClcbiAgICAgIHdpZHRoc1trZXldID0gTWF0aC5tYXgobGVuZ3RoKHN0ciksIHdpZHRoc1trZXldIHx8IDApXG4gICAgfSlcbiAgfSlcblxuICAvLyBOb3cgcHJpbnRcbiAgdGhpcy5yb3dzLmZvckVhY2goZnVuY3Rpb24ocm93KSB7XG4gICAgdmFyIGxpbmUgPSAnJ1xuICAgIGNvbHMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgIHZhciB3aWR0aCA9IHdpZHRoc1trZXldXG4gICAgICB2YXIgc3RyID0gcm93Lmhhc093blByb3BlcnR5KGtleSlcbiAgICAgICAgPyAnJytyb3cuX19wcmludGVyc1trZXldLmNhbGwocm93LCByb3dba2V5XSwgd2lkdGgpXG4gICAgICAgIDogJydcbiAgICAgIGxpbmUgKz0gcGFkUmlnaHQoc3RyLCB3aWR0aCkgKyBzZXBhcmF0b3JcbiAgICB9KVxuICAgIGxpbmUgPSBsaW5lLnNsaWNlKDAsIC1zZXBhcmF0b3IubGVuZ3RoKVxuICAgIG91dCArPSBsaW5lICsgJ1xcbidcbiAgfSlcblxuICByZXR1cm4gb3V0XG59XG5cbi8qKlxuICogRm9ybWF0IHRoZSB0YWJsZVxuICpcbiAqIEByZXR1cm5zIHtTdHJpbmd9XG4gKi9cblxuVGFibGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gIHZhciBjb2xzID0gdGhpcy5jb2x1bW5zKClcbiAgdmFyIG91dCA9IG5ldyBUYWJsZSgpXG5cbiAgLy8gY29weSBvcHRpb25zXG4gIG91dC5zZXBhcmF0b3IgPSB0aGlzLnNlcGFyYXRvclxuXG4gIC8vIFdyaXRlIGhlYWRlclxuICBjb2xzLmZvckVhY2goZnVuY3Rpb24oY29sKSB7XG4gICAgb3V0LmNlbGwoY29sLCBjb2wpXG4gIH0pXG4gIG91dC5uZXdSb3coKVxuICBvdXQucHVzaERlbGltZXRlcihjb2xzKVxuXG4gIC8vIFdyaXRlIGJvZHlcbiAgb3V0LnJvd3MgPSBvdXQucm93cy5jb25jYXQodGhpcy5yb3dzKVxuXG4gIC8vIFRvdGFsc1xuICBpZiAodGhpcy50b3RhbHMgJiYgdGhpcy5yb3dzLmxlbmd0aCkge1xuICAgIG91dC5wdXNoRGVsaW1ldGVyKGNvbHMpXG4gICAgdGhpcy5mb3JFYWNoVG90YWwob3V0LmNlbGwuYmluZChvdXQpKVxuICAgIG91dC5uZXdSb3coKVxuICB9XG5cbiAgcmV0dXJuIG91dC5wcmludCgpXG59XG5cbi8qKlxuICogUHVzaCBkZWxpbWV0ZXIgcm93IHRvIHRoZSB0YWJsZSAod2l0aCBlYWNoIGNlbGwgZmlsbGVkIHdpdGggZGFzaHMgZHVyaW5nIHByaW50aW5nKVxuICpcbiAqIEBwYXJhbSB7U3RyaW5nW119IFtjb2xzXVxuICogQHJldHVybnMge1RhYmxlfSBgdGhpc2BcbiAqL1xuXG5UYWJsZS5wcm90b3R5cGUucHVzaERlbGltZXRlciA9IGZ1bmN0aW9uKGNvbHMpIHtcbiAgY29scyA9IGNvbHMgfHwgdGhpcy5jb2x1bW5zKClcbiAgY29scy5mb3JFYWNoKGZ1bmN0aW9uKGNvbCkge1xuICAgIHRoaXMuY2VsbChjb2wsIHVuZGVmaW5lZCwgbGVmdFBhZGRlcignLScpKVxuICB9LCB0aGlzKVxuICByZXR1cm4gdGhpcy5uZXdSb3coKVxufVxuXG4vKipcbiAqIENvbXB1dGUgYWxsIHRvdGFscyBhbmQgeWllbGQgdGhlIHJlc3VsdHMgdG8gYGNiYFxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNiIC0gQ2FsbGJhY2sgZnVuY3Rpb24gd2l0aCBzaWduYXR1cmUgYChjb2x1bW4sIHZhbHVlLCBwcmludGVyKWBcbiAqL1xuXG5UYWJsZS5wcm90b3R5cGUuZm9yRWFjaFRvdGFsID0gZnVuY3Rpb24oY2IpIHtcbiAgZm9yKHZhciBrZXkgaW4gdGhpcy50b3RhbHMpIHtcbiAgICB2YXIgYWdnciA9IHRoaXMudG90YWxzW2tleV1cbiAgICB2YXIgYWNjID0gYWdnci5pbml0XG4gICAgdmFyIGxlbiA9IHRoaXMucm93cy5sZW5ndGhcbiAgICB0aGlzLnJvd3MuZm9yRWFjaChmdW5jdGlvbihyb3csIGlkeCkge1xuICAgICAgYWNjID0gYWdnci5yZWR1Y2UuY2FsbChyb3csIGFjYywgcm93W2tleV0sIGlkeCwgbGVuKVxuICAgIH0pXG4gICAgY2Ioa2V5LCBhY2MsIGFnZ3IucHJpbnRlcilcbiAgfVxufVxuXG4vKipcbiAqIEZvcm1hdCB0aGUgdGFibGUgc28gdGhhdCBlYWNoIHJvdyByZXByZXNlbnRzIGNvbHVtbiBhbmQgZWFjaCBjb2x1bW4gcmVwcmVzZW50cyByb3dcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdHNdXG4gKiBAcGFyYW0ge1N0cmluZ30gW29wcy5zZXBhcmF0b3JdIC0gQ29sdW1uIHNlcGFyYXRpb24gc3RyaW5nXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb3B0cy5uYW1lUHJpbnRlcl0gLSBQcmludGVyIHRvIGZvcm1hdCBjb2x1bW4gbmFtZXNcbiAqIEByZXR1cm5zIHtTdHJpbmd9XG4gKi9cblxuVGFibGUucHJvdG90eXBlLnByaW50VHJhbnNwb3NlZCA9IGZ1bmN0aW9uKG9wdHMpIHtcbiAgb3B0cyA9IG9wdHMgfHwge31cbiAgdmFyIG91dCA9IG5ldyBUYWJsZVxuICBvdXQuc2VwYXJhdG9yID0gb3B0cy5zZXBhcmF0b3IgfHwgdGhpcy5zZXBhcmF0b3JcbiAgdGhpcy5jb2x1bW5zKCkuZm9yRWFjaChmdW5jdGlvbihjb2wpIHtcbiAgICBvdXQuY2VsbCgwLCBjb2wsIG9wdHMubmFtZVByaW50ZXIpXG4gICAgdGhpcy5yb3dzLmZvckVhY2goZnVuY3Rpb24ocm93LCBpZHgpIHtcbiAgICAgIG91dC5jZWxsKGlkeCsxLCByb3dbY29sXSwgcm93Ll9fcHJpbnRlcnNbY29sXSlcbiAgICB9KVxuICAgIG91dC5uZXdSb3coKVxuICB9LCB0aGlzKVxuICByZXR1cm4gb3V0LnByaW50KClcbn1cblxuLyoqXG4gKiBTb3J0IHRoZSB0YWJsZVxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb258c3RyaW5nW119IFtjbXBdIC0gRWl0aGVyIGNvbXBhcmUgZnVuY3Rpb24gb3IgYSBsaXN0IG9mIGNvbHVtbnMgdG8gc29ydCBvblxuICogQHJldHVybnMge1RhYmxlfSBgdGhpc2BcbiAqL1xuXG5UYWJsZS5wcm90b3R5cGUuc29ydCA9IGZ1bmN0aW9uKGNtcCkge1xuICBpZiAodHlwZW9mIGNtcCA9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhpcy5yb3dzLnNvcnQoY21wKVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICB2YXIga2V5cyA9IEFycmF5LmlzQXJyYXkoY21wKSA/IGNtcCA6IHRoaXMuY29sdW1ucygpXG5cbiAgdmFyIGNvbXBhcmF0b3JzID0ga2V5cy5tYXAoZnVuY3Rpb24oa2V5KSB7XG4gICAgdmFyIG9yZGVyID0gJ2FzYydcbiAgICB2YXIgbSA9IC8oLiopXFx8XFxzKihhc2N8ZGVzKVxccyokLy5leGVjKGtleSlcbiAgICBpZiAobSkge1xuICAgICAga2V5ID0gbVsxXVxuICAgICAgb3JkZXIgPSBtWzJdXG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgcmV0dXJuIG9yZGVyID09ICdhc2MnXG4gICAgICAgID8gY29tcGFyZShhW2tleV0sIGJba2V5XSlcbiAgICAgICAgOiBjb21wYXJlKGJba2V5XSwgYVtrZXldKVxuICAgIH1cbiAgfSlcblxuICByZXR1cm4gdGhpcy5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbXBhcmF0b3JzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgb3JkZXIgPSBjb21wYXJhdG9yc1tpXShhLCBiKVxuICAgICAgaWYgKG9yZGVyICE9IDApIHJldHVybiBvcmRlclxuICAgIH1cbiAgICByZXR1cm4gMFxuICB9KVxufVxuXG5mdW5jdGlvbiBjb21wYXJlKGEsIGIpIHtcbiAgaWYgKGEgPT09IGIpIHJldHVybiAwXG4gIGlmIChhID09PSB1bmRlZmluZWQpIHJldHVybiAxXG4gIGlmIChiID09PSB1bmRlZmluZWQpIHJldHVybiAtMVxuICBpZiAoYSA9PT0gbnVsbCkgcmV0dXJuIDFcbiAgaWYgKGIgPT09IG51bGwpIHJldHVybiAtMVxuICBpZiAoYSA+IGIpIHJldHVybiAxXG4gIGlmIChhIDwgYikgcmV0dXJuIC0xXG4gIHJldHVybiBjb21wYXJlKFN0cmluZyhhKSwgU3RyaW5nKGIpKVxufVxuXG4vKipcbiAqIEFkZCBhIHRvdGFsIGZvciB0aGUgY29sdW1uXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGNvbCAtIGNvbHVtbiBuYW1lXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdHNdXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb3B0cy5yZWR1Y2UgPSBzdW1dIC0gcmVkdWNlKGFjYywgdmFsLCBpZHgsIGxlbmd0aCkgZnVuY3Rpb24gdG8gY29tcHV0ZSB0aGUgdG90YWwgdmFsdWVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRzLnByaW50ZXIgPSBwYWRMZWZ0XSAtIFByaW50ZXIgdG8gZm9ybWF0IHRoZSB0b3RhbCBjZWxsXG4gKiBAcGFyYW0ge0FueX0gW29wdHMuaW5pdCA9IDBdIC0gSW5pdGlhbCB2YWx1ZSBmb3IgcmVkdWN0aW9uXG4gKiBAcmV0dXJucyB7VGFibGV9IGB0aGlzYFxuICovXG5cblRhYmxlLnByb3RvdHlwZS50b3RhbCA9IGZ1bmN0aW9uKGNvbCwgb3B0cykge1xuICBvcHRzID0gb3B0cyB8fCB7fVxuICB0aGlzLnRvdGFscyA9IHRoaXMudG90YWxzIHx8IHt9XG4gIHRoaXMudG90YWxzW2NvbF0gPSB7XG4gICAgcmVkdWNlOiBvcHRzLnJlZHVjZSB8fCBUYWJsZS5hZ2dyLnN1bSxcbiAgICBwcmludGVyOiBvcHRzLnByaW50ZXIgfHwgcGFkTGVmdCxcbiAgICBpbml0OiBvcHRzLmluaXQgPT0gbnVsbCA/IDAgOiBvcHRzLmluaXRcbiAgfVxuICByZXR1cm4gdGhpc1xufVxuXG4vKipcbiAqIFByZWRlZmluZWQgaGVscGVycyBmb3IgdG90YWxzXG4gKi9cblxuVGFibGUuYWdnciA9IHt9XG5cbi8qKlxuICogQ3JlYXRlIGEgcHJpbnRlciB3aGljaCBmb3JtYXRzIHRoZSB2YWx1ZSB3aXRoIGBwcmludGVyYCxcbiAqIGFkZHMgdGhlIGBwcmVmaXhgIHRvIGl0IGFuZCByaWdodCBhbGlnbnMgdGhlIHdob2xlIHRoaW5nXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHByZWZpeFxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJpbnRlclxuICogQHJldHVybnMge3ByaW50ZXJ9XG4gKi9cblxuVGFibGUuYWdnci5wcmludGVyID0gZnVuY3Rpb24ocHJlZml4LCBwcmludGVyKSB7XG4gIHByaW50ZXIgPSBwcmludGVyIHx8IHN0cmluZ1xuICByZXR1cm4gZnVuY3Rpb24odmFsLCB3aWR0aCkge1xuICAgIHJldHVybiBwYWRMZWZ0KHByZWZpeCArIHByaW50ZXIodmFsKSwgd2lkdGgpXG4gIH1cbn1cblxuLyoqXG4gKiBTdW0gcmVkdWN0aW9uXG4gKi9cblxuVGFibGUuYWdnci5zdW0gPSBmdW5jdGlvbihhY2MsIHZhbCkge1xuICByZXR1cm4gYWNjICsgdmFsXG59XG5cbi8qKlxuICogQXZlcmFnZSByZWR1Y3Rpb25cbiAqL1xuXG5UYWJsZS5hZ2dyLmF2ZyA9IGZ1bmN0aW9uKGFjYywgdmFsLCBpZHgsIGxlbikge1xuICBhY2MgPSBhY2MgKyB2YWxcbiAgcmV0dXJuIGlkeCArIDEgPT0gbGVuID8gYWNjL2xlbiA6IGFjY1xufVxuXG4vKipcbiAqIFByaW50IHRoZSBhcnJheSBvciBvYmplY3RcbiAqXG4gKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gb2JqIC0gT2JqZWN0IHRvIHByaW50XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdH0gW2Zvcm1hdF0gLSBGb3JtYXQgb3B0aW9uc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gW2NiXSAtIFRhYmxlIHBvc3QgcHJvY2Vzc2luZyBhbmQgZm9ybWF0aW5nXG4gKiBAcmV0dXJucyB7U3RyaW5nfVxuICovXG5cblRhYmxlLnByaW50ID0gZnVuY3Rpb24ob2JqLCBmb3JtYXQsIGNiKSB7XG4gIHZhciBvcHRzID0gZm9ybWF0IHx8IHt9XG5cbiAgZm9ybWF0ID0gdHlwZW9mIGZvcm1hdCA9PSAnZnVuY3Rpb24nXG4gICAgPyBmb3JtYXRcbiAgICA6IGZ1bmN0aW9uKG9iaiwgY2VsbCkge1xuICAgICAgZm9yKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICAgIGlmICghb2JqLmhhc093blByb3BlcnR5KGtleSkpIGNvbnRpbnVlXG4gICAgICAgIHZhciBwYXJhbXMgPSBvcHRzW2tleV0gfHwge31cbiAgICAgICAgY2VsbChwYXJhbXMubmFtZSB8fCBrZXksIG9ialtrZXldLCBwYXJhbXMucHJpbnRlcilcbiAgICAgIH1cbiAgICB9XG5cbiAgdmFyIHQgPSBuZXcgVGFibGVcbiAgdmFyIGNlbGwgPSB0LmNlbGwuYmluZCh0KVxuXG4gIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICBjYiA9IGNiIHx8IGZ1bmN0aW9uKHQpIHsgcmV0dXJuIHQudG9TdHJpbmcoKSB9XG4gICAgb2JqLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgICAgZm9ybWF0KGl0ZW0sIGNlbGwpXG4gICAgICB0Lm5ld1JvdygpXG4gICAgfSlcbiAgfSBlbHNlIHtcbiAgICBjYiA9IGNiIHx8IGZ1bmN0aW9uKHQpIHsgcmV0dXJuIHQucHJpbnRUcmFuc3Bvc2VkKHtzZXBhcmF0b3I6ICcgOiAnfSkgfVxuICAgIGZvcm1hdChvYmosIGNlbGwpXG4gICAgdC5uZXdSb3coKVxuICB9XG5cbiAgcmV0dXJuIGNiKHQpXG59XG5cbi8qKlxuICogU2FtZSBhcyBgVGFibGUucHJpbnQoKWAgYnV0IHlpZWxkcyB0aGUgcmVzdWx0IHRvIGBjb25zb2xlLmxvZygpYFxuICovXG5cblRhYmxlLmxvZyA9IGZ1bmN0aW9uKG9iaiwgZm9ybWF0LCBjYikge1xuICBjb25zb2xlLmxvZyhUYWJsZS5wcmludChvYmosIGZvcm1hdCwgY2IpKVxufVxuXG4vKipcbiAqIFNhbWUgYXMgYC50b1N0cmluZygpYCBidXQgeWllbGRzIHRoZSByZXN1bHQgdG8gYGNvbnNvbGUubG9nKClgXG4gKi9cblxuVGFibGUucHJvdG90eXBlLmxvZyA9IGZ1bmN0aW9uKCkge1xuICBjb25zb2xlLmxvZyh0aGlzLnRvU3RyaW5nKCkpXG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IFtcbiAgICBbIDB4MDMwMCwgMHgwMzZGIF0sIFsgMHgwNDgzLCAweDA0ODYgXSwgWyAweDA0ODgsIDB4MDQ4OSBdLFxuICAgIFsgMHgwNTkxLCAweDA1QkQgXSwgWyAweDA1QkYsIDB4MDVCRiBdLCBbIDB4MDVDMSwgMHgwNUMyIF0sXG4gICAgWyAweDA1QzQsIDB4MDVDNSBdLCBbIDB4MDVDNywgMHgwNUM3IF0sIFsgMHgwNjAwLCAweDA2MDMgXSxcbiAgICBbIDB4MDYxMCwgMHgwNjE1IF0sIFsgMHgwNjRCLCAweDA2NUUgXSwgWyAweDA2NzAsIDB4MDY3MCBdLFxuICAgIFsgMHgwNkQ2LCAweDA2RTQgXSwgWyAweDA2RTcsIDB4MDZFOCBdLCBbIDB4MDZFQSwgMHgwNkVEIF0sXG4gICAgWyAweDA3MEYsIDB4MDcwRiBdLCBbIDB4MDcxMSwgMHgwNzExIF0sIFsgMHgwNzMwLCAweDA3NEEgXSxcbiAgICBbIDB4MDdBNiwgMHgwN0IwIF0sIFsgMHgwN0VCLCAweDA3RjMgXSwgWyAweDA5MDEsIDB4MDkwMiBdLFxuICAgIFsgMHgwOTNDLCAweDA5M0MgXSwgWyAweDA5NDEsIDB4MDk0OCBdLCBbIDB4MDk0RCwgMHgwOTREIF0sXG4gICAgWyAweDA5NTEsIDB4MDk1NCBdLCBbIDB4MDk2MiwgMHgwOTYzIF0sIFsgMHgwOTgxLCAweDA5ODEgXSxcbiAgICBbIDB4MDlCQywgMHgwOUJDIF0sIFsgMHgwOUMxLCAweDA5QzQgXSwgWyAweDA5Q0QsIDB4MDlDRCBdLFxuICAgIFsgMHgwOUUyLCAweDA5RTMgXSwgWyAweDBBMDEsIDB4MEEwMiBdLCBbIDB4MEEzQywgMHgwQTNDIF0sXG4gICAgWyAweDBBNDEsIDB4MEE0MiBdLCBbIDB4MEE0NywgMHgwQTQ4IF0sIFsgMHgwQTRCLCAweDBBNEQgXSxcbiAgICBbIDB4MEE3MCwgMHgwQTcxIF0sIFsgMHgwQTgxLCAweDBBODIgXSwgWyAweDBBQkMsIDB4MEFCQyBdLFxuICAgIFsgMHgwQUMxLCAweDBBQzUgXSwgWyAweDBBQzcsIDB4MEFDOCBdLCBbIDB4MEFDRCwgMHgwQUNEIF0sXG4gICAgWyAweDBBRTIsIDB4MEFFMyBdLCBbIDB4MEIwMSwgMHgwQjAxIF0sIFsgMHgwQjNDLCAweDBCM0MgXSxcbiAgICBbIDB4MEIzRiwgMHgwQjNGIF0sIFsgMHgwQjQxLCAweDBCNDMgXSwgWyAweDBCNEQsIDB4MEI0RCBdLFxuICAgIFsgMHgwQjU2LCAweDBCNTYgXSwgWyAweDBCODIsIDB4MEI4MiBdLCBbIDB4MEJDMCwgMHgwQkMwIF0sXG4gICAgWyAweDBCQ0QsIDB4MEJDRCBdLCBbIDB4MEMzRSwgMHgwQzQwIF0sIFsgMHgwQzQ2LCAweDBDNDggXSxcbiAgICBbIDB4MEM0QSwgMHgwQzREIF0sIFsgMHgwQzU1LCAweDBDNTYgXSwgWyAweDBDQkMsIDB4MENCQyBdLFxuICAgIFsgMHgwQ0JGLCAweDBDQkYgXSwgWyAweDBDQzYsIDB4MENDNiBdLCBbIDB4MENDQywgMHgwQ0NEIF0sXG4gICAgWyAweDBDRTIsIDB4MENFMyBdLCBbIDB4MEQ0MSwgMHgwRDQzIF0sIFsgMHgwRDRELCAweDBENEQgXSxcbiAgICBbIDB4MERDQSwgMHgwRENBIF0sIFsgMHgwREQyLCAweDBERDQgXSwgWyAweDBERDYsIDB4MERENiBdLFxuICAgIFsgMHgwRTMxLCAweDBFMzEgXSwgWyAweDBFMzQsIDB4MEUzQSBdLCBbIDB4MEU0NywgMHgwRTRFIF0sXG4gICAgWyAweDBFQjEsIDB4MEVCMSBdLCBbIDB4MEVCNCwgMHgwRUI5IF0sIFsgMHgwRUJCLCAweDBFQkMgXSxcbiAgICBbIDB4MEVDOCwgMHgwRUNEIF0sIFsgMHgwRjE4LCAweDBGMTkgXSwgWyAweDBGMzUsIDB4MEYzNSBdLFxuICAgIFsgMHgwRjM3LCAweDBGMzcgXSwgWyAweDBGMzksIDB4MEYzOSBdLCBbIDB4MEY3MSwgMHgwRjdFIF0sXG4gICAgWyAweDBGODAsIDB4MEY4NCBdLCBbIDB4MEY4NiwgMHgwRjg3IF0sIFsgMHgwRjkwLCAweDBGOTcgXSxcbiAgICBbIDB4MEY5OSwgMHgwRkJDIF0sIFsgMHgwRkM2LCAweDBGQzYgXSwgWyAweDEwMkQsIDB4MTAzMCBdLFxuICAgIFsgMHgxMDMyLCAweDEwMzIgXSwgWyAweDEwMzYsIDB4MTAzNyBdLCBbIDB4MTAzOSwgMHgxMDM5IF0sXG4gICAgWyAweDEwNTgsIDB4MTA1OSBdLCBbIDB4MTE2MCwgMHgxMUZGIF0sIFsgMHgxMzVGLCAweDEzNUYgXSxcbiAgICBbIDB4MTcxMiwgMHgxNzE0IF0sIFsgMHgxNzMyLCAweDE3MzQgXSwgWyAweDE3NTIsIDB4MTc1MyBdLFxuICAgIFsgMHgxNzcyLCAweDE3NzMgXSwgWyAweDE3QjQsIDB4MTdCNSBdLCBbIDB4MTdCNywgMHgxN0JEIF0sXG4gICAgWyAweDE3QzYsIDB4MTdDNiBdLCBbIDB4MTdDOSwgMHgxN0QzIF0sIFsgMHgxN0RELCAweDE3REQgXSxcbiAgICBbIDB4MTgwQiwgMHgxODBEIF0sIFsgMHgxOEE5LCAweDE4QTkgXSwgWyAweDE5MjAsIDB4MTkyMiBdLFxuICAgIFsgMHgxOTI3LCAweDE5MjggXSwgWyAweDE5MzIsIDB4MTkzMiBdLCBbIDB4MTkzOSwgMHgxOTNCIF0sXG4gICAgWyAweDFBMTcsIDB4MUExOCBdLCBbIDB4MUIwMCwgMHgxQjAzIF0sIFsgMHgxQjM0LCAweDFCMzQgXSxcbiAgICBbIDB4MUIzNiwgMHgxQjNBIF0sIFsgMHgxQjNDLCAweDFCM0MgXSwgWyAweDFCNDIsIDB4MUI0MiBdLFxuICAgIFsgMHgxQjZCLCAweDFCNzMgXSwgWyAweDFEQzAsIDB4MURDQSBdLCBbIDB4MURGRSwgMHgxREZGIF0sXG4gICAgWyAweDIwMEIsIDB4MjAwRiBdLCBbIDB4MjAyQSwgMHgyMDJFIF0sIFsgMHgyMDYwLCAweDIwNjMgXSxcbiAgICBbIDB4MjA2QSwgMHgyMDZGIF0sIFsgMHgyMEQwLCAweDIwRUYgXSwgWyAweDMwMkEsIDB4MzAyRiBdLFxuICAgIFsgMHgzMDk5LCAweDMwOUEgXSwgWyAweEE4MDYsIDB4QTgwNiBdLCBbIDB4QTgwQiwgMHhBODBCIF0sXG4gICAgWyAweEE4MjUsIDB4QTgyNiBdLCBbIDB4RkIxRSwgMHhGQjFFIF0sIFsgMHhGRTAwLCAweEZFMEYgXSxcbiAgICBbIDB4RkUyMCwgMHhGRTIzIF0sIFsgMHhGRUZGLCAweEZFRkYgXSwgWyAweEZGRjksIDB4RkZGQiBdLFxuICAgIFsgMHgxMEEwMSwgMHgxMEEwMyBdLCBbIDB4MTBBMDUsIDB4MTBBMDYgXSwgWyAweDEwQTBDLCAweDEwQTBGIF0sXG4gICAgWyAweDEwQTM4LCAweDEwQTNBIF0sIFsgMHgxMEEzRiwgMHgxMEEzRiBdLCBbIDB4MUQxNjcsIDB4MUQxNjkgXSxcbiAgICBbIDB4MUQxNzMsIDB4MUQxODIgXSwgWyAweDFEMTg1LCAweDFEMThCIF0sIFsgMHgxRDFBQSwgMHgxRDFBRCBdLFxuICAgIFsgMHgxRDI0MiwgMHgxRDI0NCBdLCBbIDB4RTAwMDEsIDB4RTAwMDEgXSwgWyAweEUwMDIwLCAweEUwMDdGIF0sXG4gICAgWyAweEUwMTAwLCAweEUwMUVGIF1cbl1cbiIsIlwidXNlIHN0cmljdFwiXG5cbnZhciBkZWZhdWx0cyA9IHJlcXVpcmUoJ2RlZmF1bHRzJylcbnZhciBjb21iaW5pbmcgPSByZXF1aXJlKCcuL2NvbWJpbmluZycpXG5cbnZhciBERUZBVUxUUyA9IHtcbiAgbnVsOiAwLFxuICBjb250cm9sOiAwXG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gd2N3aWR0aChzdHIpIHtcbiAgcmV0dXJuIHdjc3dpZHRoKHN0ciwgREVGQVVMVFMpXG59XG5cbm1vZHVsZS5leHBvcnRzLmNvbmZpZyA9IGZ1bmN0aW9uKG9wdHMpIHtcbiAgb3B0cyA9IGRlZmF1bHRzKG9wdHMgfHwge30sIERFRkFVTFRTKVxuICByZXR1cm4gZnVuY3Rpb24gd2N3aWR0aChzdHIpIHtcbiAgICByZXR1cm4gd2Nzd2lkdGgoc3RyLCBvcHRzKVxuICB9XG59XG5cbi8qXG4gKiAgVGhlIGZvbGxvd2luZyBmdW5jdGlvbnMgZGVmaW5lIHRoZSBjb2x1bW4gd2lkdGggb2YgYW4gSVNPIDEwNjQ2XG4gKiAgY2hhcmFjdGVyIGFzIGZvbGxvd3M6XG4gKiAgLSBUaGUgbnVsbCBjaGFyYWN0ZXIgKFUrMDAwMCkgaGFzIGEgY29sdW1uIHdpZHRoIG9mIDAuXG4gKiAgLSBPdGhlciBDMC9DMSBjb250cm9sIGNoYXJhY3RlcnMgYW5kIERFTCB3aWxsIGxlYWQgdG8gYSByZXR1cm4gdmFsdWVcbiAqICAgIG9mIC0xLlxuICogIC0gTm9uLXNwYWNpbmcgYW5kIGVuY2xvc2luZyBjb21iaW5pbmcgY2hhcmFjdGVycyAoZ2VuZXJhbCBjYXRlZ29yeVxuICogICAgY29kZSBNbiBvciBNZSBpbiB0aGVcbiAqICAgIFVuaWNvZGUgZGF0YWJhc2UpIGhhdmUgYSBjb2x1bW4gd2lkdGggb2YgMC5cbiAqICAtIFNPRlQgSFlQSEVOIChVKzAwQUQpIGhhcyBhIGNvbHVtbiB3aWR0aCBvZiAxLlxuICogIC0gT3RoZXIgZm9ybWF0IGNoYXJhY3RlcnMgKGdlbmVyYWwgY2F0ZWdvcnkgY29kZSBDZiBpbiB0aGUgVW5pY29kZVxuICogICAgZGF0YWJhc2UpIGFuZCBaRVJPIFdJRFRIXG4gKiAgICBTUEFDRSAoVSsyMDBCKSBoYXZlIGEgY29sdW1uIHdpZHRoIG9mIDAuXG4gKiAgLSBIYW5ndWwgSmFtbyBtZWRpYWwgdm93ZWxzIGFuZCBmaW5hbCBjb25zb25hbnRzIChVKzExNjAtVSsxMUZGKVxuICogICAgaGF2ZSBhIGNvbHVtbiB3aWR0aCBvZiAwLlxuICogIC0gU3BhY2luZyBjaGFyYWN0ZXJzIGluIHRoZSBFYXN0IEFzaWFuIFdpZGUgKFcpIG9yIEVhc3QgQXNpYW5cbiAqICAgIEZ1bGwtd2lkdGggKEYpIGNhdGVnb3J5IGFzXG4gKiAgICBkZWZpbmVkIGluIFVuaWNvZGUgVGVjaG5pY2FsIFJlcG9ydCAjMTEgaGF2ZSBhIGNvbHVtbiB3aWR0aCBvZiAyLlxuICogIC0gQWxsIHJlbWFpbmluZyBjaGFyYWN0ZXJzIChpbmNsdWRpbmcgYWxsIHByaW50YWJsZSBJU08gODg1OS0xIGFuZFxuICogICAgV0dMNCBjaGFyYWN0ZXJzLCBVbmljb2RlIGNvbnRyb2wgY2hhcmFjdGVycywgZXRjLikgaGF2ZSBhIGNvbHVtblxuICogICAgd2lkdGggb2YgMS5cbiAqICBUaGlzIGltcGxlbWVudGF0aW9uIGFzc3VtZXMgdGhhdCBjaGFyYWN0ZXJzIGFyZSBlbmNvZGVkIGluIElTTyAxMDY0Ni5cbiovXG5cbmZ1bmN0aW9uIHdjc3dpZHRoKHN0ciwgb3B0cykge1xuICBpZiAodHlwZW9mIHN0ciAhPT0gJ3N0cmluZycpIHJldHVybiB3Y3dpZHRoKHN0ciwgb3B0cylcblxuICB2YXIgcyA9IDBcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgbiA9IHdjd2lkdGgoc3RyLmNoYXJDb2RlQXQoaSksIG9wdHMpXG4gICAgaWYgKG4gPCAwKSByZXR1cm4gLTFcbiAgICBzICs9IG5cbiAgfVxuXG4gIHJldHVybiBzXG59XG5cbmZ1bmN0aW9uIHdjd2lkdGgodWNzLCBvcHRzKSB7XG4gIC8vIHRlc3QgZm9yIDgtYml0IGNvbnRyb2wgY2hhcmFjdGVyc1xuICBpZiAodWNzID09PSAwKSByZXR1cm4gb3B0cy5udWxcbiAgaWYgKHVjcyA8IDMyIHx8ICh1Y3MgPj0gMHg3ZiAmJiB1Y3MgPCAweGEwKSkgcmV0dXJuIG9wdHMuY29udHJvbFxuXG4gIC8vIGJpbmFyeSBzZWFyY2ggaW4gdGFibGUgb2Ygbm9uLXNwYWNpbmcgY2hhcmFjdGVyc1xuICBpZiAoYmlzZWFyY2godWNzKSkgcmV0dXJuIDBcblxuICAvLyBpZiB3ZSBhcnJpdmUgaGVyZSwgdWNzIGlzIG5vdCBhIGNvbWJpbmluZyBvciBDMC9DMSBjb250cm9sIGNoYXJhY3RlclxuICByZXR1cm4gMSArXG4gICAgICAodWNzID49IDB4MTEwMCAmJlxuICAgICAgICh1Y3MgPD0gMHgxMTVmIHx8ICAgICAgICAgICAgICAgICAgICAgICAvLyBIYW5ndWwgSmFtbyBpbml0LiBjb25zb25hbnRzXG4gICAgICAgIHVjcyA9PSAweDIzMjkgfHwgdWNzID09IDB4MjMyYSB8fFxuICAgICAgICAodWNzID49IDB4MmU4MCAmJiB1Y3MgPD0gMHhhNGNmICYmXG4gICAgICAgICB1Y3MgIT0gMHgzMDNmKSB8fCAgICAgICAgICAgICAgICAgICAgIC8vIENKSyAuLi4gWWlcbiAgICAgICAgKHVjcyA+PSAweGFjMDAgJiYgdWNzIDw9IDB4ZDdhMykgfHwgICAgLy8gSGFuZ3VsIFN5bGxhYmxlc1xuICAgICAgICAodWNzID49IDB4ZjkwMCAmJiB1Y3MgPD0gMHhmYWZmKSB8fCAgICAvLyBDSksgQ29tcGF0aWJpbGl0eSBJZGVvZ3JhcGhzXG4gICAgICAgICh1Y3MgPj0gMHhmZTEwICYmIHVjcyA8PSAweGZlMTkpIHx8ICAgIC8vIFZlcnRpY2FsIGZvcm1zXG4gICAgICAgICh1Y3MgPj0gMHhmZTMwICYmIHVjcyA8PSAweGZlNmYpIHx8ICAgIC8vIENKSyBDb21wYXRpYmlsaXR5IEZvcm1zXG4gICAgICAgICh1Y3MgPj0gMHhmZjAwICYmIHVjcyA8PSAweGZmNjApIHx8ICAgIC8vIEZ1bGx3aWR0aCBGb3Jtc1xuICAgICAgICAodWNzID49IDB4ZmZlMCAmJiB1Y3MgPD0gMHhmZmU2KSB8fFxuICAgICAgICAodWNzID49IDB4MjAwMDAgJiYgdWNzIDw9IDB4MmZmZmQpIHx8XG4gICAgICAgICh1Y3MgPj0gMHgzMDAwMCAmJiB1Y3MgPD0gMHgzZmZmZCkpKTtcbn1cblxuZnVuY3Rpb24gYmlzZWFyY2godWNzKSB7XG4gIHZhciBtaW4gPSAwXG4gIHZhciBtYXggPSBjb21iaW5pbmcubGVuZ3RoIC0gMVxuICB2YXIgbWlkXG5cbiAgaWYgKHVjcyA8IGNvbWJpbmluZ1swXVswXSB8fCB1Y3MgPiBjb21iaW5pbmdbbWF4XVsxXSkgcmV0dXJuIGZhbHNlXG5cbiAgd2hpbGUgKG1heCA+PSBtaW4pIHtcbiAgICBtaWQgPSBNYXRoLmZsb29yKChtaW4gKyBtYXgpIC8gMilcbiAgICBpZiAodWNzID4gY29tYmluaW5nW21pZF1bMV0pIG1pbiA9IG1pZCArIDFcbiAgICBlbHNlIGlmICh1Y3MgPCBjb21iaW5pbmdbbWlkXVswXSkgbWF4ID0gbWlkIC0gMVxuICAgIGVsc2UgcmV0dXJuIHRydWVcbiAgfVxuXG4gIHJldHVybiBmYWxzZVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2NvcmUge1xuICAgIHN0YXRpYyBNQVhfSU5UID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7XG4gICAgc2NvcmVfMSA9IFNjb3JlLk1BWF9JTlQ7XG4gICAgc2NvcmVfMiA9IFNjb3JlLk1BWF9JTlQ7XG5cbiAgICBjb25zdHJ1Y3RvcihzY29yZV8xPzogbnVtYmVyLCBzY29yZV8yPzogbnVtYmVyKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2NvcmVfMSAhPSAndW5kZWZpbmVkJykgdGhpcy5zY29yZV8xID0gc2NvcmVfMTtcbiAgICAgICAgaWYgKHR5cGVvZiBzY29yZV8yICE9ICd1bmRlZmluZWQnKSB0aGlzLnNjb3JlXzIgPSBzY29yZV8yO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExvd2VyIGlzIGJldHRlclxuICAgICAqL1xuICAgIHZhbHVlT2YoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5zY29yZV8xICsgdGhpcy5zY29yZV8yKTtcbiAgICB9XG5cbiAgICBhc3NpZ24ob3RoZXIpIHtcbiAgICAgICAgdGhpcy5zY29yZV8xID0gb3RoZXIuc2NvcmVfMTtcbiAgICAgICAgdGhpcy5zY29yZV8yID0gb3RoZXIuc2NvcmVfMjtcbiAgICB9XG5cbiAgICBpc0JsYW5rKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zY29yZV8xID09PSBTY29yZS5NQVhfSU5UO1xuICAgIH1cblxuICAgIGRlY3JlYXNlQnkoZGVsdGEpIHtcbiAgICAgICAgdGhpcy5zY29yZV8xICs9IGRlbHRhO1xuICAgICAgICB0aGlzLnNjb3JlXzIgKz0gZGVsdGE7XG4gICAgfVxufSIsImltcG9ydCB7IEZyZWVTcGFjZUJveCB9IGZyb20gJy4uL0Jpbic7XG5pbXBvcnQgQm94IGZyb20gJy4uL0JveCc7XG5pbXBvcnQgU2NvcmUgZnJvbSAnLi4vU2NvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYXNlIHtcblx0ZmluZFBvc2l0aW9uRm9yTmV3Tm9kZShib3g6IEJveCwgZnJlZVJlY3RzOiBGcmVlU3BhY2VCb3hbXSkge1xuXHRcdGxldCBiZXN0U2NvcmUgPSBuZXcgU2NvcmUoKTtcblx0XHRsZXQgd2lkdGggPSBib3gud2lkdGg7XG5cdFx0bGV0IGhlaWdodCA9IGJveC5oZWlnaHQ7XG5cblx0XHRmcmVlUmVjdHMuZm9yRWFjaCgoZnJlZVJlY3QpID0+IHtcblx0XHRcdHRoaXMudHJ5UGxhY2VSZWN0SW4oZnJlZVJlY3QsIGJveCwgd2lkdGgsIGhlaWdodCwgYmVzdFNjb3JlKTtcblx0XHRcdGlmICghYm94LmNvbnN0cmFpblJvdGF0aW9uKSB7XG5cdFx0XHRcdHRoaXMudHJ5UGxhY2VSZWN0SW4oZnJlZVJlY3QsIGJveCwgaGVpZ2h0LCB3aWR0aCwgYmVzdFNjb3JlKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdHJldHVybiBiZXN0U2NvcmU7XG5cdH1cblxuXHR0cnlQbGFjZVJlY3RJbihmcmVlUmVjdCwgYm94LCByZWN0V2lkdGgsIHJlY3RIZWlnaHQsIGJlc3RTY29yZSkge1xuXHRcdGlmIChmcmVlUmVjdC53aWR0aCA+PSByZWN0V2lkdGggJiYgZnJlZVJlY3QuaGVpZ2h0ID49IHJlY3RIZWlnaHQpIHtcblx0XHRcdGxldCBzY29yZSA9IHRoaXMuY2FsY3VsYXRlU2NvcmUoKTtcblx0XHRcdGlmIChzY29yZSA8IGJlc3RTY29yZSkge1xuXHRcdFx0XHRib3gueCA9IGZyZWVSZWN0Lng7XG5cdFx0XHRcdGJveC55ID0gZnJlZVJlY3QueTtcblx0XHRcdFx0Ym94LndpZHRoID0gcmVjdFdpZHRoO1xuXHRcdFx0XHRib3guaGVpZ2h0ID0gcmVjdEhlaWdodDtcblx0XHRcdFx0Ym94LnBhY2tlZCA9IHRydWU7XG5cdFx0XHRcdGJlc3RTY29yZS5hc3NpZ24oc2NvcmUpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGNhbGN1bGF0ZVNjb3JlKCkge1xuXHRcdHRocm93ICdOb3RJbXBsZW1lbnRlZEVycm9yJztcblx0fVxufSIsImltcG9ydCBCYXNlIGZyb20gJy4vQmFzZSc7XG5pbXBvcnQgU2NvcmUgZnJvbSAnLi4vU2NvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCZXN0U2hvcnRTaWRlRml0IGV4dGVuZHMgQmFzZSB7XG5cbiAgY2FsY3VsYXRlU2NvcmUoZnJlZVJlY3QsIHJlY3RXaWR0aCwgcmVjdEhlaWdodCkge1xuICAgIGxldCBsZWZ0T3Zlckhvcml6ID0gTWF0aC5hYnMoZnJlZVJlY3Qud2lkdGggLSByZWN0V2lkdGgpO1xuICAgIGxldCBsZWZ0T3ZlclZlcnQgPSBNYXRoLmFicyhmcmVlUmVjdC5oZWlnaHQgLSByZWN0SGVpZ2h0KTtcbiAgICBsZXQgYXJncyA9IFtsZWZ0T3Zlckhvcml6LCBsZWZ0T3ZlclZlcnRdLnNvcnQoKGEsIGIpID0+IGEgLSBiKTtcbiAgICBsZXQgc2NvcmUgPSBuZXcgU2NvcmUoYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgcmV0dXJuIHNjb3JlO1xuICB9XG5cbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBCb3gge1xuXHR3aWR0aDogbnVtYmVyID0gMDtcblx0aGVpZ2h0OiBudW1iZXIgPSAwO1xuXHRjb25zdHJhaW5Sb3RhdGlvbiA9IGZhbHNlO1xuXHR4ID0gMDtcblx0eSA9IDA7XG5cdHBhY2tlZCA9IGZhbHNlO1xuXG5cdGNvbnN0cnVjdG9yKHdpZHRoOm51bWJlciAsIGhlaWdodDogbnVtYmVyLCBjb25zdHJhaW5Sb3RhdGlvbiA9IGZhbHNlKSB7XG5cdFx0dGhpcy53aWR0aCA9IHdpZHRoO1xuXHRcdHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG5cdFx0Ly8gQXZvaWQgdGhlIHBhY2tlciB0byB0cnkgdGhlIHJvdGF0ZWQgZGltZW5zaW9uc1xuXHRcdHRoaXMuY29uc3RyYWluUm90YXRpb24gPSBjb25zdHJhaW5Sb3RhdGlvbjtcblx0fVxuXG5cdHJvdGF0ZSgpIHtcblx0XHRsZXQgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzO1xuXHRcdHRoaXMud2lkdGggPSBoZWlnaHQ7XG5cdFx0dGhpcy5oZWlnaHQgPSB3aWR0aDtcblx0fVxuXG5cdGdldCBsYWJlbCgpIHtcblx0XHRyZXR1cm4gYCR7dGhpcy53aWR0aH14JHt0aGlzLmhlaWdodH0gYXQgWyR7dGhpcy54fSwke3RoaXMueX1dYDtcblx0fVxuXG5cdGdldCBhcmVhKCkge1xuXHRcdHJldHVybiB0aGlzLndpZHRoICogdGhpcy5oZWlnaHQ7XG5cdH1cbn0iLCJpbXBvcnQgQmVzdFNob3J0U2lkZUZpdCBmcm9tICcuL2hldXJpc3RpY3MvQmVzdFNob3J0U2lkZUZpdCc7XG5pbXBvcnQgQm94IGZyb20gJy4vQm94JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmluIHtcblx0d2lkdGg6IG51bWJlciA9IDA7XG5cdGhlaWdodDogbnVtYmVyPSAwO1xuXHRib3hlczogQm94W10gPSBbXTtcblx0aGV1cmlzdGljOiBhbnkgPSBudWxsO1xuXHRmcmVlUmVjdGFuZ2xlczogRnJlZVNwYWNlQm94W10gPSBbXTtcblxuXHRjb25zdHJ1Y3Rvcih3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciwgaGV1cmlzdGljKSB7XG5cdFx0dGhpcy53aWR0aCA9IHdpZHRoO1xuXHRcdHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXHRcdHRoaXMuZnJlZVJlY3RhbmdsZXMgPSBbbmV3IEZyZWVTcGFjZUJveCh3aWR0aCwgaGVpZ2h0KV07XG5cdFx0dGhpcy5oZXVyaXN0aWMgPSBoZXVyaXN0aWMgfHwgbmV3IEJlc3RTaG9ydFNpZGVGaXQoKTtcblx0fVxuXG5cdGdldCBhcmVhKCkge1xuICAgICAgICByZXR1cm4gdGhpcy53aWR0aCAqIHRoaXMuaGVpZ2h0O1xuXHR9XG5cblx0Z2V0IGVmZmljaWVuY3koKSB7XG5cdFx0bGV0IGJveGVzQXJlYSA9IDA7XG5cdFx0dGhpcy5ib3hlcy5mb3JFYWNoKChib3gpID0+IHtcblx0XHRcdGJveGVzQXJlYSArPSBib3guYXJlYTtcblx0XHR9KTtcblx0XHRyZXR1cm4gKGJveGVzQXJlYSAqIDEwMCkgLyB0aGlzLmFyZWE7XG5cdH1cblxuXHRnZXQgbGFiZWwoKSB7XG5cdFx0cmV0dXJuIGAke3RoaXMud2lkdGh9eCR7dGhpcy5oZWlnaHR9ICR7dGhpcy5lZmZpY2llbmN5fSVgO1xuXHR9XG5cblx0aW5zZXJ0KGJveDogQm94KSB7XG5cdFx0aWYgKGJveC5wYWNrZWQpIHJldHVybiBmYWxzZTtcblxuXHRcdHRoaXMuaGV1cmlzdGljLmZpbmRQb3NpdGlvbkZvck5ld05vZGUoYm94LCB0aGlzLmZyZWVSZWN0YW5nbGVzKTtcblx0XHRpZiAoIWJveC5wYWNrZWQpIHJldHVybiBmYWxzZTtcblxuXHRcdGxldCBudW1SZWN0YW5nbGVzVG9Qcm9jZXNzID0gdGhpcy5mcmVlUmVjdGFuZ2xlcy5sZW5ndGg7XG5cdFx0bGV0IGkgPSAwO1xuXG5cdFx0d2hpbGUgKGkgPCBudW1SZWN0YW5nbGVzVG9Qcm9jZXNzKSB7XG5cdFx0XHRpZiAodGhpcy5zcGxpdEZyZWVOb2RlKHRoaXMuZnJlZVJlY3RhbmdsZXNbaV0sIGJveCkpIHtcblx0XHRcdFx0dGhpcy5mcmVlUmVjdGFuZ2xlcy5zcGxpY2UoaSwgMSk7XG5cdFx0XHRcdG51bVJlY3RhbmdsZXNUb1Byb2Nlc3MtLTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGkrKztcblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGlzLnBydW5lRnJlZUxpc3QoKTtcblx0XHR0aGlzLmJveGVzLnB1c2goYm94KTtcblxuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0c2NvcmVGb3IoYm94OiBCb3gpIHtcblx0XHRsZXQgY29weUJveCA9IG5ldyBCb3goYm94LndpZHRoLCBib3guaGVpZ2h0LCBib3guY29uc3RyYWluUm90YXRpb24pO1xuXHRcdGxldCBzY29yZSA9IHRoaXMuaGV1cmlzdGljLmZpbmRQb3NpdGlvbkZvck5ld05vZGUoXG5cdFx0XHRjb3B5Qm94LFxuXHRcdFx0dGhpcy5mcmVlUmVjdGFuZ2xlc1xuXHRcdCk7XG5cdFx0cmV0dXJuIHNjb3JlO1xuXHR9XG5cblx0aXNMYXJnZXJUaGFuKGJveDogQm94KSB7XG5cdFx0cmV0dXJuIChcblx0XHRcdCh0aGlzLndpZHRoID49IGJveC53aWR0aCAmJiB0aGlzLmhlaWdodCA+PSBib3guaGVpZ2h0KSB8fFxuXHRcdFx0KHRoaXMuaGVpZ2h0ID49IGJveC53aWR0aCAmJiB0aGlzLndpZHRoID49IGJveC5oZWlnaHQpXG5cdFx0KTtcblx0fVxuXG5cdHNwbGl0RnJlZU5vZGUoZnJlZU5vZGUsIHVzZWROb2RlKSB7XG5cdFx0Ly8gVGVzdCB3aXRoIFNBVCBpZiB0aGUgcmVjdGFuZ2xlcyBldmVuIGludGVyc2VjdC5cblx0XHRpZiAoXG5cdFx0XHR1c2VkTm9kZS54ID49IGZyZWVOb2RlLnggKyBmcmVlTm9kZS53aWR0aCB8fFxuXHRcdFx0dXNlZE5vZGUueCArIHVzZWROb2RlLndpZHRoIDw9IGZyZWVOb2RlLnggfHxcblx0XHRcdHVzZWROb2RlLnkgPj0gZnJlZU5vZGUueSArIGZyZWVOb2RlLmhlaWdodCB8fFxuXHRcdFx0dXNlZE5vZGUueSArIHVzZWROb2RlLmhlaWdodCA8PSBmcmVlTm9kZS55XG5cdFx0KSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0dGhpcy50cnlTcGxpdEZyZWVOb2RlVmVydGljYWxseShmcmVlTm9kZSwgdXNlZE5vZGUpO1xuXHRcdHRoaXMudHJ5U3BsaXRGcmVlTm9kZUhvcml6b250YWxseShmcmVlTm9kZSwgdXNlZE5vZGUpO1xuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHR0cnlTcGxpdEZyZWVOb2RlVmVydGljYWxseShmcmVlTm9kZSwgdXNlZE5vZGUpIHtcblx0XHRpZiAoXG5cdFx0XHR1c2VkTm9kZS54IDwgZnJlZU5vZGUueCArIGZyZWVOb2RlLndpZHRoICYmXG5cdFx0XHR1c2VkTm9kZS54ICsgdXNlZE5vZGUud2lkdGggPiBmcmVlTm9kZS54XG5cdFx0KSB7XG5cdFx0XHR0aGlzLnRyeUxlYXZlRnJlZVNwYWNlQXRUb3AoZnJlZU5vZGUsIHVzZWROb2RlKTtcblx0XHRcdHRoaXMudHJ5TGVhdmVGcmVlU3BhY2VBdEJvdHRvbShmcmVlTm9kZSwgdXNlZE5vZGUpO1xuXHRcdH1cblx0fVxuXG5cdHRyeUxlYXZlRnJlZVNwYWNlQXRUb3AoZnJlZU5vZGUsIHVzZWROb2RlKSB7XG5cdFx0aWYgKHVzZWROb2RlLnkgPiBmcmVlTm9kZS55ICYmIHVzZWROb2RlLnkgPCBmcmVlTm9kZS55ICsgZnJlZU5vZGUuaGVpZ2h0KSB7XG5cdFx0XHRsZXQgbmV3Tm9kZSA9IHsgLi4uZnJlZU5vZGUgfTtcblx0XHRcdG5ld05vZGUuaGVpZ2h0ID0gdXNlZE5vZGUueSAtIG5ld05vZGUueTtcblx0XHRcdHRoaXMuZnJlZVJlY3RhbmdsZXMucHVzaChuZXdOb2RlKTtcblx0XHR9XG5cdH1cblxuXHR0cnlMZWF2ZUZyZWVTcGFjZUF0Qm90dG9tKGZyZWVOb2RlLCB1c2VkTm9kZSkge1xuXHRcdGlmICh1c2VkTm9kZS55ICsgdXNlZE5vZGUuaGVpZ2h0IDwgZnJlZU5vZGUueSArIGZyZWVOb2RlLmhlaWdodCkge1xuXHRcdFx0bGV0IG5ld05vZGUgPSB7IC4uLmZyZWVOb2RlIH07XG5cdFx0XHRuZXdOb2RlLnkgPSB1c2VkTm9kZS55ICsgdXNlZE5vZGUuaGVpZ2h0O1xuXHRcdFx0bmV3Tm9kZS5oZWlnaHQgPVxuXHRcdFx0XHRmcmVlTm9kZS55ICsgZnJlZU5vZGUuaGVpZ2h0IC0gKHVzZWROb2RlLnkgKyB1c2VkTm9kZS5oZWlnaHQpO1xuXHRcdFx0dGhpcy5mcmVlUmVjdGFuZ2xlcy5wdXNoKG5ld05vZGUpO1xuXHRcdH1cblx0fVxuXG5cdHRyeVNwbGl0RnJlZU5vZGVIb3Jpem9udGFsbHkoZnJlZU5vZGUsIHVzZWROb2RlKSB7XG5cdFx0aWYgKFxuXHRcdFx0dXNlZE5vZGUueSA8IGZyZWVOb2RlLnkgKyBmcmVlTm9kZS5oZWlnaHQgJiZcblx0XHRcdHVzZWROb2RlLnkgKyB1c2VkTm9kZS5oZWlnaHQgPiBmcmVlTm9kZS55XG5cdFx0KSB7XG5cdFx0XHR0aGlzLnRyeUxlYXZlRnJlZVNwYWNlT25MZWZ0KGZyZWVOb2RlLCB1c2VkTm9kZSk7XG5cdFx0XHR0aGlzLnRyeUxlYXZlRnJlZVNwYWNlT25SaWdodChmcmVlTm9kZSwgdXNlZE5vZGUpO1xuXHRcdH1cblx0fVxuXG5cdHRyeUxlYXZlRnJlZVNwYWNlT25MZWZ0KGZyZWVOb2RlLCB1c2VkTm9kZSkge1xuXHRcdGlmICh1c2VkTm9kZS54ID4gZnJlZU5vZGUueCAmJiB1c2VkTm9kZS54IDwgZnJlZU5vZGUueCArIGZyZWVOb2RlLndpZHRoKSB7XG5cdFx0XHRsZXQgbmV3Tm9kZSA9IHsgLi4uZnJlZU5vZGUgfTtcblx0XHRcdG5ld05vZGUud2lkdGggPSB1c2VkTm9kZS54IC0gbmV3Tm9kZS54O1xuXHRcdFx0dGhpcy5mcmVlUmVjdGFuZ2xlcy5wdXNoKG5ld05vZGUpO1xuXHRcdH1cblx0fVxuXG5cdHRyeUxlYXZlRnJlZVNwYWNlT25SaWdodChmcmVlTm9kZSwgdXNlZE5vZGUpIHtcblx0XHRpZiAodXNlZE5vZGUueCArIHVzZWROb2RlLndpZHRoIDwgZnJlZU5vZGUueCArIGZyZWVOb2RlLndpZHRoKSB7XG5cdFx0XHRsZXQgbmV3Tm9kZSA9IHsgLi4uZnJlZU5vZGUgfTtcblx0XHRcdG5ld05vZGUueCA9IHVzZWROb2RlLnggKyB1c2VkTm9kZS53aWR0aDtcblx0XHRcdG5ld05vZGUud2lkdGggPVxuXHRcdFx0XHRmcmVlTm9kZS54ICsgZnJlZU5vZGUud2lkdGggLSAodXNlZE5vZGUueCArIHVzZWROb2RlLndpZHRoKTtcblx0XHRcdHRoaXMuZnJlZVJlY3RhbmdsZXMucHVzaChuZXdOb2RlKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogR29lcyB0aHJvdWdoIHRoZSBmcmVlIHJlY3RhbmdsZSBsaXN0IGFuZCByZW1vdmVzIGFueSByZWR1bmRhbnQgZW50cmllcy5cblx0ICovXG5cdHBydW5lRnJlZUxpc3QoKSB7XG5cdFx0bGV0IGkgPSAwO1xuXHRcdHdoaWxlIChpIDwgdGhpcy5mcmVlUmVjdGFuZ2xlcy5sZW5ndGgpIHtcblx0XHRcdGxldCBqID0gaSArIDE7XG5cdFx0XHRpZiAoaiA9PT0gdGhpcy5mcmVlUmVjdGFuZ2xlcy5sZW5ndGgpIHtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHR3aGlsZSAoaiA8IHRoaXMuZnJlZVJlY3RhbmdsZXMubGVuZ3RoKSB7XG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHR0aGlzLmlzQ29udGFpbmVkSW4odGhpcy5mcmVlUmVjdGFuZ2xlc1tpXSwgdGhpcy5mcmVlUmVjdGFuZ2xlc1tqXSlcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0dGhpcy5mcmVlUmVjdGFuZ2xlcy5zcGxpY2UoaSwgMSk7XG5cdFx0XHRcdFx0aS0tO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHR0aGlzLmlzQ29udGFpbmVkSW4odGhpcy5mcmVlUmVjdGFuZ2xlc1tqXSwgdGhpcy5mcmVlUmVjdGFuZ2xlc1tpXSlcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0dGhpcy5mcmVlUmVjdGFuZ2xlcy5zcGxpY2UoaiwgMSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aisrO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGkrKztcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRpc0NvbnRhaW5lZEluKHJlY3RBLCByZWN0Qikge1xuXHRcdHJldHVybiAoXG5cdFx0XHRyZWN0QSAmJlxuXHRcdFx0cmVjdEIgJiZcblx0XHRcdHJlY3RBLnggPj0gcmVjdEIueCAmJlxuXHRcdFx0cmVjdEEueSA+PSByZWN0Qi55ICYmXG5cdFx0XHRyZWN0QS54ICsgcmVjdEEud2lkdGggPD0gcmVjdEIueCArIHJlY3RCLndpZHRoICYmXG5cdFx0XHRyZWN0QS55ICsgcmVjdEEuaGVpZ2h0IDw9IHJlY3RCLnkgKyByZWN0Qi5oZWlnaHRcblx0XHQpO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBGcmVlU3BhY2VCb3gge1xuICB4ID0gMFxuICB5ID0gMFxuICB3aWR0aCA9IG51bGxcbiAgaGVpZ2h0ID0gbnVsbFxuXG4gIGNvbnN0cnVjdG9yKHdpZHRoLCBoZWlnaHQpIHtcbiAgICB0aGlzLndpZHRoID0gd2lkdGhcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodFxuICB9XG5cbn0iLCJpbXBvcnQgQmluIGZyb20gXCIuL0JpblwiO1xuaW1wb3J0IEJveCBmcm9tIFwiLi9Cb3hcIjtcbmltcG9ydCBTY29yZSBmcm9tIFwiLi9TY29yZVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTY29yZUJvYXJkRW50cnkge1xuICAgIGJpbjogQmluO1xuICAgIGJveDogQm94O1xuICAgIHNjb3JlOiBTY29yZTtcblxuICAgIGNvbnN0cnVjdG9yKGJpbjogQmluLCBib3g6IEJveCkge1xuICAgICAgICB0aGlzLmJpbiA9IGJpblxuICAgICAgICB0aGlzLmJveCA9IGJveFxuICAgIH1cblxuICAgIGNhbGN1bGF0ZSgpIHtcbiAgICAgICAgdGhpcy5zY29yZSA9IHRoaXMuYmluLnNjb3JlRm9yKHRoaXMuYm94KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcmU7XG4gICAgfVxuXG4gICAgZml0KCkge1xuICAgICAgICByZXR1cm4gIXRoaXMuc2NvcmUuaXNCbGFuaygpO1xuICAgIH1cbn0iLCIvLyAjICAgICAgIGJveF8xIGJveF8yIGJveF8zIC4uLlxuLy8gIyBiaW5fMSAgMTAwICAgMjAwICAgIDBcbi8vICMgYmluXzIgICAwICAgICA1ICAgICAwXG4vLyAjIGJpbl8zICAgOSAgICAxMDAgICAgMFxuLy8gIyAuLi5cbmltcG9ydCBCaW4gZnJvbSAnLi9CaW4nO1xuaW1wb3J0IEJveCBmcm9tICcuL0JveCc7XG5pbXBvcnQgU2NvcmVCb2FyZEVudHJ5IGZyb20gJy4vU2NvcmVCb2FyZEVudHJ5JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2NvcmVCb2FyZCB7XG5cdGVudHJpZXM6IFNjb3JlQm9hcmRFbnRyeVtdID0gW107XG5cblx0Y29uc3RydWN0b3IoYmluczogQmluW10sIGJveGVzOiBCb3hbXSkge1xuXHRcdGJpbnMuZm9yRWFjaCgoYmluKSA9PiB7XG5cdFx0XHR0aGlzLmFkZEJpbkVudHJpZXMoYmluLCBib3hlcyk7XG5cdFx0fSk7XG5cdH1cblxuXHRkZWJ1ZygpIHtcblx0XHRyZXF1aXJlKCdjb25zb2xlLnRhYmxlJyk7XG5cdFx0Y29uc29sZS50YWJsZShcblx0XHRcdHRoaXMuZW50cmllcy5tYXAoKGVudHJ5KSA9PiAoe1xuXHRcdFx0XHRiaW46IGVudHJ5LmJpbi5sYWJlbCxcblx0XHRcdFx0Ym94OiBlbnRyeS5ib3gubGFiZWwsXG5cdFx0XHRcdHNjb3JlOiBlbnRyeS5zY29yZSxcblx0XHRcdH0pKVxuXHRcdCk7XG5cdH1cblxuXHRhZGRCaW5FbnRyaWVzKGJpbiwgYm94ZXMpIHtcblx0XHRib3hlcy5mb3JFYWNoKChib3gpID0+IHtcblx0XHRcdGxldCBlbnRyeSA9IG5ldyBTY29yZUJvYXJkRW50cnkoYmluLCBib3gpO1xuXHRcdFx0ZW50cnkuY2FsY3VsYXRlKCk7XG5cdFx0XHR0aGlzLmVudHJpZXMucHVzaChlbnRyeSk7XG5cdFx0fSk7XG5cdH1cblxuXHRsYXJnZXN0Tm90Rml0aW5nQm94KCkge1xuICAgICAgICBsZXQgdW5maXQ7XG5cdFx0bGV0IGZpdHRpbmdCb3hlcyA9IHRoaXMuZW50cmllc1xuXHRcdFx0LmZpbHRlcigoZW50cnkpID0+IGVudHJ5LmZpdClcblx0XHRcdC5tYXAoKGVudHJ5KSA9PiBlbnRyeS5ib3gpO1xuXG5cdFx0dGhpcy5lbnRyaWVzLmZvckVhY2goKGVudHJ5KSA9PiB7XG5cdFx0XHRpZiAoIWZpdHRpbmdCb3hlcy5pbmNsdWRlcyhlbnRyeS5ib3gpKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdGlmICh1bmZpdCA9PT0gbnVsbCB8fCB1bmZpdC5ib3guYXJlYSA8IGVudHJ5LmJveC5hcmVhKSB7XG5cdFx0XHRcdHVuZml0ID0gZW50cnk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gdW5maXQuYm94ID8gdW5maXQgOiBmYWxzZTtcblx0fVxuXG5cdGJlc3RGaXQoKSB7XG5cdFx0bGV0IGJlc3Q6IFNjb3JlQm9hcmRFbnRyeSB8IG51bGwgPSBudWxsO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5lbnRyaWVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRsZXQgZW50cnkgPSB0aGlzLmVudHJpZXNbaV07XG5cdFx0XHRpZiAoIWVudHJ5LmZpdCgpKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGJlc3QgPT09IG51bGwgfHwgZW50cnkuc2NvcmUgPCBiZXN0LnNjb3JlKSB7XG5cdFx0XHRcdGJlc3QgPSBlbnRyeTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIGJlc3Q7XG5cdH1cblxuXHRyZW1vdmVCb3goYm94KSB7XG5cdFx0dGhpcy5lbnRyaWVzID0gdGhpcy5lbnRyaWVzLmZpbHRlcigoZW50cnkpID0+IHtcblx0XHRcdHJldHVybiBlbnRyeS5ib3ggIT09IGJveDtcblx0XHR9KTtcblx0fVxuXG5cdGFkZEJpbihiaW4pIHtcblx0XHR0aGlzLmFkZEJpbkVudHJpZXMoYmluLCB0aGlzLmN1cnJlbnRCb3hlcygpKTtcblx0fVxuXG5cdHJlY2FsY3VsYXRlQmluKGJpbikge1xuXHRcdHRoaXMuZW50cmllc1xuXHRcdFx0LmZpbHRlcigoZW50cnkpID0+IGVudHJ5LmJpbiA9PT0gYmluKVxuXHRcdFx0LmZvckVhY2goKGVudHJ5KSA9PiBlbnRyeS5jYWxjdWxhdGUoKSk7XG5cdH1cblxuXHRjdXJyZW50Qm94ZXMoKSB7XG5cdFx0cmV0dXJuIFsuLi5uZXcgU2V0KHRoaXMuZW50cmllcy5tYXAoKGVudHJ5KSA9PiBlbnRyeS5ib3gpKV07XG5cdH1cbn1cbiIsImltcG9ydCBCaW4gZnJvbSAnLi9CaW4nO1xuaW1wb3J0IEJveCBmcm9tICcuL0JveCc7XG5pbXBvcnQgU2NvcmUgZnJvbSAnLi9TY29yZSc7XG5pbXBvcnQgU2NvcmVCb2FyZCBmcm9tICcuL1Njb3JlQm9hcmQnO1xuaW1wb3J0IFNjb3JlQm9hcmRFbnRyeSBmcm9tICcuL1Njb3JlQm9hcmRFbnRyeSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhY2tlciB7XG5cdGJpbnM6IEJpbltdID0gW107XG5cdHVucGFja2VkQm94ZXM6IEJveFtdID0gW107XG5cblx0Y29uc3RydWN0b3IoYmluczogQmluW10pIHtcblx0XHR0aGlzLmJpbnMgPSBiaW5zO1xuXHR9XG5cblx0cGFjayhib3hlczogQm94W10sIG9wdGlvbnM6IHsgbGltaXQ/OiBudW1iZXIgfSA9IHt9KSB7XG4gICAgICAgIGxldCBwYWNrZWRCb3hlczogUGFydGlhbDxTY29yZUJvYXJkRW50cnk+W10gPSBbXTtcbiAgICAgICAgbGV0IGVudHJ5OiBTY29yZUJvYXJkRW50cnkgfCBudWxsO1xuXG5cdFx0Ym94ZXMgPSBib3hlcy5maWx0ZXIoKGJveCkgPT4gIWJveC5wYWNrZWQpO1xuXHRcdGlmIChib3hlcy5sZW5ndGggPT09IDApIHJldHVybiBwYWNrZWRCb3hlcztcblxuXHRcdGxldCBsaW1pdCA9IG9wdGlvbnMubGltaXQgfHwgU2NvcmUuTUFYX0lOVDtcblx0XHRsZXQgYm9hcmQgPSBuZXcgU2NvcmVCb2FyZCh0aGlzLmJpbnMsIGJveGVzKTtcblx0XHR3aGlsZSAoKGVudHJ5ID0gYm9hcmQuYmVzdEZpdCgpKSkge1xuXHRcdFx0ZW50cnkuYmluLmluc2VydChlbnRyeS5ib3gpO1xuXHRcdFx0Ym9hcmQucmVtb3ZlQm94KGVudHJ5LmJveCk7XG5cdFx0XHRib2FyZC5yZWNhbGN1bGF0ZUJpbihlbnRyeS5iaW4pO1xuICAgICAgICAgICAgcGFja2VkQm94ZXMucHVzaCh7Ym94OiBlbnRyeS5ib3gsIHNjb3JlOiBlbnRyeS5zY29yZX0pO1xuXHRcdFx0aWYgKHBhY2tlZEJveGVzLmxlbmd0aCA+PSBsaW1pdCkge1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGlzLnVucGFja2VkQm94ZXMgPSBib3hlcy5maWx0ZXIoKGJveCkgPT4ge1xuXHRcdFx0cmV0dXJuICFib3gucGFja2VkO1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHBhY2tlZEJveGVzO1xuXHR9XG59IiwiaW1wb3J0IEJhc2UgZnJvbSAnLi9CYXNlJztcbmltcG9ydCBTY29yZSBmcm9tICcuLi9TY29yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJlc3RBcmVhRml0IGV4dGVuZHMgQmFzZSB7XG5cbiAgY2FsY3VsYXRlU2NvcmUoZnJlZVJlY3QsIHJlY3RXaWR0aCwgcmVjdEhlaWdodCkge1xuICAgIGxldCBhcmVhRml0ID0gZnJlZVJlY3Qud2lkdGggKiBmcmVlUmVjdC5oZWlnaHQgLSByZWN0V2lkdGggKiByZWN0SGVpZ2h0O1xuICAgIGxldCBsZWZ0T3Zlckhvcml6ID0gTWF0aC5hYnMoZnJlZVJlY3Qud2lkdGggLSByZWN0V2lkdGgpO1xuICAgIGxldCBsZWZ0T3ZlclZlcnQgPSBNYXRoLmFicyhmcmVlUmVjdC5oZWlnaHQgLSByZWN0SGVpZ2h0KTtcbiAgICBsZXQgc2hvcnRTaWRlRml0ID0gTWF0aC5taW4obGVmdE92ZXJIb3JpeiwgbGVmdE92ZXJWZXJ0KTtcbiAgICByZXR1cm4gbmV3IFNjb3JlKGFyZWFGaXQsIHNob3J0U2lkZUZpdCk7XG4gIH1cblxufSIsImltcG9ydCBCYXNlIGZyb20gJy4vQmFzZSc7XG5pbXBvcnQgU2NvcmUgZnJvbSAnLi4vU2NvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCZXN0TG9uZ1NpZGVGaXQgZXh0ZW5kcyBCYXNlIHtcblxuICBjYWxjdWxhdGVTY29yZShmcmVlUmVjdCwgcmVjdFdpZHRoLCByZWN0SGVpZ2h0KSB7XG4gICAgbGV0IGxlZnRPdmVySG9yaXogPSBNYXRoLmFicyhmcmVlUmVjdC53aWR0aCAtIHJlY3RXaWR0aCk7XG4gICAgbGV0IGxlZnRPdmVyVmVydCA9IE1hdGguYWJzKGZyZWVSZWN0LmhlaWdodCAtIHJlY3RIZWlnaHQpO1xuICAgIGxldCBhcmdzID0gW2xlZnRPdmVySG9yaXosIGxlZnRPdmVyVmVydF0uc29ydCgoYSwgYikgPT4gYSAtIGIpLnJldmVyc2UoKTtcbiAgICByZXR1cm4gbmV3IFNjb3JlKGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICB9XG5cbn0iLCJpbXBvcnQgQmFzZSBmcm9tICcuL0Jhc2UnO1xuaW1wb3J0IFNjb3JlIGZyb20gJy4uL1Njb3JlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQm90dG9tTGVmdCBleHRlbmRzIEJhc2Uge1xuXG4gIGNhbGN1bGF0ZVNjb3JlKGZyZWVSZWN0LCByZWN0V2lkdGgsIHJlY3RIZWlnaHQpIHtcbiAgICBsZXQgdG9wU2lkZVkgPSBmcmVlUmVjdC55ICsgcmVjdEhlaWdodDtcbiAgICByZXR1cm4gbmV3IFNjb3JlKHRvcFNpZGVZLCBmcmVlUmVjdC54KTtcbiAgfVxuXG59IiwiLyoqXG4gKiBQcmVjaXNpb24gdG8gcmV0YWluIGluIGZhY3RvcmVkSW50ZWdlcigpXG4gKi9cbmNvbnN0IEZBQ1RPUiA9IDU7XG5cbi8qKlxuICogRmFjdG9yIGEgbnVtYmVyIGJ5IEZBQ1RPUiBhbmQgcm91bmQgdG8gdGhlIG5lYXJlc3Qgd2hvbGUgbnVtYmVyXG4gKi9cbmV4cG9ydCBjb25zdCBmYWN0b3JlZEludGVnZXIgPSAoIHZhbHVlICkgPT4gKFxuICAgIE1hdGgucm91bmQoIHZhbHVlICogKCAxMCAqKiBGQUNUT1IgKSApXG4pO1xuIiwibGV0IGlzTG9nRW5hYmxlZCA9IGZhbHNlO1xuZXhwb3J0IGZ1bmN0aW9uIGVuYWJsZUxvZyhlbmFibGUgPSB0cnVlKSB7XG4gICAgaXNMb2dFbmFibGVkID0gZW5hYmxlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTG9nZ2VyKG5hbWVzcGFjZSA9ICdiaW5wYWNraW5nanMnKSB7XG4gICAgcmV0dXJuIGxvZy5iaW5kKHVuZGVmaW5lZCwgbmFtZXNwYWNlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvZyhuYW1lc3BhY2UsIC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gaXNMb2dFbmFibGVkID8gY29uc29sZS5kZWJ1Zy5hcHBseShjb25zb2xlLCBbbmFtZXNwYWNlXS5jb25jYXQoYXJncykpIDogdW5kZWZpbmVkO1xufSIsImltcG9ydCB7IGZhY3RvcmVkSW50ZWdlciB9IGZyb20gJy4vdXRpbCc7XG5pbXBvcnQge2NyZWF0ZUxvZ2dlcn0gZnJvbSBcIi4uL2xpYi9sb2dcIjtcbmNvbnN0IGxvZyA9IGNyZWF0ZUxvZ2dlcignM0Q6Jyk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJpbiB7XG5cbiAgbmFtZSA9ICcnO1xuICB3aWR0aCA9IDA7XG4gIGhlaWdodCA9IDA7XG4gIGRlcHRoID0gMDtcbiAgbWF4V2VpZ2h0ID0gMDtcblxuICBpdGVtcyA9IFtdO1xuXG4gIGNvbnN0cnVjdG9yKG5hbWUsIHcsIGgsIGQsIG13KSB7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLndpZHRoID0gZmFjdG9yZWRJbnRlZ2VyKCB3ICk7XG4gICAgdGhpcy5oZWlnaHQgPSBmYWN0b3JlZEludGVnZXIoIGggKTtcbiAgICB0aGlzLmRlcHRoID0gZmFjdG9yZWRJbnRlZ2VyKCBkICk7XG4gICAgdGhpcy5tYXhXZWlnaHQgPSBmYWN0b3JlZEludGVnZXIoIG13ICk7XG4gIH1cblxuICBnZXROYW1lKCkge1xuICAgIHJldHVybiB0aGlzLm5hbWU7XG4gIH1cblxuICBnZXRXaWR0aCgpIHtcbiAgICByZXR1cm4gdGhpcy53aWR0aDtcbiAgfVxuXG4gIGdldEhlaWdodCgpIHtcbiAgICByZXR1cm4gdGhpcy5oZWlnaHQ7XG4gIH1cblxuICBnZXREZXB0aCgpIHtcbiAgICByZXR1cm4gdGhpcy5kZXB0aDtcbiAgfVxuXG4gIGdldE1heFdlaWdodCgpIHtcbiAgICByZXR1cm4gdGhpcy5tYXhXZWlnaHQ7XG4gIH1cblxuICBnZXRJdGVtcygpIHtcbiAgICByZXR1cm4gdGhpcy5pdGVtcztcbiAgfVxuXG4gIGdldFZvbHVtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRXaWR0aCgpICogdGhpcy5nZXRIZWlnaHQoKSAqIHRoaXMuZ2V0RGVwdGgoKTtcbiAgfVxuXG4gIGdldFBhY2tlZFdlaWdodCgpIHtcbiAgICByZXR1cm4gdGhpcy5pdGVtcy5yZWR1Y2UoICggd2VpZ2h0LCBpdGVtICkgPT4gd2VpZ2h0ICsgaXRlbS5nZXRXZWlnaHQoKSwgMCApO1xuICB9XG5cbiAgd2VpZ2hJdGVtKGl0ZW0pIHtcbiAgICBjb25zdCBtYXhXZWlnaHQgPSB0aGlzLmdldE1heFdlaWdodCgpO1xuICAgIHJldHVybiAhIG1heFdlaWdodCB8fCBpdGVtLmdldFdlaWdodCgpICsgdGhpcy5nZXRQYWNrZWRXZWlnaHQoKSA8PSBtYXhXZWlnaHQ7XG4gIH1cblxuICAvKipcbiAgICogQ2FsY3VsYXRlIGEgc2NvcmUgZm9yIGEgZ2l2ZW4gaXRlbSBhbmQgcm90YXRpb24gdHlwZS5cbiAgICpcbiAgICogU2NvcmVzIGFyZSBoaWdoZXIgZm9yIHJvdGF0aW9ucyB0aGF0IGNsb3Nlc3QgbWF0Y2ggaXRlbSBkaW1lbnNpb25zIHRvIEJpbiBkaW1lbnNpb25zLlxuICAgKiBGb3IgZXhhbXBsZSwgcm90YXRpbmcgdGhlIGl0ZW0gc28gdGhlIGxvbmdlc3Qgc2lkZSBpcyBhbGlnbmVkIHdpdGggdGhlIGxvbmdlc3QgQmluIHNpZGUuXG4gICAqXG4gICAqIEV4YW1wbGUgKEJpbiBpcyAxMSB4IDguNSB4IDUuNSwgSXRlbSBpcyA4LjEgeCA1LjIgeCA1LjIpOlxuICAgKiAgUm90YXRpb24gMDpcbiAgICogICAgOC4xIC8gMTEgID0gMC43MzZcbiAgICogICAgNS4yIC8gOC41ID0gMC42MTJcbiAgICogICAgNS4yIC8gNS41ID0gMC45NDVcbiAgICogICAgLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogICAgMC43MzYgKiogMiArIDAuNjEyICoqIDIgKyAwLjk0NSAqKiAyID0gMS44MDlcbiAgICpcbiAgICogIFJvdGF0aW9uIDE6XG4gICAqICAgIDguMSAvIDguNSA9IDAuOTUzXG4gICAqICAgIDUuMiAvIDExID0gMC40NzNcbiAgICogICAgNS4yIC8gNS41ID0gMC45NDVcbiAgICogICAgLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogICAgMC45NTMgKiogMiArIDAuNDczICoqIDIgKyAwLjk0NSAqKiAyID0gMi4wMjVcbiAgICpcbiAgICogQHBhcmFtIHtJdGVtfSBpdGVtXG4gICAqIEBwYXJhbSB7aW50fSByb3RhdGlvblR5cGVcbiAgICogQHJldHVybiB7ZmxvYXR9IHNjb3JlXG4gICAqL1xuICBzY29yZVJvdGF0aW9uKGl0ZW0sIHJvdGF0aW9uVHlwZSkge1xuICAgIGl0ZW0ucm90YXRpb25UeXBlID0gcm90YXRpb25UeXBlO1xuICAgIGxldCBkID0gaXRlbS5nZXREaW1lbnNpb24oKTtcblxuICAgIC8vIElmIHRoZSBpdGVtIGRvZXNuJ3QgZml0IGluIHRoZSBCaW5cbiAgICBpZiAoIHRoaXMuZ2V0V2lkdGgoKSA8IGRbMF0gfHwgdGhpcy5nZXRIZWlnaHQoKSA8IGRbMV0gfHwgdGhpcy5nZXREZXB0aCgpIDwgZFsyXSApIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgLy8gU3F1YXJlIHRoZSByZXN1bHRzIHRvIGluY3JlYXNlIHRoZSBpbXBhY3Qgb2YgaGlnaCB2YWx1ZXMgKGUuZy4gPiAwLjgpXG4gICAgY29uc3Qgd2lkdGhTY29yZSA9IE1hdGgucG93KCBkWzBdIC8gdGhpcy5nZXRXaWR0aCgpLCAyICk7XG4gICAgY29uc3QgaGVpZ2h0U2NvcmUgPSBNYXRoLnBvdyggZFsxXSAvIHRoaXMuZ2V0SGVpZ2h0KCksIDIgKTtcbiAgICBjb25zdCBkZXB0aFNjb3JlID0gTWF0aC5wb3coIGRbMl0gLyB0aGlzLmdldERlcHRoKCksIDIgKTtcblxuICAgIHJldHVybiB3aWR0aFNjb3JlICsgaGVpZ2h0U2NvcmUgKyBkZXB0aFNjb3JlO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB0aGUgYmVzdCByb3RhdGlvbiBvcmRlciBmb3IgYSBnaXZlbiBJdGVtIGJhc2VkIG9uIHNjb3JlUm90YXRpb24oKS5cbiAgICpcbiAgICogQHBhcmFtIHtJdGVtfSBpdGVtXG4gICAqIEByZXR1cm4ge0FycmF5fSBSb3RhdGlvbiB0eXBlcyBzb3J0ZWQgYnkgdGhlaXIgc2NvcmUsIERFU0NcbiAgICovXG4gIGdldEJlc3RSb3RhdGlvbk9yZGVyKGl0ZW0pIHtcbiAgICBjb25zdCByb3RhdGlvblNjb3JlcyA9IHt9O1xuXG4gICAgLy8gU2NvcmUgYWxsIHJvdGF0aW9uIHR5cGVzXG5cdGZvciAobGV0IGk9MDsgaTxpdGVtLmFsbG93ZWRSb3RhdGlvbi5sZW5ndGg7IGkrKykge1xuXHQgICAgY29uc3QgciA9IGl0ZW0uYWxsb3dlZFJvdGF0aW9uW2ldO1xuXHRcdHJvdGF0aW9uU2NvcmVzW3JdID0gdGhpcy5zY29yZVJvdGF0aW9uKCBpdGVtLCByICk7XG4gICAgfVxuXG4gICAgLy8gU29ydCB0aGUgcm90YXRpb24gdHlwZXMgKGluZGV4IG9mIHNjb3JlcyBvYmplY3QpIERFU0NcbiAgICAvLyBhbmQgZW5zdXJlIEludCB2YWx1ZXMgKE9iamVjdC5rZXlzIHJldHVybnMgc3RyaW5ncylcbiAgICBjb25zdCBzb3J0ZWRSb3RhdGlvbnMgPSBPYmplY3Qua2V5cyggcm90YXRpb25TY29yZXMgKS5zb3J0KCAoIGEsIGIgKSA9PiB7XG4gICAgICByZXR1cm4gcm90YXRpb25TY29yZXNbYl0gLSByb3RhdGlvblNjb3Jlc1thXTtcbiAgICB9ICkubWFwKCBOdW1iZXIgKTtcblxuICAgIHJldHVybiBzb3J0ZWRSb3RhdGlvbnM7XG4gIH1cblxuICBwdXRJdGVtKGl0ZW0sIHApIHtcbiAgICBjb25zdCBib3ggPSB0aGlzO1xuICAgIGxldCBmaXQgPSBmYWxzZTtcbiAgICBjb25zdCByb3RhdGlvbnMgPSB0aGlzLmdldEJlc3RSb3RhdGlvbk9yZGVyKCBpdGVtICk7XG4gICAgaXRlbS5wb3NpdGlvbiA9IHA7XG5cbiAgICBmb3IgKCBsZXQgaSA9IDA7IGkgPCByb3RhdGlvbnMubGVuZ3RoOyBpKysgKSB7XG4gICAgICBpdGVtLnJvdGF0aW9uVHlwZSA9IHJvdGF0aW9uc1tpXTtcbiAgICAgIGxldCBkID0gaXRlbS5nZXREaW1lbnNpb24oKTtcblxuICAgICAgaWYgKGJveC5nZXRXaWR0aCgpIDwgcFswXSArIGRbMF0gfHwgYm94LmdldEhlaWdodCgpIDwgcFsxXSArIGRbMV0gfHwgYm94LmdldERlcHRoKCkgPCBwWzJdICsgZFsyXSkge1xuICAgICAgICBmaXQgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZpdCA9IHRydWU7XG5cbiAgICAgICAgZm9yIChsZXQgaj0wOyBqPGJveC5pdGVtcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgIGxldCBfaiA9IGJveC5pdGVtc1tqXTtcbiAgICAgICAgICBpZiAoX2ouaW50ZXJzZWN0KGl0ZW0pKSB7XG4gICAgICAgICAgICBmaXQgPSBmYWxzZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmaXQpIHtcbiAgICAgICAgICBib3guaXRlbXMucHVzaChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsb2coJ3RyeSB0byBwdXRJdGVtJywgZml0LCAnaXRlbScsIGl0ZW0udG9TdHJpbmcoKSwgJ2JveCcsIGJveC50b1N0cmluZygpKTtcblxuICAgICAgaWYgKGZpdCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZpdDtcbiAgfVxuXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBgQmluOiR7dGhpcy5uYW1lfSAoV3hIeEQgPSAke3RoaXMuZ2V0V2lkdGgoKX14JHt0aGlzLmdldEhlaWdodCgpfXgke3RoaXMuZ2V0RGVwdGgoKX0sIE1heFdnLiA9ICR7dGhpcy5nZXRNYXhXZWlnaHQoKX0pYDtcbiAgfVxuXG59IiwiaW1wb3J0IHsgZmFjdG9yZWRJbnRlZ2VyIH0gZnJvbSAnLi91dGlsJztcblxuZXhwb3J0IGNvbnN0IFJvdGF0aW9uVHlwZV9XSEQgPSAwO1xuZXhwb3J0IGNvbnN0IFJvdGF0aW9uVHlwZV9IV0QgPSAxO1xuZXhwb3J0IGNvbnN0IFJvdGF0aW9uVHlwZV9IRFcgPSAyO1xuZXhwb3J0IGNvbnN0IFJvdGF0aW9uVHlwZV9ESFcgPSAzO1xuZXhwb3J0IGNvbnN0IFJvdGF0aW9uVHlwZV9EV0ggPSA0O1xuZXhwb3J0IGNvbnN0IFJvdGF0aW9uVHlwZV9XREggPSA1O1xuXG5leHBvcnQgY29uc3QgV2lkdGhBeGlzID0gMDtcbmV4cG9ydCBjb25zdCBIZWlnaHRBeGlzID0gMTtcbmV4cG9ydCBjb25zdCBEZXB0aEF4aXMgPSAyO1xuXG5leHBvcnQgY29uc3QgU3RhcnRQb3NpdGlvbiA9IFswLCAwLCAwXTtcblxuZXhwb3J0IGNvbnN0IFJvdGF0aW9uVHlwZVN0cmluZ3MgPSB7XG4gIFtSb3RhdGlvblR5cGVfV0hEXTogJ1JvdGF0aW9uVHlwZV9XSEQgKHcsaCxkKScsXG4gIFtSb3RhdGlvblR5cGVfSFdEXTogJ1JvdGF0aW9uVHlwZV9IV0QgKGgsdyxkKScsXG4gIFtSb3RhdGlvblR5cGVfSERXXTogJ1JvdGF0aW9uVHlwZV9IRFcgKGgsZCx3KScsXG4gIFtSb3RhdGlvblR5cGVfREhXXTogJ1JvdGF0aW9uVHlwZV9ESFcgKGQsaCx3KScsXG4gIFtSb3RhdGlvblR5cGVfRFdIXTogJ1JvdGF0aW9uVHlwZV9EV0ggKGQsdyxoKScsXG4gIFtSb3RhdGlvblR5cGVfV0RIXTogJ1JvdGF0aW9uVHlwZV9XREggKHcsZCxoKScsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJdGVtIHtcblxuICBuYW1lID0gJyc7XG4gIHdpZHRoID0gMDtcbiAgaGVpZ2h0ID0gMDtcbiAgZGVwdGggPSAwO1xuICB3ZWlnaHQgPSAwO1xuICBhbGxvd2VkUm90YXRpb24gPSBbMCwxLDIsMyw0LDVdO1xuXG4gIHJvdGF0aW9uVHlwZSA9IFJvdGF0aW9uVHlwZV9XSEQ7XG4gIHBvc2l0aW9uID0gW107IC8vIHgsIHksIHpcblxuICBjb25zdHJ1Y3RvcihuYW1lLCB3LCBoLCBkLCB3ZywgYWxsb3dlZFJvdGF0aW9uKSB7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLndpZHRoID0gZmFjdG9yZWRJbnRlZ2VyKCB3ICk7XG4gICAgdGhpcy5oZWlnaHQgPSBmYWN0b3JlZEludGVnZXIoIGggKTtcbiAgICB0aGlzLmRlcHRoID0gZmFjdG9yZWRJbnRlZ2VyKCBkICk7XG4gICAgdGhpcy53ZWlnaHQgPSBmYWN0b3JlZEludGVnZXIoIHdnICk7XG4gICAgdGhpcy5hbGxvd2VkUm90YXRpb24gPSBhbGxvd2VkUm90YXRpb24gPyBhbGxvd2VkUm90YXRpb24gOiB0aGlzLmFsbG93ZWRSb3RhdGlvbjtcbiAgfVxuXG4gIGdldFdpZHRoKCkge1xuICAgIHJldHVybiB0aGlzLndpZHRoO1xuICB9XG5cbiAgZ2V0SGVpZ2h0KCkge1xuICAgIHJldHVybiB0aGlzLmhlaWdodDtcbiAgfVxuXG4gIGdldERlcHRoKCkge1xuICAgIHJldHVybiB0aGlzLmRlcHRoO1xuICB9XG5cbiAgZ2V0V2VpZ2h0KCkge1xuICAgIHJldHVybiB0aGlzLndlaWdodDtcbiAgfVxuXG4gIGdldFJvdGF0aW9uVHlwZSgpIHtcbiAgICByZXR1cm4gdGhpcy5yb3RhdGlvblR5cGU7XG4gIH1cblxuICBnZXRBbGxvd2VkUm90YXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuYWxsb3dlZFJvdGF0aW9uO1xuICB9XG5cbiAgZ2V0Um90YXRpb25UeXBlU3RyaW5nKCkge1xuICAgIHJldHVybiBSb3RhdGlvblR5cGVTdHJpbmdzW3RoaXMuZ2V0Um90YXRpb25UeXBlKCldO1xuICB9XG5cbiAgZ2V0RGltZW5zaW9uKCkge1xuICAgIGxldCBkO1xuICAgIHN3aXRjaCAodGhpcy5yb3RhdGlvblR5cGUpIHtcbiAgICAgIGNhc2UgUm90YXRpb25UeXBlX1dIRDpcbiAgICAgICAgZCA9IFt0aGlzLmdldFdpZHRoKCksIHRoaXMuZ2V0SGVpZ2h0KCksIHRoaXMuZ2V0RGVwdGgoKV07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBSb3RhdGlvblR5cGVfSFdEOlxuICAgICAgICBkID0gW3RoaXMuZ2V0SGVpZ2h0KCksIHRoaXMuZ2V0V2lkdGgoKSwgdGhpcy5nZXREZXB0aCgpXTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFJvdGF0aW9uVHlwZV9IRFc6XG4gICAgICAgIGQgPSBbdGhpcy5nZXRIZWlnaHQoKSwgdGhpcy5nZXREZXB0aCgpLCB0aGlzLmdldFdpZHRoKCldO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgUm90YXRpb25UeXBlX0RIVzpcbiAgICAgICAgZCA9IFt0aGlzLmdldERlcHRoKCksIHRoaXMuZ2V0SGVpZ2h0KCksIHRoaXMuZ2V0V2lkdGgoKV07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBSb3RhdGlvblR5cGVfRFdIOlxuICAgICAgICBkID0gW3RoaXMuZ2V0RGVwdGgoKSwgdGhpcy5nZXRXaWR0aCgpLCB0aGlzLmdldEhlaWdodCgpXTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFJvdGF0aW9uVHlwZV9XREg6XG4gICAgICAgIGQgPSBbdGhpcy5nZXRXaWR0aCgpLCB0aGlzLmdldERlcHRoKCksIHRoaXMuZ2V0SGVpZ2h0KCldO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIGQ7XG4gIH1cblxuICBpbnRlcnNlY3QoaTIpIHtcbiAgICByZXR1cm4gcmVjdEludGVyc2VjdCh0aGlzLCBpMiwgV2lkdGhBeGlzLCBIZWlnaHRBeGlzKSAmJlxuICAgICAgICByZWN0SW50ZXJzZWN0KHRoaXMsIGkyLCBIZWlnaHRBeGlzLCBEZXB0aEF4aXMpICYmXG4gICAgICAgIHJlY3RJbnRlcnNlY3QodGhpcywgaTIsIFdpZHRoQXhpcywgRGVwdGhBeGlzKTtcbiAgfVxuXG4gIGdldFZvbHVtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRXaWR0aCgpICogdGhpcy5nZXRIZWlnaHQoKSAqIHRoaXMuZ2V0RGVwdGgoKTtcbiAgfVxuXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBgSXRlbToke3RoaXMubmFtZX0gKCR7dGhpcy5nZXRSb3RhdGlvblR5cGVTdHJpbmcoKX0gPSAke3RoaXMuZ2V0RGltZW5zaW9uKCkuam9pbigneCcpfSwgV2cuID0gJHt0aGlzLndlaWdodH0pYDtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgcmVjdEludGVyc2VjdCA9IChpMSwgaTIsIHgsIHkpID0+IHtcbiAgbGV0IGQxLCBkMiwgY3gxLCBjeTEsIGN4MiwgY3kyLCBpeCwgaXk7XG5cbiAgZDEgPSBpMS5nZXREaW1lbnNpb24oKTtcbiAgZDIgPSBpMi5nZXREaW1lbnNpb24oKTtcblxuICBjeDEgPSBpMS5wb3NpdGlvblt4XSArIGQxW3hdIC8gMjtcbiAgY3kxID0gaTEucG9zaXRpb25beV0gKyBkMVt5XSAvIDI7XG4gIGN4MiA9IGkyLnBvc2l0aW9uW3hdICsgZDJbeF0gLyAyO1xuICBjeTIgPSBpMi5wb3NpdGlvblt5XSArIGQyW3ldIC8gMjtcblxuICBpeCA9IE1hdGgubWF4KGN4MSwgY3gyKSAtIE1hdGgubWluKGN4MSwgY3gyKTtcbiAgaXkgPSBNYXRoLm1heChjeTEsIGN5MikgLSBNYXRoLm1pbihjeTEsIGN5Mik7XG5cbiAgcmV0dXJuIGl4IDwgKGQxW3hdICsgZDJbeF0pIC8gMiAmJiBpeSA8IChkMVt5XSArIGQyW3ldKSAvIDI7XG59OyIsImltcG9ydCBCaW4gZnJvbSAnLi9CaW4nO1xuaW1wb3J0IHtcbiAgSXRlbSxcbiAgU3RhcnRQb3NpdGlvbixcbiAgV2lkdGhBeGlzLFxuICBIZWlnaHRBeGlzLFxuICBEZXB0aEF4aXNcbn0gZnJvbSAnLi9JdGVtJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGFja2VyIHtcblxuICBiaW5zID0gW107XG4gIGl0ZW1zID0gW107XG4gIHVuZml0SXRlbXMgPSBbXTtcblxuICBhZGRCaW4oYmluKSB7XG4gICAgdGhpcy5iaW5zLnB1c2goYmluKTtcbiAgfVxuXG4gIGFkZEl0ZW0oaXRlbSkge1xuICAgIHRoaXMuaXRlbXMucHVzaChpdGVtKTtcbiAgfVxuXG4gIGZpbmRGaXR0ZWRCaW4oaSkge1xuICAgIGZvciAobGV0IF9pPTA7IF9pPHRoaXMuYmlucy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIGxldCBiID0gdGhpcy5iaW5zW19pXTtcblxuICAgICAgaWYgKCFiLndlaWdoSXRlbShpKSB8fCAhYi5wdXRJdGVtKGksIFN0YXJ0UG9zaXRpb24pKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoYi5pdGVtcy5sZW5ndGggPT09IDEgJiYgYi5pdGVtc1swXSA9PT0gaSkge1xuICAgICAgICBiLml0ZW1zID0gW107XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBiO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGdldEJpZ2dlckJpblRoYW4oYikge1xuICAgIGxldCB2ID0gYi5nZXRWb2x1bWUoKTtcbiAgICBmb3IgKGxldCBfaT0wOyBfaTx0aGlzLmJpbnM7IF9pKyspIHtcbiAgICAgIGxldCBiMiA9IHRoaXMuYmluc1tfaV07XG4gICAgICBpZiAoYjIuZ2V0Vm9sdW1lKCkgPiB2KSB7XG4gICAgICAgIHJldHVybiBiMjtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB1bmZpdEl0ZW0oKSB7XG4gICAgaWYgKHRoaXMuaXRlbXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMudW5maXRJdGVtcy5wdXNoKHRoaXMuaXRlbXNbMF0pO1xuICAgIHRoaXMuaXRlbXMuc3BsaWNlKDAsIDEpO1xuICB9XG5cbiAgcGFja1RvQmluKGIsIGl0ZW1zKSB7XG4gICAgbGV0IGIyID0gbnVsbDtcbiAgICBsZXQgdW5wYWNrZWQgPSBbXTtcbiAgICBsZXQgZml0ID0gYi53ZWlnaEl0ZW0oaXRlbXNbMF0pICYmIGIucHV0SXRlbShpdGVtc1swXSwgU3RhcnRQb3NpdGlvbik7XG5cbiAgICBpZiAoIWZpdCkge1xuICAgICAgbGV0IGIyID0gdGhpcy5nZXRCaWdnZXJCaW5UaGFuKGIpO1xuICAgICAgaWYgKGIyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhY2tUb0JpbihiMiwgaXRlbXMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuaXRlbXM7XG4gICAgfVxuXG4gICAgLy8gUGFjayB1bnBhY2tlZCBpdGVtcy5cbiAgICBmb3IgKGxldCBfaT0xOyBfaSA8IHRoaXMuaXRlbXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICBsZXQgZml0dGVkID0gZmFsc2U7XG4gICAgICBsZXQgaXRlbSA9IHRoaXMuaXRlbXNbX2ldO1xuXG4gICAgICBpZiAoYi53ZWlnaEl0ZW0oaXRlbSkpIHtcbiAgICAgICAgLy8gVHJ5IGF2YWlsYWJsZSBwaXZvdHMgaW4gY3VycmVudCBiaW4gdGhhdCBhcmUgbm90IGludGVyc2VjdCB3aXRoXG4gICAgICAgIC8vIGV4aXN0aW5nIGl0ZW1zIGluIGN1cnJlbnQgYmluLlxuICAgICAgICBsb29rdXA6XG4gICAgICAgIGZvciAobGV0IF9wdD0wOyBfcHQgPCAzOyBfcHQrKykge1xuICAgICAgICAgIGZvciAobGV0IF9qPTA7IF9qIDwgYi5pdGVtcy5sZW5ndGg7IF9qKyspIHtcbiAgICAgICAgICAgIGxldCBwdjtcbiAgICAgICAgICAgIGxldCBpYiA9IGIuaXRlbXNbX2pdO1xuICAgICAgICAgICAgbGV0IGQgPSBpYi5nZXREaW1lbnNpb24oKTtcbiAgICAgICAgICAgIHN3aXRjaCAoX3B0KSB7XG4gICAgICAgICAgICAgIGNhc2UgV2lkdGhBeGlzOlxuICAgICAgICAgICAgICAgIHB2ID0gW2liLnBvc2l0aW9uWzBdICsgZFswXSwgaWIucG9zaXRpb25bMV0sIGliLnBvc2l0aW9uWzJdXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBIZWlnaHRBeGlzOlxuICAgICAgICAgICAgICAgIHB2ID0gW2liLnBvc2l0aW9uWzBdLCBpYi5wb3NpdGlvblsxXSArIGRbMV0sIGliLnBvc2l0aW9uWzJdXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBEZXB0aEF4aXM6XG4gICAgICAgICAgICAgICAgcHYgPSBbaWIucG9zaXRpb25bMF0sIGliLnBvc2l0aW9uWzFdLCBpYi5wb3NpdGlvblsyXSArIGRbMl1dO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYi5wdXRJdGVtKGl0ZW0sIHB2KSkge1xuICAgICAgICAgICAgICBmaXR0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICBicmVhayBsb29rdXA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICghZml0dGVkKSB7XG4gICAgICAgIHdoaWxlIChiMiAhPT0gbnVsbCkge1xuICAgICAgICAgIGIyID0gdGhpcy5nZXRCaWdnZXJCaW5UaGFuKGIpO1xuICAgICAgICAgIGlmIChiMikge1xuICAgICAgICAgICAgYjIuaXRlbXMucHVzaChpdGVtKTtcbiAgICAgICAgICAgIGxldCBsZWZ0ID0gdGhpcy5wYWNrVG9CaW4oYjIsIGIyLml0ZW1zKTtcbiAgICAgICAgICAgIGlmIChsZWZ0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICBiID0gYjI7XG4gICAgICAgICAgICAgIGZpdHRlZCA9IHRydWU7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZml0dGVkKSB7XG4gICAgICAgICAgdW5wYWNrZWQucHVzaChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB1bnBhY2tlZDtcbiAgfVxuXG4gIHBhY2soKSB7XG4gICAgLy8gU29ydCBiaW5zIHNtYWxsZXN0IHRvIGxhcmdlc3QuXG4gICAgdGhpcy5iaW5zLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgIHJldHVybiBhLmdldFZvbHVtZSgpIC0gYi5nZXRWb2x1bWUoKTtcbiAgICB9KTtcblxuICAgIC8vIFNvcnQgaXRlbXMgbGFyZ2VzdCB0byBzbWFsbGVzdC5cbiAgICB0aGlzLml0ZW1zLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgIHJldHVybiBiLmdldFZvbHVtZSgpIC0gYS5nZXRWb2x1bWUoKTtcbiAgICB9KTtcblxuICAgIHdoaWxlICh0aGlzLml0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgIGxldCBiaW4gPSB0aGlzLmZpbmRGaXR0ZWRCaW4odGhpcy5pdGVtc1swXSk7XG5cbiAgICAgIGlmIChiaW4gPT09IG51bGwpIHtcbiAgICAgICAgdGhpcy51bmZpdEl0ZW0oKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuaXRlbXMgPSB0aGlzLnBhY2tUb0JpbihiaW4sIHRoaXMuaXRlbXMpO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG59XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHRpZihfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdKSB7XG5cdFx0cmV0dXJuIF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0uZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIGRlZmluaXRpb24pIHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqLCBwcm9wKSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTsgfSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07Il0sInNvdXJjZVJvb3QiOiIifQ==