!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("BinPacking",[],e):"object"==typeof exports?exports.BinPacking=e():t.BinPacking=e()}(this,(function(){return function(){var t={23:function(t){var e=function(){"use strict";function t(e,n,r,o){"object"==typeof n&&(r=n.depth,o=n.prototype,n.filter,n=n.circular);var s=[],h=[],c="undefined"!=typeof Buffer;return void 0===n&&(n=!0),void 0===r&&(r=1/0),function e(r,u){if(null===r)return null;if(0==u)return r;var a,f;if("object"!=typeof r)return r;if(t.__isArray(r))a=[];else if(t.__isRegExp(r))a=new RegExp(r.source,i(r)),r.lastIndex&&(a.lastIndex=r.lastIndex);else if(t.__isDate(r))a=new Date(r.getTime());else{if(c&&Buffer.isBuffer(r))return a=Buffer.allocUnsafe?Buffer.allocUnsafe(r.length):new Buffer(r.length),r.copy(a),a;void 0===o?(f=Object.getPrototypeOf(r),a=Object.create(f)):(a=Object.create(o),f=o)}if(n){var l=s.indexOf(r);if(-1!=l)return h[l];s.push(r),h.push(a)}for(var p in r){var g;f&&(g=Object.getOwnPropertyDescriptor(f,p)),g&&null==g.set||(a[p]=e(r[p],u-1))}return a}(e,r)}function e(t){return Object.prototype.toString.call(t)}function i(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return t.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},t.__objToStr=e,t.__isDate=function(t){return"object"==typeof t&&"[object Date]"===e(t)},t.__isArray=function(t){return"object"==typeof t&&"[object Array]"===e(t)},t.__isRegExp=function(t){return"object"==typeof t&&"[object RegExp]"===e(t)},t.__getRegExpFlags=i,t}();t.exports&&(t.exports=e)},426:function(t,e,i){!function(){"use strict";!function(){if("undefined"==typeof console)throw new Error("Weird, console object is undefined");if("function"!=typeof console.table||console.table!==l){var e=function(t,e){return typeof e===t}.bind(null,"string"),n=s.bind(null,e),r=s.bind(null,Array.isArray),o=i(185);t.exports.getTable=function(){var t=Array.prototype.slice.call(arguments),e="";return 2===t.length&&"string"==typeof t[0]&&Array.isArray(t[1])?a(t[0],t[1]):2===t.length&&n(t[0])&&r(t[1])?c(t[0],t[1],!0):(t.forEach((function(i,n){if("string"==typeof i)return e+=i,void(n!==t.length-1&&(e+="\n"));Array.isArray(i)?e+=h(i)+"\n":"object"==typeof i&&(e+=f(i))})),e)},console.table=l}function s(t,e){return Array.isArray(e)&&e.every(t)}function h(t){var e=new o;return t.forEach((function(t){"string"==typeof t||"number"==typeof t?e.cell("item",t):Object.keys(t).forEach((function(i){e.cell(i,t[i])})),e.newRow()})),e.toString()}function c(t,e,i){var n=new o;e.forEach((function(e){e.forEach((function(e,i){n.cell(t[i],e)})),n.newRow()}));var r=n.toString();return i?r:console.log(r)}function u(t,e){var i=h(e),n=i.indexOf("\n");if(n>0){t.length>n&&(n=t.length),console.log(t);var r,o="";for(r=0;r<n;r+=1)o+="-";console.log(o)}console.log(i)}function a(t,e){var i=h(e),n=i.indexOf("\n"),r="";if(n>0){t.length>n&&(n=t.length),r+=t+"\n";var o,s="";for(o=0;o<n;o+=1)s+="-";r+=s+"\n"}return r+i}function f(t){return h(function(t){return Object.keys(t).map((function(e){return{key:e,value:t[e]}}))}(t))}function l(){var t=Array.prototype.slice.call(arguments);return 2===t.length&&"string"==typeof t[0]&&Array.isArray(t[1])?u(t[0],t[1]):2===t.length&&n(t[0])&&r(t[1])?c(t[0],t[1]):void t.forEach((function(t){if("string"==typeof t)return console.log(t);Array.isArray(t)?console.log(h(t)):"object"==typeof t&&console.log(f(t))}))}}()}()},451:function(t,e,i){var n=i(23);t.exports=function(t,e){return t=t||{},Object.keys(e).forEach((function(i){void 0===t[i]&&(t[i]=n(e[i]))})),t}},185:function(t,e,i){var n;try{n=i(561)}catch(t){}function r(){this.rows=[],this.row={__printers:{}}}function o(t){return void 0===t?"":""+t}function s(t){var e=t.replace(/\u001b\[\d+m/g,"");return null==n?e.length:n(e)}function h(t){return function(e,i){var n=o(e),r=s(n);return(i>r?Array(i-r+1).join(t):"")+n}}t.exports=r,r.prototype.newRow=function(){return this.rows.push(this.row),this.row={__printers:{}},this},r.prototype.cell=function(t,e,i){return this.row[t]=e,this.row.__printers[t]=i||o,this},r.prototype.separator="  ",r.string=o,r.leftPadder=h;var c=r.padLeft=h(" ");function u(t){return function(e,i){var n=o(e),r=s(n);return n+(i>r?Array(i-r+1).join(t):"")}}r.rightPadder=u;var a=u(" ");function f(t,e){for(var i in t)"__printers"!=i&&e(i,t[i])}function l(t,e){return t===e?0:void 0===t?1:void 0===e?-1:null===t?1:null===e?-1:t>e?1:t<e?-1:l(String(t),String(e))}r.number=function(t){return function(e,i){if(null==e)return"";if("number"!=typeof e)throw new Error(e+" is not a number");var n=null==t?e+"":e.toFixed(t);return c(n,i)}},r.prototype.columns=function(){for(var t={},e=0;e<2;e++)this.rows.forEach((function(e){var i=0;f(e,(function(e){i=Math.max(i,t[e]||0),t[e]=i,i++}))}));return Object.keys(t).sort((function(e,i){return t[e]-t[i]}))},r.prototype.print=function(){var t=this.columns(),e=this.separator,i={},n="";return this.rows.forEach((function(t){f(t,(function(e,n){var r=t.__printers[e].call(t,n);i[e]=Math.max(s(r),i[e]||0)}))})),this.rows.forEach((function(r){var o="";t.forEach((function(t){var n=i[t],s=r.hasOwnProperty(t)?""+r.__printers[t].call(r,r[t],n):"";o+=a(s,n)+e})),o=o.slice(0,-e.length),n+=o+"\n"})),n},r.prototype.toString=function(){var t=this.columns(),e=new r;return e.separator=this.separator,t.forEach((function(t){e.cell(t,t)})),e.newRow(),e.pushDelimeter(t),e.rows=e.rows.concat(this.rows),this.totals&&this.rows.length&&(e.pushDelimeter(t),this.forEachTotal(e.cell.bind(e)),e.newRow()),e.print()},r.prototype.pushDelimeter=function(t){return(t=t||this.columns()).forEach((function(t){this.cell(t,void 0,h("-"))}),this),this.newRow()},r.prototype.forEachTotal=function(t){for(var e in this.totals){var i=this.totals[e],n=i.init,r=this.rows.length;this.rows.forEach((function(t,o){n=i.reduce.call(t,n,t[e],o,r)})),t(e,n,i.printer)}},r.prototype.printTransposed=function(t){t=t||{};var e=new r;return e.separator=t.separator||this.separator,this.columns().forEach((function(i){e.cell(0,i,t.namePrinter),this.rows.forEach((function(t,n){e.cell(n+1,t[i],t.__printers[i])})),e.newRow()}),this),e.print()},r.prototype.sort=function(t){if("function"==typeof t)return this.rows.sort(t),this;var e=(Array.isArray(t)?t:this.columns()).map((function(t){var e="asc",i=/(.*)\|\s*(asc|des)\s*$/.exec(t);return i&&(t=i[1],e=i[2]),function(i,n){return"asc"==e?l(i[t],n[t]):l(n[t],i[t])}}));return this.sort((function(t,i){for(var n=0;n<e.length;n++){var r=e[n](t,i);if(0!=r)return r}return 0}))},r.prototype.total=function(t,e){return e=e||{},this.totals=this.totals||{},this.totals[t]={reduce:e.reduce||r.aggr.sum,printer:e.printer||c,init:null==e.init?0:e.init},this},r.aggr={},r.aggr.printer=function(t,e){return e=e||o,function(i,n){return c(t+e(i),n)}},r.aggr.sum=function(t,e){return t+e},r.aggr.avg=function(t,e,i,n){return t+=e,i+1==n?t/n:t},r.print=function(t,e,i){var n=e||{};e="function"==typeof e?e:function(t,e){for(var i in t)if(t.hasOwnProperty(i)){var r=n[i]||{};e(r.name||i,t[i],r.printer)}};var o=new r,s=o.cell.bind(o);return Array.isArray(t)?(i=i||function(t){return t.toString()},t.forEach((function(t){e(t,s),o.newRow()}))):(i=i||function(t){return t.printTransposed({separator:" : "})},e(t,s),o.newRow()),i(o)},r.log=function(t,e,i){console.log(r.print(t,e,i))},r.prototype.log=function(){console.log(this.toString())}},653:function(t){t.exports=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531],[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]]},561:function(t,e,i){"use strict";var n=i(451),r=i(653),o={nul:0,control:0};function s(t,e){if("string"!=typeof t)return h(t,e);for(var i=0,n=0;n<t.length;n++){var r=h(t.charCodeAt(n),e);if(r<0)return-1;i+=r}return i}function h(t,e){return 0===t?e.nul:t<32||t>=127&&t<160?e.control:function(t){var e,i=0,n=r.length-1;if(t<r[0][0]||t>r[n][1])return!1;for(;n>=i;)if(e=Math.floor((i+n)/2),t>r[e][1])i=e+1;else{if(!(t<r[e][0]))return!0;n=e-1}return!1}(t)?0:1+(t>=4352&&(t<=4447||9001==t||9002==t||t>=11904&&t<=42191&&12351!=t||t>=44032&&t<=55203||t>=63744&&t<=64255||t>=65040&&t<=65049||t>=65072&&t<=65135||t>=65280&&t<=65376||t>=65504&&t<=65510||t>=131072&&t<=196605||t>=196608&&t<=262141))}t.exports=function(t){return s(t,o)},t.exports.config=function(t){return t=n(t||{},o),function(e){return s(e,t)}}},878:function(t,e,i){"use strict";i.r(e),i.d(e,{Bin:function(){return u},Box:function(){return h},Packer:function(){return p},heuristics:function(){return n}});var n={};i.r(n),i.d(n,{BestAreaFit:function(){return g},BestLongSideFit:function(){return y},BestShortSideFit:function(){return s},BottomLeft:function(){return d}});var r=function(){function t(e,i){this.score_1=t.MAX_INT,this.score_2=t.MAX_INT,void 0!==e&&(this.score_1=e),void 0!==i&&(this.score_2=i)}return t.prototype.valueOf=function(){return this.score_1+this.score_2},t.prototype.assign=function(t){this.score_1=t.score_1,this.score_2=t.score_2},t.prototype.isBlank=function(){return this.score_1===t.MAX_INT},t.prototype.decreaseBy=function(t){this.score_1+=t,this.score_2+=t},t.MAX_INT=Number.MAX_SAFE_INTEGER,t}(),o=function(){function t(){}return t.prototype.findPositionForNewNode=function(t,e){var i=this,n=new r,o=t.width,s=t.height;return e.forEach((function(e){i.tryPlaceRectIn(e,t,o,s,n),t.constrainRotation||i.tryPlaceRectIn(e,t,s,o,n)})),n},t.prototype.tryPlaceRectIn=function(t,e,i,n,r){if(t.width>=i&&t.height>=n){var o=this.calculateScore(t,i,n);o<r&&(e.x=t.x,e.y=t.y,e.width=i,e.height=n,e.packed=!0,r.assign(o))}},t.prototype.calculateScore=function(t,e,i){throw"NotImplementedError"},t}();class s extends o{calculateScore(t,e,i){let n=[Math.abs(t.width-e),Math.abs(t.height-i)].sort(((t,e)=>t-e));return new r(n[0],n[1])}}var h=function(t,e,i){void 0===i&&(i=!1),this.width=0,this.height=0,this.x=0,this.y=0,this.constrainRotation=!1,this.packed=!1,this.width=t,this.height=e,this.constrainRotation=i},c=function(){return(c=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},u=function(){function t(t,e,i){this.width=0,this.height=0,this.boxes=[],this.heuristic=null,this.freeRectangles=[],this.width=t,this.height=e,this.freeRectangles=[new a(t,e)],this.heuristic=i||new s}return Object.defineProperty(t.prototype,"area",{get:function(){return this.width*this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"efficiency",{get:function(){var t=0;return this.boxes.forEach((function(e){t+=e.width*e.height})),100*t/this.area},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return"".concat(this.width,"x").concat(this.height," ").concat(this.efficiency,"%")},enumerable:!1,configurable:!0}),t.prototype.insert=function(t){if(t.packed)return!1;if(this.heuristic.findPositionForNewNode(t,this.freeRectangles),!t.packed)return!1;for(var e=this.freeRectangles.length,i=0;i<e;)this.splitFreeNode(this.freeRectangles[i],t)?(this.freeRectangles.splice(i,1),e--):i++;return this.pruneFreeList(),this.boxes.push(t),!0},t.prototype.scoreFor=function(t){var e=new h(t.width,t.height,t.constrainRotation);return this.heuristic.findPositionForNewNode(e,this.freeRectangles)},t.prototype.isLargerThan=function(t){return this.width>=t.width&&this.height>=t.height||this.height>=t.width&&this.width>=t.height},t.prototype.splitFreeNode=function(t,e){return!(e.x>=t.x+t.width||e.x+e.width<=t.x||e.y>=t.y+t.height||e.y+e.height<=t.y||(this.trySplitFreeNodeVertically(t,e),this.trySplitFreeNodeHorizontally(t,e),0))},t.prototype.trySplitFreeNodeVertically=function(t,e){e.x<t.x+t.width&&e.x+e.width>t.x&&(this.tryLeaveFreeSpaceAtTop(t,e),this.tryLeaveFreeSpaceAtBottom(t,e))},t.prototype.tryLeaveFreeSpaceAtTop=function(t,e){if(e.y>t.y&&e.y<t.y+t.height){var i=c({},t);i.height=e.y-i.y,this.freeRectangles.push(i)}},t.prototype.tryLeaveFreeSpaceAtBottom=function(t,e){if(e.y+e.height<t.y+t.height){var i=c({},t);i.y=e.y+e.height,i.height=t.y+t.height-(e.y+e.height),this.freeRectangles.push(i)}},t.prototype.trySplitFreeNodeHorizontally=function(t,e){e.y<t.y+t.height&&e.y+e.height>t.y&&(this.tryLeaveFreeSpaceOnLeft(t,e),this.tryLeaveFreeSpaceOnRight(t,e))},t.prototype.tryLeaveFreeSpaceOnLeft=function(t,e){if(e.x>t.x&&e.x<t.x+t.width){var i=c({},t);i.width=e.x-i.x,this.freeRectangles.push(i)}},t.prototype.tryLeaveFreeSpaceOnRight=function(t,e){if(e.x+e.width<t.x+t.width){var i=c({},t);i.x=e.x+e.width,i.width=t.x+t.width-(e.x+e.width),this.freeRectangles.push(i)}},t.prototype.pruneFreeList=function(){for(var t=0;t<this.freeRectangles.length;){var e=t+1;if(e===this.freeRectangles.length)break;for(;e<this.freeRectangles.length;){if(this.isContainedIn(this.freeRectangles[t],this.freeRectangles[e])){this.freeRectangles.splice(t,1),t--;break}this.isContainedIn(this.freeRectangles[e],this.freeRectangles[t])?this.freeRectangles.splice(e,1):e++,t++}}},t.prototype.isContainedIn=function(t,e){return t&&e&&t.x>=e.x&&t.y>=e.y&&t.x+t.width<=e.x+e.width&&t.y+t.height<=e.y+e.height},t}(),a=function(t,e){this.x=0,this.y=0,this.width=null,this.height=null,this.width=t,this.height=e},f=function(){function t(t,e){this.bin=t,this.box=e}return t.prototype.calculate=function(){return this.score=this.bin.scoreFor(this.box),this.score},t.prototype.fit=function(){return!this.score.isBlank()},t}(),l=function(){function t(t,e){var i=this;this.entries=[],t.forEach((function(t){i.addBinEntries(t,e)}))}return t.prototype.debug=function(){i(426),console.table(this.entries.map((function(t){return{bin:t.bin.label,score:t.score}})))},t.prototype.addBinEntries=function(t,e){var i=this;e.forEach((function(e){var n=new f(t,e);n.calculate(),i.entries.push(n)}))},t.prototype.largestNotFitingBox=function(){var t,e=this.entries.filter((function(t){return t.fit})).map((function(t){return t.box}));return this.entries.forEach((function(i){var n=t.box.width*t.box.height,r=i.box.width*i.box.height;e.includes(i.box)&&(null===t||n<r)&&(t=i)})),!!t.box&&t},t.prototype.bestFit=function(){for(var t=null,e=0;e<this.entries.length;e++){var i=this.entries[e];i.fit()&&(null===t||i.score<t.score)&&(t=i)}return t},t.prototype.removeBox=function(t){this.entries=this.entries.filter((function(e){return e.box!==t}))},t.prototype.addBin=function(t){this.addBinEntries(t,this.currentBoxes())},t.prototype.recalculateBin=function(t){this.entries.filter((function(e){return e.bin===t})).forEach((function(t){return t.calculate()}))},t.prototype.currentBoxes=function(){return function(t,e,i){if(i||2===arguments.length)for(var n,r=0,o=e.length;r<o;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))}([],function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,r,o=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s}(new Set(this.entries.map((function(t){return t.box})))),!1)},t}(),p=function(){function t(t){this.bins=[],this.unpackedBoxes=[],this.bins=t}return t.prototype.pack=function(t){var e,i=[];if(0===(t=t.filter((function(t){return!t.packed}))).length)return i;for(var n=r.MAX_INT,o=new l(this.bins,t);(e=o.bestFit())&&(e.bin.insert(e.box),o.removeBox(e.box),o.recalculateBin(e.bin),i.push({box:e.box,score:e.score}),!(i.length>=n)););return this.unpackedBoxes=t.filter((function(t){return!t.packed})),i},t}();class g extends o{calculateScore(t,e,i){let n=t.width*t.height-e*i,o=Math.abs(t.width-e),s=Math.abs(t.height-i),h=Math.min(o,s);return new r(n,h)}}class y extends o{calculateScore(t,e,i){let n=[Math.abs(t.width-e),Math.abs(t.height-i)].sort(((t,e)=>t-e)).reverse();return new r(n[0],n[1])}}class d extends o{calculateScore(t,e,i){let n=t.y+i;return new r(n,t.x)}}},954:function(t,e,i){"use strict";i.r(e),i.d(e,{Bin:function(){return s},Item:function(){return u},Packer:function(){return f}});const n=t=>Math.round(t*10**5);function r(t,...e){}const o=function(t="binpackingjs"){return r.bind(void 0,t)}("3D:");class s{name="";width=0;height=0;depth=0;maxWeight=0;items=[];constructor(t,e,i,r,o){this.name=t,this.width=n(e),this.height=n(i),this.depth=n(r),this.maxWeight=n(o)}getName(){return this.name}getWidth(){return this.width}getHeight(){return this.height}getDepth(){return this.depth}getMaxWeight(){return this.maxWeight}getItems(){return this.items}getVolume(){return this.getWidth()*this.getHeight()*this.getDepth()}getPackedWeight(){return this.items.reduce(((t,e)=>t+e.getWeight()),0)}weighItem(t){const e=this.getMaxWeight();return!e||t.getWeight()+this.getPackedWeight()<=e}scoreRotation(t,e){t.rotationType=e;let i=t.getDimension();return this.getWidth()<i[0]||this.getHeight()<i[1]||this.getDepth()<i[2]?0:Math.pow(i[0]/this.getWidth(),2)+Math.pow(i[1]/this.getHeight(),2)+Math.pow(i[2]/this.getDepth(),2)}getBestRotationOrder(t){const e={};for(let i=0;i<t.allowedRotation.length;i++){const n=t.allowedRotation[i];e[n]=this.scoreRotation(t,n)}return Object.keys(e).sort(((t,i)=>e[i]-e[t])).map(Number)}putItem(t,e){const i=this;let n=!1;const r=this.getBestRotationOrder(t);t.position=e;for(let s=0;s<r.length;s++){t.rotationType=r[s];let h=t.getDimension();if(i.getWidth()<e[0]+h[0]||i.getHeight()<e[1]+h[1]||i.getDepth()<e[2]+h[2])n=!1;else{n=!0;for(let e=0;e<i.items.length;e++)if(i.items[e].intersect(t)){n=!1;break}n&&i.items.push(t)}if(o("try to putItem",n,"item",t.toString(),"box",i.toString()),n)break}return n}toString(){return`Bin:${this.name} (WxHxD = ${this.getWidth()}x${this.getHeight()}x${this.getDepth()}, MaxWg. = ${this.getMaxWeight()})`}}const h=[0,0,0],c={0:"RotationType_WHD (w,h,d)",1:"RotationType_HWD (h,w,d)",2:"RotationType_HDW (h,d,w)",3:"RotationType_DHW (d,h,w)",4:"RotationType_DWH (d,w,h)",5:"RotationType_WDH (w,d,h)"};class u{name="";width=0;height=0;depth=0;weight=0;allowedRotation=[0,1,2,3,4,5];rotationType=0;position=[];constructor(t,e,i,r,o,s){this.name=t,this.width=n(e),this.height=n(i),this.depth=n(r),this.weight=n(o),this.allowedRotation=s||this.allowedRotation}getWidth(){return this.width}getHeight(){return this.height}getDepth(){return this.depth}getWeight(){return this.weight}getRotationType(){return this.rotationType}getAllowedRotation(){return this.allowedRotation}getRotationTypeString(){return c[this.getRotationType()]}getDimension(){let t;switch(this.rotationType){case 0:t=[this.getWidth(),this.getHeight(),this.getDepth()];break;case 1:t=[this.getHeight(),this.getWidth(),this.getDepth()];break;case 2:t=[this.getHeight(),this.getDepth(),this.getWidth()];break;case 3:t=[this.getDepth(),this.getHeight(),this.getWidth()];break;case 4:t=[this.getDepth(),this.getWidth(),this.getHeight()];break;case 5:t=[this.getWidth(),this.getDepth(),this.getHeight()]}return t}intersect(t){return a(this,t,0,1)&&a(this,t,1,2)&&a(this,t,0,2)}getVolume(){return this.getWidth()*this.getHeight()*this.getDepth()}toString(){return`Item:${this.name} (${this.getRotationTypeString()} = ${this.getDimension().join("x")}, Wg. = ${this.weight})`}}const a=(t,e,i,n)=>{let r,o,s,h,c,u,a,f;return r=t.getDimension(),o=e.getDimension(),s=t.position[i]+r[i]/2,h=t.position[n]+r[n]/2,c=e.position[i]+o[i]/2,u=e.position[n]+o[n]/2,a=Math.max(s,c)-Math.min(s,c),f=Math.max(h,u)-Math.min(h,u),a<(r[i]+o[i])/2&&f<(r[n]+o[n])/2};class f{bins=[];items=[];unfitItems=[];addBin(t){this.bins.push(t)}addItem(t){this.items.push(t)}findFittedBin(t){for(let e=0;e<this.bins.length;e++){let i=this.bins[e];if(i.weighItem(t)&&i.putItem(t,h))return 1===i.items.length&&i.items[0]===t&&(i.items=[]),i}return null}getBiggerBinThan(t){let e=t.getVolume();for(let t=0;t<this.bins;t++){let i=this.bins[t];if(i.getVolume()>e)return i}return null}unfitItem(){0!==this.items.length&&(this.unfitItems.push(this.items[0]),this.items.splice(0,1))}packToBin(t,e){let i=null,n=[];if(!t.weighItem(e[0])||!t.putItem(e[0],h)){let i=this.getBiggerBinThan(t);return i?this.packToBin(i,e):this.items}for(let e=1;e<this.items.length;e++){let r=!1,o=this.items[e];if(t.weighItem(o))t:for(let e=0;e<3;e++)for(let i=0;i<t.items.length;i++){let n,s=t.items[i],h=s.getDimension();switch(e){case 0:n=[s.position[0]+h[0],s.position[1],s.position[2]];break;case 1:n=[s.position[0],s.position[1]+h[1],s.position[2]];break;case 2:n=[s.position[0],s.position[1],s.position[2]+h[2]]}if(t.putItem(o,n)){r=!0;break t}}if(!r){for(;null!==i;)if(i=this.getBiggerBinThan(t),i&&(i.items.push(o),0===this.packToBin(i,i.items).length)){t=i,r=!0;break}r||n.push(o)}}return n}pack(){for(this.bins.sort(((t,e)=>t.getVolume()-e.getVolume())),this.items.sort(((t,e)=>e.getVolume()-t.getVolume()));this.items.length>0;){let t=this.findFittedBin(this.items[0]);null!==t?this.items=this.packToBin(t,this.items):this.unfitItem()}return null}}}},e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={exports:{}};return t[n](r,r.exports,i),r.exports}i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};return function(){"use strict";i.r(n),i.d(n,{BP2D:function(){return e},BP3D:function(){return r},Types:function(){return t}});var t={};i.r(t);var e=i(878),r=i(954)}(),n}()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9CaW5QYWNraW5nL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9CaW5QYWNraW5nLy4uL25vZGVfbW9kdWxlcy9jbG9uZS9jbG9uZS5qcyIsIndlYnBhY2s6Ly9CaW5QYWNraW5nLy4uL25vZGVfbW9kdWxlcy9jb25zb2xlLnRhYmxlL2luZGV4LmpzIiwid2VicGFjazovL0JpblBhY2tpbmcvLi4vbm9kZV9tb2R1bGVzL2RlZmF1bHRzL2luZGV4LmpzIiwid2VicGFjazovL0JpblBhY2tpbmcvLi4vbm9kZV9tb2R1bGVzL2Vhc3ktdGFibGUvdGFibGUuanMiLCJ3ZWJwYWNrOi8vQmluUGFja2luZy8uLi9ub2RlX21vZHVsZXMvd2N3aWR0aC9jb21iaW5pbmcuanMiLCJ3ZWJwYWNrOi8vQmluUGFja2luZy8uLi9ub2RlX21vZHVsZXMvd2N3aWR0aC9pbmRleC5qcyIsIndlYnBhY2s6Ly9CaW5QYWNraW5nLy4vMkQvU2NvcmUudHMiLCJ3ZWJwYWNrOi8vQmluUGFja2luZy8uLzJEL2hldXJpc3RpY3MvQmFzZS50cyIsIndlYnBhY2s6Ly9CaW5QYWNraW5nLy4vMkQvaGV1cmlzdGljcy9CZXN0U2hvcnRTaWRlRml0LmpzIiwid2VicGFjazovL0JpblBhY2tpbmcvLi8yRC9Cb3gudHMiLCJ3ZWJwYWNrOi8vQmluUGFja2luZy8uLzJEL0Jpbi50cyIsIndlYnBhY2s6Ly9CaW5QYWNraW5nLy4vMkQvU2NvcmVCb2FyZEVudHJ5LnRzIiwid2VicGFjazovL0JpblBhY2tpbmcvLi8yRC9TY29yZUJvYXJkLnRzIiwid2VicGFjazovL0JpblBhY2tpbmcvLi8yRC9QYWNrZXIudHMiLCJ3ZWJwYWNrOi8vQmluUGFja2luZy8uLzJEL2hldXJpc3RpY3MvQmVzdEFyZWFGaXQuanMiLCJ3ZWJwYWNrOi8vQmluUGFja2luZy8uLzJEL2hldXJpc3RpY3MvQmVzdExvbmdTaWRlRml0LmpzIiwid2VicGFjazovL0JpblBhY2tpbmcvLi8yRC9oZXVyaXN0aWNzL0JvdHRvbUxlZnQuanMiLCJ3ZWJwYWNrOi8vQmluUGFja2luZy8uLzNEL3V0aWwuanMiLCJ3ZWJwYWNrOi8vQmluUGFja2luZy8uL2xpYi9sb2cuanMiLCJ3ZWJwYWNrOi8vQmluUGFja2luZy8uLzNEL0Jpbi5qcyIsIndlYnBhY2s6Ly9CaW5QYWNraW5nLy4vM0QvSXRlbS5qcyIsIndlYnBhY2s6Ly9CaW5QYWNraW5nLy4vM0QvUGFja2VyLmpzIiwid2VicGFjazovL0JpblBhY2tpbmcvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vQmluUGFja2luZy93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vQmluUGFja2luZy93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL0JpblBhY2tpbmcvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJ0aGlzIiwiY2xvbmUiLCJwYXJlbnQiLCJjaXJjdWxhciIsImRlcHRoIiwicHJvdG90eXBlIiwiZmlsdGVyIiwiYWxsUGFyZW50cyIsImFsbENoaWxkcmVuIiwidXNlQnVmZmVyIiwiQnVmZmVyIiwiSW5maW5pdHkiLCJfY2xvbmUiLCJjaGlsZCIsInByb3RvIiwiX19pc0FycmF5IiwiX19pc1JlZ0V4cCIsIlJlZ0V4cCIsInNvdXJjZSIsIl9fZ2V0UmVnRXhwRmxhZ3MiLCJsYXN0SW5kZXgiLCJfX2lzRGF0ZSIsIkRhdGUiLCJnZXRUaW1lIiwiaXNCdWZmZXIiLCJhbGxvY1Vuc2FmZSIsImxlbmd0aCIsImNvcHkiLCJPYmplY3QiLCJnZXRQcm90b3R5cGVPZiIsImNyZWF0ZSIsImluZGV4IiwiaW5kZXhPZiIsInB1c2giLCJpIiwiYXR0cnMiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJzZXQiLCJfX29ialRvU3RyIiwibyIsInRvU3RyaW5nIiwiY2FsbCIsInJlIiwiZmxhZ3MiLCJnbG9iYWwiLCJpZ25vcmVDYXNlIiwibXVsdGlsaW5lIiwiY2xvbmVQcm90b3R5cGUiLCJjIiwiY29uc29sZSIsIkVycm9yIiwidGFibGUiLCJjb25zb2xlVGFibGUiLCJpc1N0cmluZyIsInQiLCJ4IiwiYmluZCIsImlzQXJyYXlPZlN0cmluZ3MiLCJpc0FycmF5T2YiLCJpc0FycmF5T2ZBcnJheXMiLCJBcnJheSIsImlzQXJyYXkiLCJUYWJsZSIsImdldFRhYmxlIiwiYXJncyIsInNsaWNlIiwiYXJndW1lbnRzIiwic3RyVG9SZXR1cm4iLCJnZXRUaXRsZVRhYmxlIiwicHJpbnRUYWJsZVdpdGhDb2x1bW5UaXRsZXMiLCJmb3JFYWNoIiwiayIsImFycmF5VG9TdHJpbmciLCJvYmplY3RUb1N0cmluZyIsImlzVHlwZUZuIiwiYSIsImV2ZXJ5IiwiYXJyIiwicmVjb3JkIiwiY2VsbCIsImtleXMiLCJwcm9wZXJ0eSIsIm5ld1JvdyIsInRpdGxlcyIsIml0ZW1zIiwibm9Db25zb2xlIiwiaXRlbSIsInZhbHVlIiwic3RyIiwibG9nIiwicHJpbnRUaXRsZVRhYmxlIiwidGl0bGUiLCJyb3dMZW5ndGgiLCJsaW5lIiwib2JqIiwibWFwIiwia2V5Iiwib2JqZWN0VG9BcnJheSIsInNldHVwQ29uc29sZVRhYmxlIiwib3B0aW9ucyIsImRlZmF1bHRzIiwid2N3aWR0aCIsImUiLCJyb3dzIiwicm93IiwiX19wcmludGVycyIsInN0cmluZyIsInZhbCIsInVuZGVmaW5lZCIsInMiLCJyZXBsYWNlIiwibGVmdFBhZGRlciIsImNoIiwid2lkdGgiLCJsZW4iLCJqb2luIiwiY29sIiwicHJpbnRlciIsInNlcGFyYXRvciIsInBhZExlZnQiLCJyaWdodFBhZGRlciIsInBhZFJpZ2h0IiwiZWFjaCIsImZuIiwiY29tcGFyZSIsImIiLCJTdHJpbmciLCJudW1iZXIiLCJkaWdpdHMiLCJ0b0ZpeGVkIiwiY29sdW1ucyIsImNvbHMiLCJpZHgiLCJNYXRoIiwibWF4Iiwic29ydCIsInByaW50Iiwid2lkdGhzIiwib3V0IiwiaGFzT3duUHJvcGVydHkiLCJwdXNoRGVsaW1ldGVyIiwiY29uY2F0IiwidG90YWxzIiwiZm9yRWFjaFRvdGFsIiwiY2IiLCJhZ2dyIiwiYWNjIiwiaW5pdCIsInJlZHVjZSIsInByaW50VHJhbnNwb3NlZCIsIm9wdHMiLCJuYW1lUHJpbnRlciIsImNtcCIsImNvbXBhcmF0b3JzIiwib3JkZXIiLCJtIiwiZXhlYyIsInRvdGFsIiwic3VtIiwicHJlZml4IiwiYXZnIiwiZm9ybWF0IiwicGFyYW1zIiwibmFtZSIsImNvbWJpbmluZyIsIkRFRkFVTFRTIiwibnVsIiwiY29udHJvbCIsIndjc3dpZHRoIiwibiIsImNoYXJDb2RlQXQiLCJ1Y3MiLCJtaWQiLCJtaW4iLCJmbG9vciIsImJpc2VhcmNoIiwiY29uZmlnIiwic2NvcmVfMSIsInNjb3JlXzIiLCJTY29yZSIsIk1BWF9JTlQiLCJ2YWx1ZU9mIiwiYXNzaWduIiwib3RoZXIiLCJpc0JsYW5rIiwiZGVjcmVhc2VCeSIsImRlbHRhIiwiTnVtYmVyIiwiTUFYX1NBRkVfSU5URUdFUiIsImZpbmRQb3NpdGlvbkZvck5ld05vZGUiLCJib3giLCJmcmVlUmVjdHMiLCJiZXN0U2NvcmUiLCJoZWlnaHQiLCJmcmVlUmVjdCIsInRyeVBsYWNlUmVjdEluIiwiY29uc3RyYWluUm90YXRpb24iLCJyZWN0V2lkdGgiLCJyZWN0SGVpZ2h0Iiwic2NvcmUiLCJjYWxjdWxhdGVTY29yZSIsInkiLCJwYWNrZWQiLCJfZnJlZVJlY3QiLCJfcmVjdFdpZHRoIiwiX3JlY3RIZWlnaHQiLCJCZXN0U2hvcnRTaWRlRml0IiwiYWJzIiwiaGV1cmlzdGljIiwiYm94ZXMiLCJmcmVlUmVjdGFuZ2xlcyIsIkZyZWVTcGFjZUJveCIsImJveGVzQXJlYSIsImFyZWEiLCJlZmZpY2llbmN5IiwiaW5zZXJ0IiwibnVtUmVjdGFuZ2xlc1RvUHJvY2VzcyIsInNwbGl0RnJlZU5vZGUiLCJzcGxpY2UiLCJwcnVuZUZyZWVMaXN0Iiwic2NvcmVGb3IiLCJjb3B5Qm94IiwiaXNMYXJnZXJUaGFuIiwiZnJlZU5vZGUiLCJ1c2VkTm9kZSIsInRyeVNwbGl0RnJlZU5vZGVWZXJ0aWNhbGx5IiwidHJ5U3BsaXRGcmVlTm9kZUhvcml6b250YWxseSIsInRyeUxlYXZlRnJlZVNwYWNlQXRUb3AiLCJ0cnlMZWF2ZUZyZWVTcGFjZUF0Qm90dG9tIiwibmV3Tm9kZSIsInRyeUxlYXZlRnJlZVNwYWNlT25MZWZ0IiwidHJ5TGVhdmVGcmVlU3BhY2VPblJpZ2h0IiwiaiIsImlzQ29udGFpbmVkSW4iLCJyZWN0QSIsInJlY3RCIiwiYmluIiwiY2FsY3VsYXRlIiwiZml0IiwiYmlucyIsImVudHJpZXMiLCJhZGRCaW5FbnRyaWVzIiwiZGVidWciLCJlbnRyeSIsImxhYmVsIiwibGFyZ2VzdE5vdEZpdGluZ0JveCIsInVuZml0IiwiZml0dGluZ0JveGVzIiwidW5maXRBcmVhIiwiZW50cnlBcmVhIiwiaW5jbHVkZXMiLCJiZXN0Rml0IiwiYmVzdCIsInJlbW92ZUJveCIsImFkZEJpbiIsImN1cnJlbnRCb3hlcyIsInJlY2FsY3VsYXRlQmluIiwiU2V0IiwidW5wYWNrZWRCb3hlcyIsInBhY2siLCJwYWNrZWRCb3hlcyIsImxpbWl0IiwiYm9hcmQiLCJCZXN0QXJlYUZpdCIsImFyZWFGaXQiLCJsZWZ0T3Zlckhvcml6IiwibGVmdE92ZXJWZXJ0Iiwic2hvcnRTaWRlRml0IiwiQmVzdExvbmdTaWRlRml0IiwicmV2ZXJzZSIsIkJvdHRvbUxlZnQiLCJ0b3BTaWRlWSIsImZhY3RvcmVkSW50ZWdlciIsInJvdW5kIiwibmFtZXNwYWNlIiwiY3JlYXRlTG9nZ2VyIiwiQmluIiwidyIsImgiLCJkIiwibXciLCJtYXhXZWlnaHQiLCJnZXRXaWR0aCIsImdldEhlaWdodCIsImdldERlcHRoIiwid2VpZ2h0IiwiZ2V0V2VpZ2h0IiwiZ2V0TWF4V2VpZ2h0IiwiZ2V0UGFja2VkV2VpZ2h0Iiwicm90YXRpb25UeXBlIiwiZ2V0RGltZW5zaW9uIiwicG93Iiwicm90YXRpb25TY29yZXMiLCJhbGxvd2VkUm90YXRpb24iLCJyIiwic2NvcmVSb3RhdGlvbiIsInAiLCJyb3RhdGlvbnMiLCJnZXRCZXN0Um90YXRpb25PcmRlciIsInBvc2l0aW9uIiwiaW50ZXJzZWN0IiwiU3RhcnRQb3NpdGlvbiIsIlJvdGF0aW9uVHlwZVN0cmluZ3MiLCJJdGVtIiwid2ciLCJnZXRSb3RhdGlvblR5cGUiLCJpMiIsInJlY3RJbnRlcnNlY3QiLCJnZXRSb3RhdGlvblR5cGVTdHJpbmciLCJpMSIsImQxIiwiZDIiLCJjeDEiLCJjeTEiLCJjeDIiLCJjeTIiLCJpeCIsIml5IiwiUGFja2VyIiwiX2kiLCJ3ZWlnaEl0ZW0iLCJwdXRJdGVtIiwidiIsImdldFZvbHVtZSIsImIyIiwidW5maXRJdGVtcyIsInVucGFja2VkIiwiZ2V0QmlnZ2VyQmluVGhhbiIsInBhY2tUb0JpbiIsImZpdHRlZCIsImxvb2t1cCIsIl9wdCIsIl9qIiwicHYiLCJpYiIsImZpbmRGaXR0ZWRCaW4iLCJ1bmZpdEl0ZW0iLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZGVmaW5pdGlvbiIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInByb3AiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBMkNBLEVBQU1DLEdBQzFCLGlCQUFaQyxTQUEwQyxpQkFBWEMsT0FDeENBLE9BQU9ELFFBQVVELElBQ1EsbUJBQVhHLFFBQXlCQSxPQUFPQyxJQUM5Q0QsT0FBTyxhQUFjLEdBQUlILEdBQ0MsaUJBQVpDLFFBQ2RBLFFBQW9CLFdBQUlELElBRXhCRCxFQUFpQixXQUFJQyxJQVJ2QixDQVNHSyxNQUFNLFdBQ1QsTyxpQ0NWQSxJQUFJQyxFQUFRLFdBQ1osYUFvQkEsU0FBU0EsRUFBTUMsRUFBUUMsRUFBVUMsRUFBT0MsR0FFZCxpQkFBYkYsSUFD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S0FBUSxNQUFVLENBQUUsS0FBUSxNQUFVLENBQUUsS0FBUSxNQUNsRCxDQUFFLEtBQVEsTUFBVSxDQUFFLEtBQVEsTUFBVSxDQUFFLEtBQVEsTUFDbEQsQ0FBRSxLQUFRLE1BQVUsQ0FBRSxLQUFRLE1BQVUsQ0FBRSxLQUFRLE1BQ2xELENBQUUsS0FBUSxNQUFVLENBQUUsS0FBUSxNQUFVLENBQUUsS0FBUSxNQUNsRCxDQUFFLEtBQVEsTUFBVSxDQUFFLEtBQVEsTUFBVSxDQUFFLEtBQVEsTUFDbEQsQ0FBRSxLQUFRLE1BQVUsQ0FBRSxLQUFRLE1BQVUsQ0FBRSxLQUFRLE1BQ2xELENBQUUsS0FBUSxNQUFVLENBQUUsS0FBUSxNQUFVLENBQUUsS0FBUSxNQUNsRCxDQUFFLEtBQVEsTUFBVSxDQUFFLEtBQVEsTUFBVSxDQUFFLEtBQVEsTUFDbEQsQ0FBRSxLQUFRLE1BQVUsQ0FBRSxLQUFRLE1BQVUsQ0FBRSxLQUFRLE1BQ2xELENBQUUsS0FBUSxNQUFVLENBQUUsS0FBUSxNQUFVLENBQUUsS0FBUSxNQUNsRCxDQUFFLEtBQVEsTUFBVSxDQUFFLEtBQVEsTUFBVSxDQUFFLEtBQVEsTUFDbEQsQ0FBRSxLQUFRLE1BQVUsQ0FBRSxLQUFRLE1BQVUsQ0FBRSxLQUFRLE1BQ2xELENBQUUsS0FBUSxNQUFVLENBQUUsS0FBUSxNQUFVLENBQUUsS0FBUSxNQUNsRCxDQUFFLEtBQVEsTUFBVSxDQUFFLEtBQVEsTUFBVSxDQUFFLEtBQVEsTUFDbEQsQ0FBRSxLQUFRLE1BQVUsQ0FBRSxLQUFRLE1BQVUsQ0FBRSxLQUFRLE1BQ2xELENBQUUsS0FBUSxNQUFVLENBQUUsS0FBUSxNQUFVLENBQUUsS0FBUSxNQUNsRCxDQUFFLEtBQVEsTUFBVSxDQUFFLEtBQVEsTUFBVSxDQUFFLEtBQVEsTUFDbEQsQ0FBRSxLQUFRLE1BQVUsQ0FBRSxLQUFRLE1BQVUsQ0FBRSxLQUFRLE1BQ2xELENBQUUsS0FBUSxNQUFVLENBQUUsS0FBUSxNQUFVLENBQUUsS0FBUSxNQUNsRCxDQUFFLEtBQVEsTUFBVSxDQUFFLEtBQVEsTUFBVSxDQUFFLEtBQVEsTUFDbEQsQ0FBRSxLQUFRLE1BQVUsQ0FBRSxLQUFRLE1BQVUsQ0FBRSxLQUFRLE1BQ2xELENBQUUsS0FBUSxNQUFVLENBQUUsS0FBUSxNQUFVLENBQUUsS0FBUSxNQUNsRCxDQUFFLEtBQVEsTUFBVSxDQUFFLEtBQVEsTUFBVSxDQUFFLEtBQVEsTUFDbEQsQ0FBRSxLQUFRLE1BQVUsQ0FBRSxLQUFRLE1BQVUsQ0FBRSxLQUFRLE1BQ2xELENBQUUsS0FBUSxNQUFVLENBQUUsS0FBUSxNQUFVLENBQUUsS0FBUSxNQUNsRCxDQUFFLEtBQVEsTUFBVSxDQUFFLEtBQVEsTUFBVSxDQUFFLEtBQVEsTUFDbEQsQ0FBRSxLQUFRLE1BQVUsQ0FBRSxLQUFRLE1BQVUsQ0FBRSxLQUFRLE1BQ2xELENBQUUsS0FBUSxNQUFVLENBQUUsS0FBUSxNQUFVLENBQUUsS0FBUSxNQUNsRCxDQUFFLEtBQVEsTUFBVSxDQUFFLEtBQVEsTUFBVSxDQUFFLEtBQVEsTUFDbEQsQ0FBRSxLQUFRLE1BQVUsQ0FBRSxLQUFRLE1BQVUsQ0FBRSxLQUFRLE1BQ2xELENBQUUsS0FBUSxNQUFVLENBQUUsS0FBUSxNQUFVLENBQUUsTUFBUSxPQUNsRCxDQUFFLE1BQVEsT0FBVSxDQUFFLE1BQVEsT0FBVSxDQUFFLE1BQVEsT0FDbEQsQ0FBRSxNQUFRLE9BQVUsQ0FBRSxNQUFRLE9BQVUsQ0FBRSxNQUFRLE9BQ2xELENBQUUsTUFBUSxPQUFVLENBQUUsTUFBUSxPQUFVLENBQUUsTUFBUSxPQUNsRCxDQUFFLE1BQVMsT0FBVyxDQUFFLE1BQVMsT0FBVyxDQUFFLE1BQVMsT0FDdkQsQ0FBRSxNQUFTLE9BQVcsQ0FBRSxNQUFTLE9BQVcsQ0FBRSxPQUFTLFFBQ3ZELENBQUUsT0FBUyxRQUFXLENBQUUsT0FBUyxRQUFXLENBQUUsT0FBUyxRQUN2RCxDQUFFLE9BQVMsUUFBVyxDQUFFLE9BQVMsUUFBVyxDQUFFLE9BQVMsUUFDdkQsQ0FBRSxPQUFTLFUsaUNDOUNmLElBQUl3RyxFQUFXLEVBQVEsS0FDbkJnRSxFQUFZLEVBQVEsS0FF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UGFja2luZy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShcIkJpblBhY2tpbmdcIiwgW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiQmluUGFja2luZ1wiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJCaW5QYWNraW5nXCJdID0gZmFjdG9yeSgpO1xufSkodGhpcywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gIiwidmFyIGNsb25lID0gKGZ1bmN0aW9uKCkge1xuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENsb25lcyAoY29waWVzKSBhbiBPYmplY3QgdXNpbmcgZGVlcCBjb3B5aW5nLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gc3VwcG9ydHMgY2lyY3VsYXIgcmVmZXJlbmNlcyBieSBkZWZhdWx0LCBidXQgaWYgeW91IGFyZSBjZXJ0YWluXG4gKiB0aGVyZSBhcmUgbm8gY2lyY3VsYXIgcmVmZXJlbmNlcyBpbiB5b3VyIG9iamVjdCwgeW91IGNhbiBzYXZlIHNvbWUgQ1BVIHRpbWVcbiAqIGJ5IGNhbGxpbmcgY2xvbmUob2JqLCBmYWxzZSkuXG4gKlxuICogQ2F1dGlvbjogaWYgYGNpcmN1bGFyYCBpcyBmYWxzZSBhbmQgYHBhcmVudGAgY29udGFpbnMgY2lyY3VsYXIgcmVmZXJlbmNlcyxcbiAqIHlvdXIgcHJvZ3JhbSBtYXkgZW50ZXIgYW4gaW5maW5pdGUgbG9vcCBhbmQgY3Jhc2guXG4gKlxuICogQHBhcmFtIGBwYXJlbnRgIC0gdGhlIG9iamVjdCB0byBiZSBjbG9uZWRcbiAqIEBwYXJhbSBgY2lyY3VsYXJgIC0gc2V0IHRvIHRydWUgaWYgdGhlIG9iamVjdCB0byBiZSBjbG9uZWQgbWF5IGNvbnRhaW5cbiAqICAgIGNpcmN1bGFyIHJlZmVyZW5jZXMuIChvcHRpb25hbCAtIHRydWUgYnkgZGVmYXVsdClcbiAqIEBwYXJhbSBgZGVwdGhgIC0gc2V0IHRvIGEgbnVtYmVyIGlmIHRoZSBvYmplY3QgaXMgb25seSB0byBiZSBjbG9uZWQgdG9cbiAqICAgIGEgcGFydGljdWxhciBkZXB0aC4gKG9wdGlvbmFsIC0gZGVmYXVsdHMgdG8gSW5maW5pdHkpXG4gKiBAcGFyYW0gYHByb3RvdHlwZWAgLSBzZXRzIHRoZSBwcm90b3R5cGUgdG8gYmUgdXNlZCB3aGVuIGNsb25pbmcgYW4gb2JqZWN0LlxuICogICAgKG9wdGlvbmFsIC0gZGVmYXVsdHMgdG8gcGFyZW50IHByb3RvdHlwZSkuXG4qL1xuZnVuY3Rpb24gY2xvbmUocGFyZW50LCBjaXJjdWxhciwgZGVwdGgsIHByb3RvdHlwZSkge1xuICB2YXIgZmlsdGVyO1xuICBpZiAodHlwZW9mIGNpcmN1bGFyID09PSAnb2JqZWN0Jykge1xuICAgIGRlcHRoID0gY2lyY3VsYXIuZGVwdGg7XG4gICAgcHJvdG90eXBlID0gY2lyY3VsYXIucHJvdG90eXBlO1xuICAgIGZpbHRlciA9IGNpcmN1bGFyLmZpbHRlcjtcbiAgICBjaXJjdWxhciA9IGNpcmN1bGFyLmNpcmN1bGFyXG4gIH1cbiAgLy8gbWFpbnRhaW4gdHdvIGFycmF5cyBmb3IgY2lyY3VsYXIgcmVmZXJlbmNlcywgd2hlcmUgY29ycmVzcG9uZGluZyBwYXJlbnRzXG4gIC8vIGFuZCBjaGlsZHJlbiBoYXZlIHRoZSBzYW1lIGluZGV4XG4gIHZhciBhbGxQYXJlbnRzID0gW107XG4gIHZhciBhbGxDaGlsZHJlbiA9IFtdO1xuXG4gIHZhciB1c2VCdWZmZXIgPSB0eXBlb2YgQnVmZmVyICE9ICd1bmRlZmluZWQnO1xuXG4gIGlmICh0eXBlb2YgY2lyY3VsYXIgPT0gJ3VuZGVmaW5lZCcpXG4gICAgY2lyY3VsYXIgPSB0cnVlO1xuXG4gIGlmICh0eXBlb2YgZGVwdGggPT0gJ3VuZGVmaW5lZCcpXG4gICAgZGVwdGggPSBJbmZpbml0eTtcblxuICAvLyByZWN1cnNlIHRoaXMgZnVuY3Rpb24gc28gd2UgZG9uJ3QgcmVzZXQgYWxsUGFyZW50cyBhbmQgYWxsQ2hpbGRyZW5cbiAgZnVuY3Rpb24gX2Nsb25lKHBhcmVudCwgZGVwdGgpIHtcbiAgICAvLyBjbG9uaW5nIG51bGwgYWx3YXlzIHJldHVybnMgbnVsbFxuICAgIGlmIChwYXJlbnQgPT09IG51bGwpXG4gICAgICByZXR1cm4gbnVsbDtcblxuICAgIGlmIChkZXB0aCA9PSAwKVxuICAgICAgcmV0dXJuIHBhcmVudDtcblxuICAgIHZhciBjaGlsZDtcbiAgICB2YXIgcHJvdG87XG4gICAgaWYgKHR5cGVvZiBwYXJlbnQgIT0gJ29iamVjdCcpIHtcbiAgICAgIHJldHVybiBwYXJlbnQ7XG4gICAgfVxuXG4gICAgaWYgKGNsb25lLl9faXNBcnJheShwYXJlbnQpKSB7XG4gICAgICBjaGlsZCA9IFtdO1xuICAgIH0gZWxzZSBpZiAoY2xvbmUuX19pc1JlZ0V4cChwYXJlbnQpKSB7XG4gICAgICBjaGlsZCA9IG5ldyBSZWdFeHAocGFyZW50LnNvdXJjZSwgX19nZXRSZWdFeHBGbGFncyhwYXJlbnQpKTtcbiAgICAgIGlmIChwYXJlbnQubGFzdEluZGV4KSBjaGlsZC5sYXN0SW5kZXggPSBwYXJlbnQubGFzdEluZGV4O1xuICAgIH0gZWxzZSBpZiAoY2xvbmUuX19pc0RhdGUocGFyZW50KSkge1xuICAgICAgY2hpbGQgPSBuZXcgRGF0ZShwYXJlbnQuZ2V0VGltZSgpKTtcbiAgICB9IGVsc2UgaWYgKHVzZUJ1ZmZlciAmJiBCdWZmZXIuaXNCdWZmZXIocGFyZW50KSkge1xuICAgICAgaWYgKEJ1ZmZlci5hbGxvY1Vuc2FmZSkge1xuICAgICAgICAvLyBOb2RlLmpzID49IDQuNS4wXG4gICAgICAgIGNoaWxkID0gQnVmZmVyLmFsbG9jVW5zYWZlKHBhcmVudC5sZW5ndGgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gT2xkZXIgTm9kZS5qcyB2ZXJzaW9uc1xuICAgICAgICBjaGlsZCA9IG5ldyBCdWZmZXIocGFyZW50Lmxlbmd0aCk7XG4gICAgICB9XG4gICAgICBwYXJlbnQuY29weShjaGlsZCk7XG4gICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0eXBlb2YgcHJvdG90eXBlID09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHBhcmVudCk7XG4gICAgICAgIGNoaWxkID0gT2JqZWN0LmNyZWF0ZShwcm90byk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgY2hpbGQgPSBPYmplY3QuY3JlYXRlKHByb3RvdHlwZSk7XG4gICAgICAgIHByb3RvID0gcHJvdG90eXBlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjaXJjdWxhcikge1xuICAgICAgdmFyIGluZGV4ID0gYWxsUGFyZW50cy5pbmRleE9mKHBhcmVudCk7XG5cbiAgICAgIGlmIChpbmRleCAhPSAtMSkge1xuICAgICAgICByZXR1cm4gYWxsQ2hpbGRyZW5baW5kZXhdO1xuICAgICAgfVxuICAgICAgYWxsUGFyZW50cy5wdXNoKHBhcmVudCk7XG4gICAgICBhbGxDaGlsZHJlbi5wdXNoKGNoaWxkKTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpIGluIHBhcmVudCkge1xuICAgICAgdmFyIGF0dHJzO1xuICAgICAgaWYgKHByb3RvKSB7XG4gICAgICAgIGF0dHJzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwcm90bywgaSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChhdHRycyAmJiBhdHRycy5zZXQgPT0gbnVsbCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNoaWxkW2ldID0gX2Nsb25lKHBhcmVudFtpXSwgZGVwdGggLSAxKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2hpbGQ7XG4gIH1cblxuICByZXR1cm4gX2Nsb25lKHBhcmVudCwgZGVwdGgpO1xufVxuXG4vKipcbiAqIFNpbXBsZSBmbGF0IGNsb25lIHVzaW5nIHByb3RvdHlwZSwgYWNjZXB0cyBvbmx5IG9iamVjdHMsIHVzZWZ1bGwgZm9yIHByb3BlcnR5XG4gKiBvdmVycmlkZSBvbiBGTEFUIGNvbmZpZ3VyYXRpb24gb2JqZWN0IChubyBuZXN0ZWQgcHJvcHMpLlxuICpcbiAqIFVTRSBXSVRIIENBVVRJT04hIFRoaXMgbWF5IG5vdCBiZWhhdmUgYXMgeW91IHdpc2ggaWYgeW91IGRvIG5vdCBrbm93IGhvdyB0aGlzXG4gKiB3b3Jrcy5cbiAqL1xuY2xvbmUuY2xvbmVQcm90b3R5cGUgPSBmdW5jdGlvbiBjbG9uZVByb3RvdHlwZShwYXJlbnQpIHtcbiAgaWYgKHBhcmVudCA9PT0gbnVsbClcbiAgICByZXR1cm4gbnVsbDtcblxuICB2YXIgYyA9IGZ1bmN0aW9uICgpIHt9O1xuICBjLnByb3RvdHlwZSA9IHBhcmVudDtcbiAgcmV0dXJuIG5ldyBjKCk7XG59O1xuXG4vLyBwcml2YXRlIHV0aWxpdHkgZnVuY3Rpb25zXG5cbmZ1bmN0aW9uIF9fb2JqVG9TdHIobykge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pO1xufTtcbmNsb25lLl9fb2JqVG9TdHIgPSBfX29ialRvU3RyO1xuXG5mdW5jdGlvbiBfX2lzRGF0ZShvKSB7XG4gIHJldHVybiB0eXBlb2YgbyA9PT0gJ29iamVjdCcgJiYgX19vYmpUb1N0cihvKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xufTtcbmNsb25lLl9faXNEYXRlID0gX19pc0RhdGU7XG5cbmZ1bmN0aW9uIF9faXNBcnJheShvKSB7XG4gIHJldHVybiB0eXBlb2YgbyA9PT0gJ29iamVjdCcgJiYgX19vYmpUb1N0cihvKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbn07XG5jbG9uZS5fX2lzQXJyYXkgPSBfX2lzQXJyYXk7XG5cbmZ1bmN0aW9uIF9faXNSZWdFeHAobykge1xuICByZXR1cm4gdHlwZW9mIG8gPT09ICdvYmplY3QnICYmIF9fb2JqVG9TdHIobykgPT09ICdbb2JqZWN0IFJlZ0V4cF0nO1xufTtcbmNsb25lLl9faXNSZWdFeHAgPSBfX2lzUmVnRXhwO1xuXG5mdW5jdGlvbiBfX2dldFJlZ0V4cEZsYWdzKHJlKSB7XG4gIHZhciBmbGFncyA9ICcnO1xuICBpZiAocmUuZ2xvYmFsKSBmbGFncyArPSAnZyc7XG4gIGlmIChyZS5pZ25vcmVDYXNlKSBmbGFncyArPSAnaSc7XG4gIGlmIChyZS5tdWx0aWxpbmUpIGZsYWdzICs9ICdtJztcbiAgcmV0dXJuIGZsYWdzO1xufTtcbmNsb25lLl9fZ2V0UmVnRXhwRmxhZ3MgPSBfX2dldFJlZ0V4cEZsYWdzO1xuXG5yZXR1cm4gY2xvbmU7XG59KSgpO1xuXG5pZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBjbG9uZTtcbn1cbiIsIihmdW5jdGlvbiAoKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBmdW5jdGlvbiBzZXR1cENvbnNvbGVUYWJsZSgpIHtcbiAgICBpZiAodHlwZW9mIGNvbnNvbGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dlaXJkLCBjb25zb2xlIG9iamVjdCBpcyB1bmRlZmluZWQnKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBjb25zb2xlLnRhYmxlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAvLyBpZiBpdCBpcyBub3QgT1VSIGZ1bmN0aW9uLCBvdmVyd3JpdGUgaXRcbiAgICAgIGlmIChjb25zb2xlLnRhYmxlID09PSBjb25zb2xlVGFibGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzVHlwZSh0LCB4KSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHggPT09IHQ7XG4gICAgfVxuXG4gICAgdmFyIGlzU3RyaW5nID0gaXNUeXBlLmJpbmQobnVsbCwgJ3N0cmluZycpO1xuXG4gICAgZnVuY3Rpb24gaXNBcnJheU9mKGlzVHlwZUZuLCBhKSB7XG4gICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShhKSAmJlxuICAgICAgICBhLmV2ZXJ5KGlzVHlwZUZuKTtcbiAgICB9XG5cbiAgICB2YXIgaXNBcnJheU9mU3RyaW5ncyA9IGlzQXJyYXlPZi5iaW5kKG51bGwsIGlzU3RyaW5nKTtcbiAgICB2YXIgaXNBcnJheU9mQXJyYXlzID0gaXNBcnJheU9mLmJpbmQobnVsbCwgQXJyYXkuaXNBcnJheSk7XG5cbiAgICB2YXIgVGFibGUgPSByZXF1aXJlKCdlYXN5LXRhYmxlJyk7XG5cbiAgICBmdW5jdGlvbiBhcnJheVRvU3RyaW5nKGFycikge1xuICAgICAgdmFyIHQgPSBuZXcgVGFibGUoKTtcbiAgICAgIGFyci5mb3JFYWNoKGZ1bmN0aW9uIChyZWNvcmQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiByZWNvcmQgPT09ICdzdHJpbmcnIHx8XG4gICAgICAgICAgdHlwZW9mIHJlY29yZCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICB0LmNlbGwoJ2l0ZW0nLCByZWNvcmQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGFzc3VtZSBwbGFpbiBvYmplY3RcbiAgICAgICAgICBPYmplY3Qua2V5cyhyZWNvcmQpLmZvckVhY2goZnVuY3Rpb24gKHByb3BlcnR5KSB7XG4gICAgICAgICAgICB0LmNlbGwocHJvcGVydHksIHJlY29yZFtwcm9wZXJ0eV0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHQubmV3Um93KCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0LnRvU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJpbnRUYWJsZVdpdGhDb2x1bW5UaXRsZXModGl0bGVzLCBpdGVtcyxub0NvbnNvbGUpIHtcbiAgICAgIHZhciB0ID0gbmV3IFRhYmxlKCk7XG4gICAgICBpdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIGl0ZW0uZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGspIHtcbiAgICAgICAgICB0LmNlbGwodGl0bGVzW2tdLCB2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0Lm5ld1JvdygpO1xuICAgICAgfSk7XG4gICAgICB2YXIgc3RyID0gdC50b1N0cmluZygpO1xuXG4gICAgICByZXR1cm4gbm9Db25zb2xlID8gc3RyIDogY29uc29sZS5sb2coc3RyKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwcmludFRpdGxlVGFibGUodGl0bGUsIGFycikge1xuICAgICAgdmFyIHN0ciA9IGFycmF5VG9TdHJpbmcoYXJyKTtcbiAgICAgIHZhciByb3dMZW5ndGggPSBzdHIuaW5kZXhPZignXFxuJyk7XG4gICAgICBpZiAocm93TGVuZ3RoID4gMCkge1xuICAgICAgICBpZiAodGl0bGUubGVuZ3RoID4gcm93TGVuZ3RoKSB7XG4gICAgICAgICAgcm93TGVuZ3RoID0gdGl0bGUubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKHRpdGxlKTtcbiAgICAgICAgdmFyIHNlcCA9ICctJywgaywgbGluZSA9ICcnO1xuICAgICAgICBmb3IgKGsgPSAwOyBrIDwgcm93TGVuZ3RoOyBrICs9IDEpIHtcbiAgICAgICAgICBsaW5lICs9IHNlcDtcbiAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKGxpbmUpO1xuICAgICAgfVxuICAgICAgY29uc29sZS5sb2coc3RyKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRUaXRsZVRhYmxlKHRpdGxlLCBhcnIpIHtcbiAgICAgIHZhciBzdHIgPSBhcnJheVRvU3RyaW5nKGFycik7XG4gICAgICB2YXIgcm93TGVuZ3RoID0gc3RyLmluZGV4T2YoJ1xcbicpO1xuICAgICAgdmFyIHN0clRvUmV0dXJuID0gJyc7XG4gICAgICBpZiAocm93TGVuZ3RoID4gMCkge1xuICAgICAgICBpZiAodGl0bGUubGVuZ3RoID4gcm93TGVuZ3RoKSB7XG4gICAgICAgICAgcm93TGVuZ3RoID0gdGl0bGUubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBzdHJUb1JldHVybiArPSB0aXRsZSArICdcXG4nO1xuICAgICAgICB2YXIgc2VwID0gJy0nLCBrLCBsaW5lID0gJyc7XG4gICAgICAgIGZvciAoayA9IDA7IGsgPCByb3dMZW5ndGg7IGsgKz0gMSkge1xuICAgICAgICAgIGxpbmUgKz0gc2VwO1xuICAgICAgICB9XG5cdFxuICAgICAgICBzdHJUb1JldHVybiArPSBsaW5lICsgJ1xcbic7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzdHJUb1JldHVybiArIHN0cjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvYmplY3RUb0FycmF5KG9iaikge1xuICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICAgICAgcmV0dXJuIGtleXMubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICB2YWx1ZTogb2JqW2tleV1cbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKG9iaikge1xuICAgICAgcmV0dXJuIGFycmF5VG9TdHJpbmcob2JqZWN0VG9BcnJheShvYmopKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb25zb2xlVGFibGUgKCkge1xuICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuXG4gICAgICBpZiAoYXJncy5sZW5ndGggPT09IDIgJiZcbiAgICAgICAgdHlwZW9mIGFyZ3NbMF0gPT09ICdzdHJpbmcnICYmXG4gICAgICAgIEFycmF5LmlzQXJyYXkoYXJnc1sxXSkpIHtcblxuICAgICAgICByZXR1cm4gcHJpbnRUaXRsZVRhYmxlKGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoYXJncy5sZW5ndGggPT09IDIgJiZcbiAgICAgICAgaXNBcnJheU9mU3RyaW5ncyhhcmdzWzBdKSAmJlxuICAgICAgICBpc0FycmF5T2ZBcnJheXMoYXJnc1sxXSkpIHtcbiAgICAgICAgcmV0dXJuIHByaW50VGFibGVXaXRoQ29sdW1uVGl0bGVzKGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgICAgfVxuXG4gICAgICBhcmdzLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICAgICAgaWYgKHR5cGVvZiBrID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIHJldHVybiBjb25zb2xlLmxvZyhrKTtcbiAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGspKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYXJyYXlUb1N0cmluZyhrKSk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGsgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgY29uc29sZS5sb2cob2JqZWN0VG9TdHJpbmcoaykpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBtb2R1bGUuZXhwb3J0cy5nZXRUYWJsZSA9IGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG5cbiAgICAgIHZhciBzdHJUb1JldHVybiA9ICcnO1xuXG4gICAgICBpZiAoYXJncy5sZW5ndGggPT09IDIgJiZcbiAgICAgICAgdHlwZW9mIGFyZ3NbMF0gPT09ICdzdHJpbmcnICYmXG4gICAgICAgIEFycmF5LmlzQXJyYXkoYXJnc1sxXSkpIHtcblxuICAgICAgICByZXR1cm4gZ2V0VGl0bGVUYWJsZShhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAyICYmXG4gICAgICAgIGlzQXJyYXlPZlN0cmluZ3MoYXJnc1swXSkgJiZcbiAgICAgICAgaXNBcnJheU9mQXJyYXlzKGFyZ3NbMV0pKSB7XG4gICAgICAgIHJldHVybiBwcmludFRhYmxlV2l0aENvbHVtblRpdGxlcyhhcmdzWzBdLCBhcmdzWzFdLHRydWUpO1xuICAgICAgfVxuXG4gICAgICBhcmdzLmZvckVhY2goZnVuY3Rpb24gKGssaSkge1xuICAgICAgICBpZiAodHlwZW9mIGsgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgc3RyVG9SZXR1cm4gKz0gaztcblx0ICBpZiAoaSAhPT0gYXJncy5sZW5ndGggLSAxKXtcblx0ICAgIHN0clRvUmV0dXJuICs9ICdcXG4nO1xuXHQgIH1cbiAgICAgICAgICByZXR1cm4gO1xuICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoaykpIHtcbiAgICAgICAgICBzdHJUb1JldHVybiArPSBhcnJheVRvU3RyaW5nKGspICsgJ1xcbic7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGsgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgc3RyVG9SZXR1cm4gKz0gb2JqZWN0VG9TdHJpbmcoayk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gc3RyVG9SZXR1cm47XG4gICAgfTtcblxuICAgIGNvbnNvbGUudGFibGUgPSBjb25zb2xlVGFibGU7XG4gIH1cblxuICBzZXR1cENvbnNvbGVUYWJsZSgpO1xufSgpKTtcbiIsInZhciBjbG9uZSA9IHJlcXVpcmUoJ2Nsb25lJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob3B0aW9ucywgZGVmYXVsdHMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgT2JqZWN0LmtleXMoZGVmYXVsdHMpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zW2tleV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBvcHRpb25zW2tleV0gPSBjbG9uZShkZWZhdWx0c1trZXldKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBvcHRpb25zO1xufTsiLCJ2YXIgd2N3aWR0aFxuXG50cnkge1xuICB3Y3dpZHRoID0gcmVxdWlyZSgnd2N3aWR0aCcpXG59IGNhdGNoKGUpIHt9XG5cbm1vZHVsZS5leHBvcnRzID0gVGFibGVcblxuZnVuY3Rpb24gVGFibGUoKSB7XG4gIHRoaXMucm93cyA9IFtdXG4gIHRoaXMucm93ID0ge19fcHJpbnRlcnMgOiB7fX1cbn1cblxuLyoqXG4gKiBQdXNoIHRoZSBjdXJyZW50IHJvdyB0byB0aGUgdGFibGUgYW5kIHN0YXJ0IGEgbmV3IG9uZVxuICpcbiAqIEByZXR1cm5zIHtUYWJsZX0gYHRoaXNgXG4gKi9cblxuVGFibGUucHJvdG90eXBlLm5ld1JvdyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnJvd3MucHVzaCh0aGlzLnJvdylcbiAgdGhpcy5yb3cgPSB7X19wcmludGVycyA6IHt9fVxuICByZXR1cm4gdGhpc1xufVxuXG4vKipcbiAqIFdyaXRlIGNlbGwgaW4gdGhlIGN1cnJlbnQgcm93XG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGNvbCAgICAgICAgICAtIENvbHVtbiBuYW1lXG4gKiBAcGFyYW0ge0FueX0gdmFsICAgICAgICAgICAgIC0gQ2VsbCB2YWx1ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByaW50ZXJdICAtIFByaW50ZXIgZnVuY3Rpb24gdG8gZm9ybWF0IHRoZSB2YWx1ZVxuICogQHJldHVybnMge1RhYmxlfSBgdGhpc2BcbiAqL1xuXG5UYWJsZS5wcm90b3R5cGUuY2VsbCA9IGZ1bmN0aW9uKGNvbCwgdmFsLCBwcmludGVyKSB7XG4gIHRoaXMucm93W2NvbF0gPSB2YWxcbiAgdGhpcy5yb3cuX19wcmludGVyc1tjb2xdID0gcHJpbnRlciB8fCBzdHJpbmdcbiAgcmV0dXJuIHRoaXNcbn1cblxuLyoqXG4gKiBTdHJpbmcgdG8gc2VwYXJhdGUgY29sdW1uc1xuICovXG5cblRhYmxlLnByb3RvdHlwZS5zZXBhcmF0b3IgPSAnICAnXG5cbmZ1bmN0aW9uIHN0cmluZyh2YWwpIHtcbiAgcmV0dXJuIHZhbCA9PT0gdW5kZWZpbmVkID8gJycgOiAnJyt2YWxcbn1cblxuZnVuY3Rpb24gbGVuZ3RoKHN0cikge1xuICB2YXIgcyA9IHN0ci5yZXBsYWNlKC9cXHUwMDFiXFxbXFxkK20vZywgJycpXG4gIHJldHVybiB3Y3dpZHRoID09IG51bGwgPyBzLmxlbmd0aCA6IHdjd2lkdGgocylcbn1cblxuLyoqXG4gKiBEZWZhdWx0IHByaW50ZXJcbiAqL1xuXG5UYWJsZS5zdHJpbmcgPSBzdHJpbmdcblxuLyoqXG4gKiBDcmVhdGUgYSBwcmludGVyIHdoaWNoIHJpZ2h0IGFsaWducyB0aGUgY29udGVudCBieSBwYWRkaW5nIHdpdGggYGNoYCBvbiB0aGUgbGVmdFxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBjaFxuICogQHJldHVybnMge0Z1bmN0aW9ufVxuICovXG5cblRhYmxlLmxlZnRQYWRkZXIgPSBsZWZ0UGFkZGVyXG5cbmZ1bmN0aW9uIGxlZnRQYWRkZXIoY2gpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHZhbCwgd2lkdGgpIHtcbiAgICB2YXIgc3RyID0gc3RyaW5nKHZhbClcbiAgICB2YXIgbGVuID0gbGVuZ3RoKHN0cilcbiAgICB2YXIgcGFkID0gd2lkdGggPiBsZW4gPyBBcnJheSh3aWR0aCAtIGxlbiArIDEpLmpvaW4oY2gpIDogJydcbiAgICByZXR1cm4gcGFkICsgc3RyXG4gIH1cbn1cblxuLyoqXG4gKiBQcmludGVyIHdoaWNoIHJpZ2h0IGFsaWducyB0aGUgY29udGVudFxuICovXG5cbnZhciBwYWRMZWZ0ID0gVGFibGUucGFkTGVmdCA9IGxlZnRQYWRkZXIoJyAnKVxuXG4vKipcbiAqIENyZWF0ZSBhIHByaW50ZXIgd2hpY2ggcGFkcyB3aXRoIGBjaGAgb24gdGhlIHJpZ2h0XG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGNoXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XG4gKi9cblxuVGFibGUucmlnaHRQYWRkZXIgPSByaWdodFBhZGRlclxuXG5mdW5jdGlvbiByaWdodFBhZGRlcihjaCkge1xuICByZXR1cm4gZnVuY3Rpb24gcGFkUmlnaHQodmFsLCB3aWR0aCkge1xuICAgIHZhciBzdHIgPSBzdHJpbmcodmFsKVxuICAgIHZhciBsZW4gPSBsZW5ndGgoc3RyKVxuICAgIHZhciBwYWQgPSB3aWR0aCA+IGxlbiA/IEFycmF5KHdpZHRoIC0gbGVuICsgMSkuam9pbihjaCkgOiAnJ1xuICAgIHJldHVybiBzdHIgKyBwYWRcbiAgfVxufVxuXG52YXIgcGFkUmlnaHQgPSByaWdodFBhZGRlcignICcpXG5cbi8qKlxuICogQ3JlYXRlIGEgcHJpbnRlciBmb3IgbnVtYmVyc1xuICpcbiAqIFdpbGwgZG8gcmlnaHQgYWxpZ25tZW50IGFuZCBvcHRpb25hbGx5IGZpeCB0aGUgbnVtYmVyIG9mIGRpZ2l0cyBhZnRlciBkZWNpbWFsIHBvaW50XG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IFtkaWdpdHNdIC0gTnVtYmVyIG9mIGRpZ2l0cyBmb3IgZml4cG9pbnQgbm90YXRpb25cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAqL1xuXG5UYWJsZS5udW1iZXIgPSBmdW5jdGlvbihkaWdpdHMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHZhbCwgd2lkdGgpIHtcbiAgICBpZiAodmFsID09IG51bGwpIHJldHVybiAnJ1xuICAgIGlmICh0eXBlb2YgdmFsICE9ICdudW1iZXInKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKCcnK3ZhbCArICcgaXMgbm90IGEgbnVtYmVyJylcbiAgICB2YXIgc3RyID0gZGlnaXRzID09IG51bGwgPyB2YWwrJycgOiB2YWwudG9GaXhlZChkaWdpdHMpXG4gICAgcmV0dXJuIHBhZExlZnQoc3RyLCB3aWR0aClcbiAgfVxufVxuXG5mdW5jdGlvbiBlYWNoKHJvdywgZm4pIHtcbiAgZm9yKHZhciBrZXkgaW4gcm93KSB7XG4gICAgaWYgKGtleSA9PSAnX19wcmludGVycycpIGNvbnRpbnVlXG4gICAgZm4oa2V5LCByb3dba2V5XSlcbiAgfVxufVxuXG4vKipcbiAqIEdldCBsaXN0IG9mIGNvbHVtbnMgaW4gcHJpbnRpbmcgb3JkZXJcbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nW119XG4gKi9cblxuVGFibGUucHJvdG90eXBlLmNvbHVtbnMgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGNvbHMgPSB7fVxuICBmb3IodmFyIGkgPSAwOyBpIDwgMjsgaSsrKSB7IC8vIGRvIDIgdGltZXNcbiAgICB0aGlzLnJvd3MuZm9yRWFjaChmdW5jdGlvbihyb3cpIHtcbiAgICAgIHZhciBpZHggPSAwXG4gICAgICBlYWNoKHJvdywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIGlkeCA9IE1hdGgubWF4KGlkeCwgY29sc1trZXldIHx8IDApXG4gICAgICAgIGNvbHNba2V5XSA9IGlkeFxuICAgICAgICBpZHgrK1xuICAgICAgfSlcbiAgICB9KVxuICB9XG4gIHJldHVybiBPYmplY3Qua2V5cyhjb2xzKS5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gY29sc1thXSAtIGNvbHNbYl1cbiAgfSlcbn1cblxuLyoqXG4gKiBGb3JtYXQganVzdCByb3dzLCBpLmUuIHByaW50IHRoZSB0YWJsZSB3aXRob3V0IGhlYWRlcnMgYW5kIHRvdGFsc1xuICpcbiAqIEByZXR1cm5zIHtTdHJpbmd9IFN0cmluZyByZXByZXNlbnRhaW9uIG9mIHRoZSB0YWJsZVxuICovXG5cblRhYmxlLnByb3RvdHlwZS5wcmludCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgY29scyA9IHRoaXMuY29sdW1ucygpXG4gIHZhciBzZXBhcmF0b3IgPSB0aGlzLnNlcGFyYXRvclxuICB2YXIgd2lkdGhzID0ge31cbiAgdmFyIG91dCA9ICcnXG5cbiAgLy8gQ2FsYyB3aWR0aHNcbiAgdGhpcy5yb3dzLmZvckVhY2goZnVuY3Rpb24ocm93KSB7XG4gICAgZWFjaChyb3csIGZ1bmN0aW9uKGtleSwgdmFsKSB7XG4gICAgICB2YXIgc3RyID0gcm93Ll9fcHJpbnRlcnNba2V5XS5jYWxsKHJvdywgdmFsKVxuICAgICAgd2lkdGhzW2tleV0gPSBNYXRoLm1heChsZW5ndGgoc3RyKSwgd2lkdGhzW2tleV0gfHwgMClcbiAgICB9KVxuICB9KVxuXG4gIC8vIE5vdyBwcmludFxuICB0aGlzLnJvd3MuZm9yRWFjaChmdW5jdGlvbihyb3cpIHtcbiAgICB2YXIgbGluZSA9ICcnXG4gICAgY29scy5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgdmFyIHdpZHRoID0gd2lkdGhzW2tleV1cbiAgICAgIHZhciBzdHIgPSByb3cuaGFzT3duUHJvcGVydHkoa2V5KVxuICAgICAgICA/ICcnK3Jvdy5fX3ByaW50ZXJzW2tleV0uY2FsbChyb3csIHJvd1trZXldLCB3aWR0aClcbiAgICAgICAgOiAnJ1xuICAgICAgbGluZSArPSBwYWRSaWdodChzdHIsIHdpZHRoKSArIHNlcGFyYXRvclxuICAgIH0pXG4gICAgbGluZSA9IGxpbmUuc2xpY2UoMCwgLXNlcGFyYXRvci5sZW5ndGgpXG4gICAgb3V0ICs9IGxpbmUgKyAnXFxuJ1xuICB9KVxuXG4gIHJldHVybiBvdXRcbn1cblxuLyoqXG4gKiBGb3JtYXQgdGhlIHRhYmxlXG4gKlxuICogQHJldHVybnMge1N0cmluZ31cbiAqL1xuXG5UYWJsZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGNvbHMgPSB0aGlzLmNvbHVtbnMoKVxuICB2YXIgb3V0ID0gbmV3IFRhYmxlKClcblxuICAvLyBjb3B5IG9wdGlvbnNcbiAgb3V0LnNlcGFyYXRvciA9IHRoaXMuc2VwYXJhdG9yXG5cbiAgLy8gV3JpdGUgaGVhZGVyXG4gIGNvbHMuZm9yRWFjaChmdW5jdGlvbihjb2wpIHtcbiAgICBvdXQuY2VsbChjb2wsIGNvbClcbiAgfSlcbiAgb3V0Lm5ld1JvdygpXG4gIG91dC5wdXNoRGVsaW1ldGVyKGNvbHMpXG5cbiAgLy8gV3JpdGUgYm9keVxuICBvdXQucm93cyA9IG91dC5yb3dzLmNvbmNhdCh0aGlzLnJvd3MpXG5cbiAgLy8gVG90YWxzXG4gIGlmICh0aGlzLnRvdGFscyAmJiB0aGlzLnJvd3MubGVuZ3RoKSB7XG4gICAgb3V0LnB1c2hEZWxpbWV0ZXIoY29scylcbiAgICB0aGlzLmZvckVhY2hUb3RhbChvdXQuY2VsbC5iaW5kKG91dCkpXG4gICAgb3V0Lm5ld1JvdygpXG4gIH1cblxuICByZXR1cm4gb3V0LnByaW50KClcbn1cblxuLyoqXG4gKiBQdXNoIGRlbGltZXRlciByb3cgdG8gdGhlIHRhYmxlICh3aXRoIGVhY2ggY2VsbCBmaWxsZWQgd2l0aCBkYXNocyBkdXJpbmcgcHJpbnRpbmcpXG4gKlxuICogQHBhcmFtIHtTdHJpbmdbXX0gW2NvbHNdXG4gKiBAcmV0dXJucyB7VGFibGV9IGB0aGlzYFxuICovXG5cblRhYmxlLnByb3RvdHlwZS5wdXNoRGVsaW1ldGVyID0gZnVuY3Rpb24oY29scykge1xuICBjb2xzID0gY29scyB8fCB0aGlzLmNvbHVtbnMoKVxuICBjb2xzLmZvckVhY2goZnVuY3Rpb24oY29sKSB7XG4gICAgdGhpcy5jZWxsKGNvbCwgdW5kZWZpbmVkLCBsZWZ0UGFkZGVyKCctJykpXG4gIH0sIHRoaXMpXG4gIHJldHVybiB0aGlzLm5ld1JvdygpXG59XG5cbi8qKlxuICogQ29tcHV0ZSBhbGwgdG90YWxzIGFuZCB5aWVsZCB0aGUgcmVzdWx0cyB0byBgY2JgXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2IgLSBDYWxsYmFjayBmdW5jdGlvbiB3aXRoIHNpZ25hdHVyZSBgKGNvbHVtbiwgdmFsdWUsIHByaW50ZXIpYFxuICovXG5cblRhYmxlLnByb3RvdHlwZS5mb3JFYWNoVG90YWwgPSBmdW5jdGlvbihjYikge1xuICBmb3IodmFyIGtleSBpbiB0aGlzLnRvdGFscykge1xuICAgIHZhciBhZ2dyID0gdGhpcy50b3RhbHNba2V5XVxuICAgIHZhciBhY2MgPSBhZ2dyLmluaXRcbiAgICB2YXIgbGVuID0gdGhpcy5yb3dzLmxlbmd0aFxuICAgIHRoaXMucm93cy5mb3JFYWNoKGZ1bmN0aW9uKHJvdywgaWR4KSB7XG4gICAgICBhY2MgPSBhZ2dyLnJlZHVjZS5jYWxsKHJvdywgYWNjLCByb3dba2V5XSwgaWR4LCBsZW4pXG4gICAgfSlcbiAgICBjYihrZXksIGFjYywgYWdnci5wcmludGVyKVxuICB9XG59XG5cbi8qKlxuICogRm9ybWF0IHRoZSB0YWJsZSBzbyB0aGF0IGVhY2ggcm93IHJlcHJlc2VudHMgY29sdW1uIGFuZCBlYWNoIGNvbHVtbiByZXByZXNlbnRzIHJvd1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0c11cbiAqIEBwYXJhbSB7U3RyaW5nfSBbb3BzLnNlcGFyYXRvcl0gLSBDb2x1bW4gc2VwYXJhdGlvbiBzdHJpbmdcbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRzLm5hbWVQcmludGVyXSAtIFByaW50ZXIgdG8gZm9ybWF0IGNvbHVtbiBuYW1lc1xuICogQHJldHVybnMge1N0cmluZ31cbiAqL1xuXG5UYWJsZS5wcm90b3R5cGUucHJpbnRUcmFuc3Bvc2VkID0gZnVuY3Rpb24ob3B0cykge1xuICBvcHRzID0gb3B0cyB8fCB7fVxuICB2YXIgb3V0ID0gbmV3IFRhYmxlXG4gIG91dC5zZXBhcmF0b3IgPSBvcHRzLnNlcGFyYXRvciB8fCB0aGlzLnNlcGFyYXRvclxuICB0aGlzLmNvbHVtbnMoKS5mb3JFYWNoKGZ1bmN0aW9uKGNvbCkge1xuICAgIG91dC5jZWxsKDAsIGNvbCwgb3B0cy5uYW1lUHJpbnRlcilcbiAgICB0aGlzLnJvd3MuZm9yRWFjaChmdW5jdGlvbihyb3csIGlkeCkge1xuICAgICAgb3V0LmNlbGwoaWR4KzEsIHJvd1tjb2xdLCByb3cuX19wcmludGVyc1tjb2xdKVxuICAgIH0pXG4gICAgb3V0Lm5ld1JvdygpXG4gIH0sIHRoaXMpXG4gIHJldHVybiBvdXQucHJpbnQoKVxufVxuXG4vKipcbiAqIFNvcnQgdGhlIHRhYmxlXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbnxzdHJpbmdbXX0gW2NtcF0gLSBFaXRoZXIgY29tcGFyZSBmdW5jdGlvbiBvciBhIGxpc3Qgb2YgY29sdW1ucyB0byBzb3J0IG9uXG4gKiBAcmV0dXJucyB7VGFibGV9IGB0aGlzYFxuICovXG5cblRhYmxlLnByb3RvdHlwZS5zb3J0ID0gZnVuY3Rpb24oY21wKSB7XG4gIGlmICh0eXBlb2YgY21wID09ICdmdW5jdGlvbicpIHtcbiAgICB0aGlzLnJvd3Muc29ydChjbXApXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIHZhciBrZXlzID0gQXJyYXkuaXNBcnJheShjbXApID8gY21wIDogdGhpcy5jb2x1bW5zKClcblxuICB2YXIgY29tcGFyYXRvcnMgPSBrZXlzLm1hcChmdW5jdGlvbihrZXkpIHtcbiAgICB2YXIgb3JkZXIgPSAnYXNjJ1xuICAgIHZhciBtID0gLyguKilcXHxcXHMqKGFzY3xkZXMpXFxzKiQvLmV4ZWMoa2V5KVxuICAgIGlmIChtKSB7XG4gICAgICBrZXkgPSBtWzFdXG4gICAgICBvcmRlciA9IG1bMl1cbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICByZXR1cm4gb3JkZXIgPT0gJ2FzYydcbiAgICAgICAgPyBjb21wYXJlKGFba2V5XSwgYltrZXldKVxuICAgICAgICA6IGNvbXBhcmUoYltrZXldLCBhW2tleV0pXG4gICAgfVxuICB9KVxuXG4gIHJldHVybiB0aGlzLnNvcnQoZnVuY3Rpb24oYSwgYikge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29tcGFyYXRvcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBvcmRlciA9IGNvbXBhcmF0b3JzW2ldKGEsIGIpXG4gICAgICBpZiAob3JkZXIgIT0gMCkgcmV0dXJuIG9yZGVyXG4gICAgfVxuICAgIHJldHVybiAwXG4gIH0pXG59XG5cbmZ1bmN0aW9uIGNvbXBhcmUoYSwgYikge1xuICBpZiAoYSA9PT0gYikgcmV0dXJuIDBcbiAgaWYgKGEgPT09IHVuZGVmaW5lZCkgcmV0dXJuIDFcbiAgaWYgKGIgPT09IHVuZGVmaW5lZCkgcmV0dXJuIC0xXG4gIGlmIChhID09PSBudWxsKSByZXR1cm4gMVxuICBpZiAoYiA9PT0gbnVsbCkgcmV0dXJuIC0xXG4gIGlmIChhID4gYikgcmV0dXJuIDFcbiAgaWYgKGEgPCBiKSByZXR1cm4gLTFcbiAgcmV0dXJuIGNvbXBhcmUoU3RyaW5nKGEpLCBTdHJpbmcoYikpXG59XG5cbi8qKlxuICogQWRkIGEgdG90YWwgZm9yIHRoZSBjb2x1bW5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gY29sIC0gY29sdW1uIG5hbWVcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0c11cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRzLnJlZHVjZSA9IHN1bV0gLSByZWR1Y2UoYWNjLCB2YWwsIGlkeCwgbGVuZ3RoKSBmdW5jdGlvbiB0byBjb21wdXRlIHRoZSB0b3RhbCB2YWx1ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdHMucHJpbnRlciA9IHBhZExlZnRdIC0gUHJpbnRlciB0byBmb3JtYXQgdGhlIHRvdGFsIGNlbGxcbiAqIEBwYXJhbSB7QW55fSBbb3B0cy5pbml0ID0gMF0gLSBJbml0aWFsIHZhbHVlIGZvciByZWR1Y3Rpb25cbiAqIEByZXR1cm5zIHtUYWJsZX0gYHRoaXNgXG4gKi9cblxuVGFibGUucHJvdG90eXBlLnRvdGFsID0gZnVuY3Rpb24oY29sLCBvcHRzKSB7XG4gIG9wdHMgPSBvcHRzIHx8IHt9XG4gIHRoaXMudG90YWxzID0gdGhpcy50b3RhbHMgfHwge31cbiAgdGhpcy50b3RhbHNbY29sXSA9IHtcbiAgICByZWR1Y2U6IG9wdHMucmVkdWNlIHx8IFRhYmxlLmFnZ3Iuc3VtLFxuICAgIHByaW50ZXI6IG9wdHMucHJpbnRlciB8fCBwYWRMZWZ0LFxuICAgIGluaXQ6IG9wdHMuaW5pdCA9PSBudWxsID8gMCA6IG9wdHMuaW5pdFxuICB9XG4gIHJldHVybiB0aGlzXG59XG5cbi8qKlxuICogUHJlZGVmaW5lZCBoZWxwZXJzIGZvciB0b3RhbHNcbiAqL1xuXG5UYWJsZS5hZ2dyID0ge31cblxuLyoqXG4gKiBDcmVhdGUgYSBwcmludGVyIHdoaWNoIGZvcm1hdHMgdGhlIHZhbHVlIHdpdGggYHByaW50ZXJgLFxuICogYWRkcyB0aGUgYHByZWZpeGAgdG8gaXQgYW5kIHJpZ2h0IGFsaWducyB0aGUgd2hvbGUgdGhpbmdcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gcHJlZml4XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmludGVyXG4gKiBAcmV0dXJucyB7cHJpbnRlcn1cbiAqL1xuXG5UYWJsZS5hZ2dyLnByaW50ZXIgPSBmdW5jdGlvbihwcmVmaXgsIHByaW50ZXIpIHtcbiAgcHJpbnRlciA9IHByaW50ZXIgfHwgc3RyaW5nXG4gIHJldHVybiBmdW5jdGlvbih2YWwsIHdpZHRoKSB7XG4gICAgcmV0dXJuIHBhZExlZnQocHJlZml4ICsgcHJpbnRlcih2YWwpLCB3aWR0aClcbiAgfVxufVxuXG4vKipcbiAqIFN1bSByZWR1Y3Rpb25cbiAqL1xuXG5UYWJsZS5hZ2dyLnN1bSA9IGZ1bmN0aW9uKGFjYywgdmFsKSB7XG4gIHJldHVybiBhY2MgKyB2YWxcbn1cblxuLyoqXG4gKiBBdmVyYWdlIHJlZHVjdGlvblxuICovXG5cblRhYmxlLmFnZ3IuYXZnID0gZnVuY3Rpb24oYWNjLCB2YWwsIGlkeCwgbGVuKSB7XG4gIGFjYyA9IGFjYyArIHZhbFxuICByZXR1cm4gaWR4ICsgMSA9PSBsZW4gPyBhY2MvbGVuIDogYWNjXG59XG5cbi8qKlxuICogUHJpbnQgdGhlIGFycmF5IG9yIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBvYmogLSBPYmplY3QgdG8gcHJpbnRcbiAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fSBbZm9ybWF0XSAtIEZvcm1hdCBvcHRpb25zXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2JdIC0gVGFibGUgcG9zdCBwcm9jZXNzaW5nIGFuZCBmb3JtYXRpbmdcbiAqIEByZXR1cm5zIHtTdHJpbmd9XG4gKi9cblxuVGFibGUucHJpbnQgPSBmdW5jdGlvbihvYmosIGZvcm1hdCwgY2IpIHtcbiAgdmFyIG9wdHMgPSBmb3JtYXQgfHwge31cblxuICBmb3JtYXQgPSB0eXBlb2YgZm9ybWF0ID09ICdmdW5jdGlvbidcbiAgICA/IGZvcm1hdFxuICAgIDogZnVuY3Rpb24ob2JqLCBjZWxsKSB7XG4gICAgICBmb3IodmFyIGtleSBpbiBvYmopIHtcbiAgICAgICAgaWYgKCFvYmouaGFzT3duUHJvcGVydHkoa2V5KSkgY29udGludWVcbiAgICAgICAgdmFyIHBhcmFtcyA9IG9wdHNba2V5XSB8fCB7fVxuICAgICAgICBjZWxsKHBhcmFtcy5uYW1lIHx8IGtleSwgb2JqW2tleV0sIHBhcmFtcy5wcmludGVyKVxuICAgICAgfVxuICAgIH1cblxuICB2YXIgdCA9IG5ldyBUYWJsZVxuICB2YXIgY2VsbCA9IHQuY2VsbC5iaW5kKHQpXG5cbiAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgIGNiID0gY2IgfHwgZnVuY3Rpb24odCkgeyByZXR1cm4gdC50b1N0cmluZygpIH1cbiAgICBvYmouZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICBmb3JtYXQoaXRlbSwgY2VsbClcbiAgICAgIHQubmV3Um93KClcbiAgICB9KVxuICB9IGVsc2Uge1xuICAgIGNiID0gY2IgfHwgZnVuY3Rpb24odCkgeyByZXR1cm4gdC5wcmludFRyYW5zcG9zZWQoe3NlcGFyYXRvcjogJyA6ICd9KSB9XG4gICAgZm9ybWF0KG9iaiwgY2VsbClcbiAgICB0Lm5ld1JvdygpXG4gIH1cblxuICByZXR1cm4gY2IodClcbn1cblxuLyoqXG4gKiBTYW1lIGFzIGBUYWJsZS5wcmludCgpYCBidXQgeWllbGRzIHRoZSByZXN1bHQgdG8gYGNvbnNvbGUubG9nKClgXG4gKi9cblxuVGFibGUubG9nID0gZnVuY3Rpb24ob2JqLCBmb3JtYXQsIGNiKSB7XG4gIGNvbnNvbGUubG9nKFRhYmxlLnByaW50KG9iaiwgZm9ybWF0LCBjYikpXG59XG5cbi8qKlxuICogU2FtZSBhcyBgLnRvU3RyaW5nKClgIGJ1dCB5aWVsZHMgdGhlIHJlc3VsdCB0byBgY29uc29sZS5sb2coKWBcbiAqL1xuXG5UYWJsZS5wcm90b3R5cGUubG9nID0gZnVuY3Rpb24oKSB7XG4gIGNvbnNvbGUubG9nKHRoaXMudG9TdHJpbmcoKSlcbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gW1xuICAgIFsgMHgwMzAwLCAweDAzNkYgXSwgWyAweDA0ODMsIDB4MDQ4NiBdLCBbIDB4MDQ4OCwgMHgwNDg5IF0sXG4gICAgWyAweDA1OTEsIDB4MDVCRCBdLCBbIDB4MDVCRiwgMHgwNUJGIF0sIFsgMHgwNUMxLCAweDA1QzIgXSxcbiAgICBbIDB4MDVDNCwgMHgwNUM1IF0sIFsgMHgwNUM3LCAweDA1QzcgXSwgWyAweDA2MDAsIDB4MDYwMyBdLFxuICAgIFsgMHgwNjEwLCAweDA2MTUgXSwgWyAweDA2NEIsIDB4MDY1RSBdLCBbIDB4MDY3MCwgMHgwNjcwIF0sXG4gICAgWyAweDA2RDYsIDB4MDZFNCBdLCBbIDB4MDZFNywgMHgwNkU4IF0sIFsgMHgwNkVBLCAweDA2RUQgXSxcbiAgICBbIDB4MDcwRiwgMHgwNzBGIF0sIFsgMHgwNzExLCAweDA3MTEgXSwgWyAweDA3MzAsIDB4MDc0QSBdLFxuICAgIFsgMHgwN0E2LCAweDA3QjAgXSwgWyAweDA3RUIsIDB4MDdGMyBdLCBbIDB4MDkwMSwgMHgwOTAyIF0sXG4gICAgWyAweDA5M0MsIDB4MDkzQyBdLCBbIDB4MDk0MSwgMHgwOTQ4IF0sIFsgMHgwOTRELCAweDA5NEQgXSxcbiAgICBbIDB4MDk1MSwgMHgwOTU0IF0sIFsgMHgwOTYyLCAweDA5NjMgXSwgWyAweDA5ODEsIDB4MDk4MSBdLFxuICAgIFsgMHgwOUJDLCAweDA5QkMgXSwgWyAweDA5QzEsIDB4MDlDNCBdLCBbIDB4MDlDRCwgMHgwOUNEIF0sXG4gICAgWyAweDA5RTIsIDB4MDlFMyBdLCBbIDB4MEEwMSwgMHgwQTAyIF0sIFsgMHgwQTNDLCAweDBBM0MgXSxcbiAgICBbIDB4MEE0MSwgMHgwQTQyIF0sIFsgMHgwQTQ3LCAweDBBNDggXSwgWyAweDBBNEIsIDB4MEE0RCBdLFxuICAgIFsgMHgwQTcwLCAweDBBNzEgXSwgWyAweDBBODEsIDB4MEE4MiBdLCBbIDB4MEFCQywgMHgwQUJDIF0sXG4gICAgWyAweDBBQzEsIDB4MEFDNSBdLCBbIDB4MEFDNywgMHgwQUM4IF0sIFsgMHgwQUNELCAweDBBQ0QgXSxcbiAgICBbIDB4MEFFMiwgMHgwQUUzIF0sIFsgMHgwQjAxLCAweDBCMDEgXSwgWyAweDBCM0MsIDB4MEIzQyBdLFxuICAgIFsgMHgwQjNGLCAweDBCM0YgXSwgWyAweDBCNDEsIDB4MEI0MyBdLCBbIDB4MEI0RCwgMHgwQjREIF0sXG4gICAgWyAweDBCNTYsIDB4MEI1NiBdLCBbIDB4MEI4MiwgMHgwQjgyIF0sIFsgMHgwQkMwLCAweDBCQzAgXSxcbiAgICBbIDB4MEJDRCwgMHgwQkNEIF0sIFsgMHgwQzNFLCAweDBDNDAgXSwgWyAweDBDNDYsIDB4MEM0OCBdLFxuICAgIFsgMHgwQzRBLCAweDBDNEQgXSwgWyAweDBDNTUsIDB4MEM1NiBdLCBbIDB4MENCQywgMHgwQ0JDIF0sXG4gICAgWyAweDBDQkYsIDB4MENCRiBdLCBbIDB4MENDNiwgMHgwQ0M2IF0sIFsgMHgwQ0NDLCAweDBDQ0QgXSxcbiAgICBbIDB4MENFMiwgMHgwQ0UzIF0sIFsgMHgwRDQxLCAweDBENDMgXSwgWyAweDBENEQsIDB4MEQ0RCBdLFxuICAgIFsgMHgwRENBLCAweDBEQ0EgXSwgWyAweDBERDIsIDB4MERENCBdLCBbIDB4MERENiwgMHgwREQ2IF0sXG4gICAgWyAweDBFMzEsIDB4MEUzMSBdLCBbIDB4MEUzNCwgMHgwRTNBIF0sIFsgMHgwRTQ3LCAweDBFNEUgXSxcbiAgICBbIDB4MEVCMSwgMHgwRUIxIF0sIFsgMHgwRUI0LCAweDBFQjkgXSwgWyAweDBFQkIsIDB4MEVCQyBdLFxuICAgIFsgMHgwRUM4LCAweDBFQ0QgXSwgWyAweDBGMTgsIDB4MEYxOSBdLCBbIDB4MEYzNSwgMHgwRjM1IF0sXG4gICAgWyAweDBGMzcsIDB4MEYzNyBdLCBbIDB4MEYzOSwgMHgwRjM5IF0sIFsgMHgwRjcxLCAweDBGN0UgXSxcbiAgICBbIDB4MEY4MCwgMHgwRjg0IF0sIFsgMHgwRjg2LCAweDBGODcgXSwgWyAweDBGOTAsIDB4MEY5NyBdLFxuICAgIFsgMHgwRjk5LCAweDBGQkMgXSwgWyAweDBGQzYsIDB4MEZDNiBdLCBbIDB4MTAyRCwgMHgxMDMwIF0sXG4gICAgWyAweDEwMzIsIDB4MTAzMiBdLCBbIDB4MTAzNiwgMHgxMDM3IF0sIFsgMHgxMDM5LCAweDEwMzkgXSxcbiAgICBbIDB4MTA1OCwgMHgxMDU5IF0sIFsgMHgxMTYwLCAweDExRkYgXSwgWyAweDEzNUYsIDB4MTM1RiBdLFxuICAgIFsgMHgxNzEyLCAweDE3MTQgXSwgWyAweDE3MzIsIDB4MTczNCBdLCBbIDB4MTc1MiwgMHgxNzUzIF0sXG4gICAgWyAweDE3NzIsIDB4MTc3MyBdLCBbIDB4MTdCNCwgMHgxN0I1IF0sIFsgMHgxN0I3LCAweDE3QkQgXSxcbiAgICBbIDB4MTdDNiwgMHgxN0M2IF0sIFsgMHgxN0M5LCAweDE3RDMgXSwgWyAweDE3REQsIDB4MTdERCBdLFxuICAgIFsgMHgxODBCLCAweDE4MEQgXSwgWyAweDE4QTksIDB4MThBOSBdLCBbIDB4MTkyMCwgMHgxOTIyIF0sXG4gICAgWyAweDE5MjcsIDB4MTkyOCBdLCBbIDB4MTkzMiwgMHgxOTMyIF0sIFsgMHgxOTM5LCAweDE5M0IgXSxcbiAgICBbIDB4MUExNywgMHgxQTE4IF0sIFsgMHgxQjAwLCAweDFCMDMgXSwgWyAweDFCMzQsIDB4MUIzNCBdLFxuICAgIFsgMHgxQjM2LCAweDFCM0EgXSwgWyAweDFCM0MsIDB4MUIzQyBdLCBbIDB4MUI0MiwgMHgxQjQyIF0sXG4gICAgWyAweDFCNkIsIDB4MUI3MyBdLCBbIDB4MURDMCwgMHgxRENBIF0sIFsgMHgxREZFLCAweDFERkYgXSxcbiAgICBbIDB4MjAwQiwgMHgyMDBGIF0sIFsgMHgyMDJBLCAweDIwMkUgXSwgWyAweDIwNjAsIDB4MjA2MyBdLFxuICAgIFsgMHgyMDZBLCAweDIwNkYgXSwgWyAweDIwRDAsIDB4MjBFRiBdLCBbIDB4MzAyQSwgMHgzMDJGIF0sXG4gICAgWyAweDMwOTksIDB4MzA5QSBdLCBbIDB4QTgwNiwgMHhBODA2IF0sIFsgMHhBODBCLCAweEE4MEIgXSxcbiAgICBbIDB4QTgyNSwgMHhBODI2IF0sIFsgMHhGQjFFLCAweEZCMUUgXSwgWyAweEZFMDAsIDB4RkUwRiBdLFxuICAgIFsgMHhGRTIwLCAweEZFMjMgXSwgWyAweEZFRkYsIDB4RkVGRiBdLCBbIDB4RkZGOSwgMHhGRkZCIF0sXG4gICAgWyAweDEwQTAxLCAweDEwQTAzIF0sIFsgMHgxMEEwNSwgMHgxMEEwNiBdLCBbIDB4MTBBMEMsIDB4MTBBMEYgXSxcbiAgICBbIDB4MTBBMzgsIDB4MTBBM0EgXSwgWyAweDEwQTNGLCAweDEwQTNGIF0sIFsgMHgxRDE2NywgMHgxRDE2OSBdLFxuICAgIFsgMHgxRDE3MywgMHgxRDE4MiBdLCBbIDB4MUQxODUsIDB4MUQxOEIgXSwgWyAweDFEMUFBLCAweDFEMUFEIF0sXG4gICAgWyAweDFEMjQyLCAweDFEMjQ0IF0sIFsgMHhFMDAwMSwgMHhFMDAwMSBdLCBbIDB4RTAwMjAsIDB4RTAwN0YgXSxcbiAgICBbIDB4RTAxMDAsIDB4RTAxRUYgXVxuXVxuIiwiXCJ1c2Ugc3RyaWN0XCJcblxudmFyIGRlZmF1bHRzID0gcmVxdWlyZSgnZGVmYXVsdHMnKVxudmFyIGNvbWJpbmluZyA9IHJlcXVpcmUoJy4vY29tYmluaW5nJylcblxudmFyIERFRkFVTFRTID0ge1xuICBudWw6IDAsXG4gIGNvbnRyb2w6IDBcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB3Y3dpZHRoKHN0cikge1xuICByZXR1cm4gd2Nzd2lkdGgoc3RyLCBERUZBVUxUUylcbn1cblxubW9kdWxlLmV4cG9ydHMuY29uZmlnID0gZnVuY3Rpb24ob3B0cykge1xuICBvcHRzID0gZGVmYXVsdHMob3B0cyB8fCB7fSwgREVGQVVMVFMpXG4gIHJldHVybiBmdW5jdGlvbiB3Y3dpZHRoKHN0cikge1xuICAgIHJldHVybiB3Y3N3aWR0aChzdHIsIG9wdHMpXG4gIH1cbn1cblxuLypcbiAqICBUaGUgZm9sbG93aW5nIGZ1bmN0aW9ucyBkZWZpbmUgdGhlIGNvbHVtbiB3aWR0aCBvZiBhbiBJU08gMTA2NDZcbiAqICBjaGFyYWN0ZXIgYXMgZm9sbG93czpcbiAqICAtIFRoZSBudWxsIGNoYXJhY3RlciAoVSswMDAwKSBoYXMgYSBjb2x1bW4gd2lkdGggb2YgMC5cbiAqICAtIE90aGVyIEMwL0MxIGNvbnRyb2wgY2hhcmFjdGVycyBhbmQgREVMIHdpbGwgbGVhZCB0byBhIHJldHVybiB2YWx1ZVxuICogICAgb2YgLTEuXG4gKiAgLSBOb24tc3BhY2luZyBhbmQgZW5jbG9zaW5nIGNvbWJpbmluZyBjaGFyYWN0ZXJzIChnZW5lcmFsIGNhdGVnb3J5XG4gKiAgICBjb2RlIE1uIG9yIE1lIGluIHRoZVxuICogICAgVW5pY29kZSBkYXRhYmFzZSkgaGF2ZSBhIGNvbHVtbiB3aWR0aCBvZiAwLlxuICogIC0gU09GVCBIWVBIRU4gKFUrMDBBRCkgaGFzIGEgY29sdW1uIHdpZHRoIG9mIDEuXG4gKiAgLSBPdGhlciBmb3JtYXQgY2hhcmFjdGVycyAoZ2VuZXJhbCBjYXRlZ29yeSBjb2RlIENmIGluIHRoZSBVbmljb2RlXG4gKiAgICBkYXRhYmFzZSkgYW5kIFpFUk8gV0lEVEhcbiAqICAgIFNQQUNFIChVKzIwMEIpIGhhdmUgYSBjb2x1bW4gd2lkdGggb2YgMC5cbiAqICAtIEhhbmd1bCBKYW1vIG1lZGlhbCB2b3dlbHMgYW5kIGZpbmFsIGNvbnNvbmFudHMgKFUrMTE2MC1VKzExRkYpXG4gKiAgICBoYXZlIGEgY29sdW1uIHdpZHRoIG9mIDAuXG4gKiAgLSBTcGFjaW5nIGNoYXJhY3RlcnMgaW4gdGhlIEVhc3QgQXNpYW4gV2lkZSAoVykgb3IgRWFzdCBBc2lhblxuICogICAgRnVsbC13aWR0aCAoRikgY2F0ZWdvcnkgYXNcbiAqICAgIGRlZmluZWQgaW4gVW5pY29kZSBUZWNobmljYWwgUmVwb3J0ICMxMSBoYXZlIGEgY29sdW1uIHdpZHRoIG9mIDIuXG4gKiAgLSBBbGwgcmVtYWluaW5nIGNoYXJhY3RlcnMgKGluY2x1ZGluZyBhbGwgcHJpbnRhYmxlIElTTyA4ODU5LTEgYW5kXG4gKiAgICBXR0w0IGNoYXJhY3RlcnMsIFVuaWNvZGUgY29udHJvbCBjaGFyYWN0ZXJzLCBldGMuKSBoYXZlIGEgY29sdW1uXG4gKiAgICB3aWR0aCBvZiAxLlxuICogIFRoaXMgaW1wbGVtZW50YXRpb24gYXNzdW1lcyB0aGF0IGNoYXJhY3RlcnMgYXJlIGVuY29kZWQgaW4gSVNPIDEwNjQ2LlxuKi9cblxuZnVuY3Rpb24gd2Nzd2lkdGgoc3RyLCBvcHRzKSB7XG4gIGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJykgcmV0dXJuIHdjd2lkdGgoc3RyLCBvcHRzKVxuXG4gIHZhciBzID0gMFxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgIHZhciBuID0gd2N3aWR0aChzdHIuY2hhckNvZGVBdChpKSwgb3B0cylcbiAgICBpZiAobiA8IDApIHJldHVybiAtMVxuICAgIHMgKz0gblxuICB9XG5cbiAgcmV0dXJuIHNcbn1cblxuZnVuY3Rpb24gd2N3aWR0aCh1Y3MsIG9wdHMpIHtcbiAgLy8gdGVzdCBmb3IgOC1iaXQgY29udHJvbCBjaGFyYWN0ZXJzXG4gIGlmICh1Y3MgPT09IDApIHJldHVybiBvcHRzLm51bFxuICBpZiAodWNzIDwgMzIgfHwgKHVjcyA+PSAweDdmICYmIHVjcyA8IDB4YTApKSByZXR1cm4gb3B0cy5jb250cm9sXG5cbiAgLy8gYmluYXJ5IHNlYXJjaCBpbiB0YWJsZSBvZiBub24tc3BhY2luZyBjaGFyYWN0ZXJzXG4gIGlmIChiaXNlYXJjaCh1Y3MpKSByZXR1cm4gMFxuXG4gIC8vIGlmIHdlIGFycml2ZSBoZXJlLCB1Y3MgaXMgbm90IGEgY29tYmluaW5nIG9yIEMwL0MxIGNvbnRyb2wgY2hhcmFjdGVyXG4gIHJldHVybiAxICtcbiAgICAgICh1Y3MgPj0gMHgxMTAwICYmXG4gICAgICAgKHVjcyA8PSAweDExNWYgfHwgICAgICAgICAgICAgICAgICAgICAgIC8vIEhhbmd1bCBKYW1vIGluaXQuIGNvbnNvbmFudHNcbiAgICAgICAgdWNzID09IDB4MjMyOSB8fCB1Y3MgPT0gMHgyMzJhIHx8XG4gICAgICAgICh1Y3MgPj0gMHgyZTgwICYmIHVjcyA8PSAweGE0Y2YgJiZcbiAgICAgICAgIHVjcyAhPSAweDMwM2YpIHx8ICAgICAgICAgICAgICAgICAgICAgLy8gQ0pLIC4uLiBZaVxuICAgICAgICAodWNzID49IDB4YWMwMCAmJiB1Y3MgPD0gMHhkN2EzKSB8fCAgICAvLyBIYW5ndWwgU3lsbGFibGVzXG4gICAgICAgICh1Y3MgPj0gMHhmOTAwICYmIHVjcyA8PSAweGZhZmYpIHx8ICAgIC8vIENKSyBDb21wYXRpYmlsaXR5IElkZW9ncmFwaHNcbiAgICAgICAgKHVjcyA+PSAweGZlMTAgJiYgdWNzIDw9IDB4ZmUxOSkgfHwgICAgLy8gVmVydGljYWwgZm9ybXNcbiAgICAgICAgKHVjcyA+PSAweGZlMzAgJiYgdWNzIDw9IDB4ZmU2ZikgfHwgICAgLy8gQ0pLIENvbXBhdGliaWxpdHkgRm9ybXNcbiAgICAgICAgKHVjcyA+PSAweGZmMDAgJiYgdWNzIDw9IDB4ZmY2MCkgfHwgICAgLy8gRnVsbHdpZHRoIEZvcm1zXG4gICAgICAgICh1Y3MgPj0gMHhmZmUwICYmIHVjcyA8PSAweGZmZTYpIHx8XG4gICAgICAgICh1Y3MgPj0gMHgyMDAwMCAmJiB1Y3MgPD0gMHgyZmZmZCkgfHxcbiAgICAgICAgKHVjcyA+PSAweDMwMDAwICYmIHVjcyA8PSAweDNmZmZkKSkpO1xufVxuXG5mdW5jdGlvbiBiaXNlYXJjaCh1Y3MpIHtcbiAgdmFyIG1pbiA9IDBcbiAgdmFyIG1heCA9IGNvbWJpbmluZy5sZW5ndGggLSAxXG4gIHZhciBtaWRcblxuICBpZiAodWNzIDwgY29tYmluaW5nWzBdWzBdIHx8IHVjcyA+IGNvbWJpbmluZ1ttYXhdWzFdKSByZXR1cm4gZmFsc2VcblxuICB3aGlsZSAobWF4ID49IG1pbikge1xuICAgIG1pZCA9IE1hdGguZmxvb3IoKG1pbiArIG1heCkgLyAyKVxuICAgIGlmICh1Y3MgPiBjb21iaW5pbmdbbWlkXVsxXSkgbWluID0gbWlkICsgMVxuICAgIGVsc2UgaWYgKHVjcyA8IGNvbWJpbmluZ1ttaWRdWzBdKSBtYXggPSBtaWQgLSAxXG4gICAgZWxzZSByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlXG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTY29yZSB7XG4gICAgc3RhdGljIE1BWF9JTlQgPSBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUjtcbiAgICBzY29yZV8xID0gU2NvcmUuTUFYX0lOVDtcbiAgICBzY29yZV8yID0gU2NvcmUuTUFYX0lOVDtcblxuICAgIGNvbnN0cnVjdG9yKHNjb3JlXzE/OiBudW1iZXIsIHNjb3JlXzI/OiBudW1iZXIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzY29yZV8xICE9ICd1bmRlZmluZWQnKSB0aGlzLnNjb3JlXzEgPSBzY29yZV8xO1xuICAgICAgICBpZiAodHlwZW9mIHNjb3JlXzIgIT0gJ3VuZGVmaW5lZCcpIHRoaXMuc2NvcmVfMiA9IHNjb3JlXzI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG93ZXIgaXMgYmV0dGVyXG4gICAgICovXG4gICAgdmFsdWVPZigpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLnNjb3JlXzEgKyB0aGlzLnNjb3JlXzIpO1xuICAgIH1cblxuICAgIGFzc2lnbihvdGhlcikge1xuICAgICAgICB0aGlzLnNjb3JlXzEgPSBvdGhlci5zY29yZV8xO1xuICAgICAgICB0aGlzLnNjb3JlXzIgPSBvdGhlci5zY29yZV8yO1xuICAgIH1cblxuICAgIGlzQmxhbmsoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjb3JlXzEgPT09IFNjb3JlLk1BWF9JTlQ7XG4gICAgfVxuXG4gICAgZGVjcmVhc2VCeShkZWx0YSkge1xuICAgICAgICB0aGlzLnNjb3JlXzEgKz0gZGVsdGE7XG4gICAgICAgIHRoaXMuc2NvcmVfMiArPSBkZWx0YTtcbiAgICB9XG59IiwiaW1wb3J0IHsgRnJlZVNwYWNlQm94IH0gZnJvbSAnLi4vQmluJztcbmltcG9ydCBCb3ggZnJvbSAnLi4vQm94JztcbmltcG9ydCBTY29yZSBmcm9tICcuLi9TY29yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhc2Uge1xuXHRmaW5kUG9zaXRpb25Gb3JOZXdOb2RlKGJveDogQm94LCBmcmVlUmVjdHM6IEZyZWVTcGFjZUJveFtdKSB7XG5cdFx0bGV0IGJlc3RTY29yZSA9IG5ldyBTY29yZSgpO1xuXHRcdGxldCB3aWR0aCA9IGJveC53aWR0aDtcblx0XHRsZXQgaGVpZ2h0ID0gYm94LmhlaWdodDtcblxuXHRcdGZyZWVSZWN0cy5mb3JFYWNoKChmcmVlUmVjdCkgPT4ge1xuXHRcdFx0dGhpcy50cnlQbGFjZVJlY3RJbihmcmVlUmVjdCwgYm94LCB3aWR0aCwgaGVpZ2h0LCBiZXN0U2NvcmUpO1xuXHRcdFx0aWYgKCFib3guY29uc3RyYWluUm90YXRpb24pIHtcblx0XHRcdFx0dGhpcy50cnlQbGFjZVJlY3RJbihmcmVlUmVjdCwgYm94LCBoZWlnaHQsIHdpZHRoLCBiZXN0U2NvcmUpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIGJlc3RTY29yZTtcblx0fVxuXG5cdHRyeVBsYWNlUmVjdEluKGZyZWVSZWN0LCBib3g6IEJveCwgcmVjdFdpZHRoLCByZWN0SGVpZ2h0LCBiZXN0U2NvcmUpIHtcblx0XHRpZiAoZnJlZVJlY3Qud2lkdGggPj0gcmVjdFdpZHRoICYmIGZyZWVSZWN0LmhlaWdodCA+PSByZWN0SGVpZ2h0KSB7XG5cdFx0XHRsZXQgc2NvcmUgPSB0aGlzLmNhbGN1bGF0ZVNjb3JlKGZyZWVSZWN0LCByZWN0V2lkdGgsIHJlY3RIZWlnaHQpO1xuXHRcdFx0aWYgKHNjb3JlIDwgYmVzdFNjb3JlKSB7XG5cdFx0XHRcdGJveC54ID0gZnJlZVJlY3QueDtcblx0XHRcdFx0Ym94LnkgPSBmcmVlUmVjdC55O1xuXHRcdFx0XHRib3gud2lkdGggPSByZWN0V2lkdGg7XG5cdFx0XHRcdGJveC5oZWlnaHQgPSByZWN0SGVpZ2h0O1xuXHRcdFx0XHRib3gucGFja2VkID0gdHJ1ZTtcblx0XHRcdFx0YmVzdFNjb3JlLmFzc2lnbihzY29yZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Y2FsY3VsYXRlU2NvcmUoX2ZyZWVSZWN0LCBfcmVjdFdpZHRoLCBfcmVjdEhlaWdodCk6IFNjb3JlIHtcblx0XHR0aHJvdyAnTm90SW1wbGVtZW50ZWRFcnJvcic7XG5cdH1cbn0iLCJpbXBvcnQgQmFzZSBmcm9tICcuL0Jhc2UnO1xuaW1wb3J0IFNjb3JlIGZyb20gJy4uL1Njb3JlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmVzdFNob3J0U2lkZUZpdCBleHRlbmRzIEJhc2Uge1xuXG4gIGNhbGN1bGF0ZVNjb3JlKGZyZWVSZWN0LCByZWN0V2lkdGgsIHJlY3RIZWlnaHQpIHtcbiAgICBsZXQgbGVmdE92ZXJIb3JpeiA9IE1hdGguYWJzKGZyZWVSZWN0LndpZHRoIC0gcmVjdFdpZHRoKTtcbiAgICBsZXQgbGVmdE92ZXJWZXJ0ID0gTWF0aC5hYnMoZnJlZVJlY3QuaGVpZ2h0IC0gcmVjdEhlaWdodCk7XG4gICAgbGV0IGFyZ3MgPSBbbGVmdE92ZXJIb3JpeiwgbGVmdE92ZXJWZXJ0XS5zb3J0KChhLCBiKSA9PiBhIC0gYik7XG4gICAgbGV0IHNjb3JlID0gbmV3IFNjb3JlKGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgIHJldHVybiBzY29yZTtcbiAgfVxuXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQm94IHtcblx0d2lkdGg6IG51bWJlciA9IDA7XG5cdGhlaWdodDogbnVtYmVyID0gMDtcblx0eCA9IDA7XG4gICAgeSA9IDA7XG4gICAgY29uc3RyYWluUm90YXRpb24gPSBmYWxzZTtcbiAgICBwYWNrZWQgPSBmYWxzZTtcblxuXHRjb25zdHJ1Y3Rvcih3aWR0aDpudW1iZXIgLCBoZWlnaHQ6IG51bWJlciwgY29uc3RyYWluUm90YXRpb24gPSBmYWxzZSkge1xuXHRcdHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHRoaXMuY29uc3RyYWluUm90YXRpb24gPSBjb25zdHJhaW5Sb3RhdGlvbjtcblx0fVxufSIsImltcG9ydCBCZXN0U2hvcnRTaWRlRml0IGZyb20gJy4vaGV1cmlzdGljcy9CZXN0U2hvcnRTaWRlRml0JztcbmltcG9ydCBCb3ggZnJvbSAnLi9Cb3gnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCaW4ge1xuXHR3aWR0aDogbnVtYmVyID0gMDtcblx0aGVpZ2h0OiBudW1iZXI9IDA7XG5cdGJveGVzOiBCb3hbXSA9IFtdO1xuXHRoZXVyaXN0aWM6IGFueSA9IG51bGw7XG5cdGZyZWVSZWN0YW5nbGVzOiBGcmVlU3BhY2VCb3hbXSA9IFtdO1xuXG5cdGNvbnN0cnVjdG9yKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCBoZXVyaXN0aWMpIHtcblx0XHR0aGlzLndpZHRoID0gd2lkdGg7XG5cdFx0dGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG5cdFx0dGhpcy5mcmVlUmVjdGFuZ2xlcyA9IFtuZXcgRnJlZVNwYWNlQm94KHdpZHRoLCBoZWlnaHQpXTtcblx0XHR0aGlzLmhldXJpc3RpYyA9IGhldXJpc3RpYyB8fCBuZXcgQmVzdFNob3J0U2lkZUZpdCgpO1xuXHR9XG5cblx0Z2V0IGFyZWEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpZHRoICogdGhpcy5oZWlnaHQ7XG5cdH1cblxuXHRnZXQgZWZmaWNpZW5jeSgpIHtcblx0XHRsZXQgYm94ZXNBcmVhID0gMDtcblx0XHR0aGlzLmJveGVzLmZvckVhY2goKGJveCkgPT4ge1xuXHRcdFx0Ym94ZXNBcmVhICs9IGJveC53aWR0aCAqIGJveC5oZWlnaHQ7XG5cdFx0fSk7XG5cdFx0cmV0dXJuIChib3hlc0FyZWEgKiAxMDApIC8gdGhpcy5hcmVhO1xuXHR9XG5cblx0Z2V0IGxhYmVsKCkge1xuXHRcdHJldHVybiBgJHt0aGlzLndpZHRofXgke3RoaXMuaGVpZ2h0fSAke3RoaXMuZWZmaWNpZW5jeX0lYDtcblx0fVxuXG5cdGluc2VydChib3g6IEJveCkge1xuXHRcdGlmIChib3gucGFja2VkKSByZXR1cm4gZmFsc2U7XG5cblx0XHR0aGlzLmhldXJpc3RpYy5maW5kUG9zaXRpb25Gb3JOZXdOb2RlKGJveCwgdGhpcy5mcmVlUmVjdGFuZ2xlcyk7XG5cdFx0aWYgKCFib3gucGFja2VkKSByZXR1cm4gZmFsc2U7XG5cblx0XHRsZXQgbnVtUmVjdGFuZ2xlc1RvUHJvY2VzcyA9IHRoaXMuZnJlZVJlY3RhbmdsZXMubGVuZ3RoO1xuXHRcdGxldCBpID0gMDtcblxuXHRcdHdoaWxlIChpIDwgbnVtUmVjdGFuZ2xlc1RvUHJvY2Vzcykge1xuXHRcdFx0aWYgKHRoaXMuc3BsaXRGcmVlTm9kZSh0aGlzLmZyZWVSZWN0YW5nbGVzW2ldLCBib3gpKSB7XG5cdFx0XHRcdHRoaXMuZnJlZVJlY3RhbmdsZXMuc3BsaWNlKGksIDEpO1xuXHRcdFx0XHRudW1SZWN0YW5nbGVzVG9Qcm9jZXNzLS07XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpKys7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dGhpcy5wcnVuZUZyZWVMaXN0KCk7XG5cdFx0dGhpcy5ib3hlcy5wdXNoKGJveCk7XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdHNjb3JlRm9yKGJveDogQm94KSB7XG5cdFx0bGV0IGNvcHlCb3ggPSBuZXcgQm94KGJveC53aWR0aCwgYm94LmhlaWdodCwgYm94LmNvbnN0cmFpblJvdGF0aW9uKTtcblx0XHRsZXQgc2NvcmUgPSB0aGlzLmhldXJpc3RpYy5maW5kUG9zaXRpb25Gb3JOZXdOb2RlKFxuXHRcdFx0Y29weUJveCxcblx0XHRcdHRoaXMuZnJlZVJlY3RhbmdsZXNcblx0XHQpO1xuXHRcdHJldHVybiBzY29yZTtcblx0fVxuXG5cdGlzTGFyZ2VyVGhhbihib3g6IEJveCkge1xuXHRcdHJldHVybiAoXG5cdFx0XHQodGhpcy53aWR0aCA+PSBib3gud2lkdGggJiYgdGhpcy5oZWlnaHQgPj0gYm94LmhlaWdodCkgfHxcblx0XHRcdCh0aGlzLmhlaWdodCA+PSBib3gud2lkdGggJiYgdGhpcy53aWR0aCA+PSBib3guaGVpZ2h0KVxuXHRcdCk7XG5cdH1cblxuXHRzcGxpdEZyZWVOb2RlKGZyZWVOb2RlLCB1c2VkTm9kZSkge1xuXHRcdC8vIFRlc3Qgd2l0aCBTQVQgaWYgdGhlIHJlY3RhbmdsZXMgZXZlbiBpbnRlcnNlY3QuXG5cdFx0aWYgKFxuXHRcdFx0dXNlZE5vZGUueCA+PSBmcmVlTm9kZS54ICsgZnJlZU5vZGUud2lkdGggfHxcblx0XHRcdHVzZWROb2RlLnggKyB1c2VkTm9kZS53aWR0aCA8PSBmcmVlTm9kZS54IHx8XG5cdFx0XHR1c2VkTm9kZS55ID49IGZyZWVOb2RlLnkgKyBmcmVlTm9kZS5oZWlnaHQgfHxcblx0XHRcdHVzZWROb2RlLnkgKyB1c2VkTm9kZS5oZWlnaHQgPD0gZnJlZU5vZGUueVxuXHRcdCkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHRoaXMudHJ5U3BsaXRGcmVlTm9kZVZlcnRpY2FsbHkoZnJlZU5vZGUsIHVzZWROb2RlKTtcblx0XHR0aGlzLnRyeVNwbGl0RnJlZU5vZGVIb3Jpem9udGFsbHkoZnJlZU5vZGUsIHVzZWROb2RlKTtcblxuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0dHJ5U3BsaXRGcmVlTm9kZVZlcnRpY2FsbHkoZnJlZU5vZGUsIHVzZWROb2RlKSB7XG5cdFx0aWYgKFxuXHRcdFx0dXNlZE5vZGUueCA8IGZyZWVOb2RlLnggKyBmcmVlTm9kZS53aWR0aCAmJlxuXHRcdFx0dXNlZE5vZGUueCArIHVzZWROb2RlLndpZHRoID4gZnJlZU5vZGUueFxuXHRcdCkge1xuXHRcdFx0dGhpcy50cnlMZWF2ZUZyZWVTcGFjZUF0VG9wKGZyZWVOb2RlLCB1c2VkTm9kZSk7XG5cdFx0XHR0aGlzLnRyeUxlYXZlRnJlZVNwYWNlQXRCb3R0b20oZnJlZU5vZGUsIHVzZWROb2RlKTtcblx0XHR9XG5cdH1cblxuXHR0cnlMZWF2ZUZyZWVTcGFjZUF0VG9wKGZyZWVOb2RlLCB1c2VkTm9kZSkge1xuXHRcdGlmICh1c2VkTm9kZS55ID4gZnJlZU5vZGUueSAmJiB1c2VkTm9kZS55IDwgZnJlZU5vZGUueSArIGZyZWVOb2RlLmhlaWdodCkge1xuXHRcdFx0bGV0IG5ld05vZGUgPSB7IC4uLmZyZWVOb2RlIH07XG5cdFx0XHRuZXdOb2RlLmhlaWdodCA9IHVzZWROb2RlLnkgLSBuZXdOb2RlLnk7XG5cdFx0XHR0aGlzLmZyZWVSZWN0YW5nbGVzLnB1c2gobmV3Tm9kZSk7XG5cdFx0fVxuXHR9XG5cblx0dHJ5TGVhdmVGcmVlU3BhY2VBdEJvdHRvbShmcmVlTm9kZSwgdXNlZE5vZGUpIHtcblx0XHRpZiAodXNlZE5vZGUueSArIHVzZWROb2RlLmhlaWdodCA8IGZyZWVOb2RlLnkgKyBmcmVlTm9kZS5oZWlnaHQpIHtcblx0XHRcdGxldCBuZXdOb2RlID0geyAuLi5mcmVlTm9kZSB9O1xuXHRcdFx0bmV3Tm9kZS55ID0gdXNlZE5vZGUueSArIHVzZWROb2RlLmhlaWdodDtcblx0XHRcdG5ld05vZGUuaGVpZ2h0ID1cblx0XHRcdFx0ZnJlZU5vZGUueSArIGZyZWVOb2RlLmhlaWdodCAtICh1c2VkTm9kZS55ICsgdXNlZE5vZGUuaGVpZ2h0KTtcblx0XHRcdHRoaXMuZnJlZVJlY3RhbmdsZXMucHVzaChuZXdOb2RlKTtcblx0XHR9XG5cdH1cblxuXHR0cnlTcGxpdEZyZWVOb2RlSG9yaXpvbnRhbGx5KGZyZWVOb2RlLCB1c2VkTm9kZSkge1xuXHRcdGlmIChcblx0XHRcdHVzZWROb2RlLnkgPCBmcmVlTm9kZS55ICsgZnJlZU5vZGUuaGVpZ2h0ICYmXG5cdFx0XHR1c2VkTm9kZS55ICsgdXNlZE5vZGUuaGVpZ2h0ID4gZnJlZU5vZGUueVxuXHRcdCkge1xuXHRcdFx0dGhpcy50cnlMZWF2ZUZyZWVTcGFjZU9uTGVmdChmcmVlTm9kZSwgdXNlZE5vZGUpO1xuXHRcdFx0dGhpcy50cnlMZWF2ZUZyZWVTcGFjZU9uUmlnaHQoZnJlZU5vZGUsIHVzZWROb2RlKTtcblx0XHR9XG5cdH1cblxuXHR0cnlMZWF2ZUZyZWVTcGFjZU9uTGVmdChmcmVlTm9kZSwgdXNlZE5vZGUpIHtcblx0XHRpZiAodXNlZE5vZGUueCA+IGZyZWVOb2RlLnggJiYgdXNlZE5vZGUueCA8IGZyZWVOb2RlLnggKyBmcmVlTm9kZS53aWR0aCkge1xuXHRcdFx0bGV0IG5ld05vZGUgPSB7IC4uLmZyZWVOb2RlIH07XG5cdFx0XHRuZXdOb2RlLndpZHRoID0gdXNlZE5vZGUueCAtIG5ld05vZGUueDtcblx0XHRcdHRoaXMuZnJlZVJlY3RhbmdsZXMucHVzaChuZXdOb2RlKTtcblx0XHR9XG5cdH1cblxuXHR0cnlMZWF2ZUZyZWVTcGFjZU9uUmlnaHQoZnJlZU5vZGUsIHVzZWROb2RlKSB7XG5cdFx0aWYgKHVzZWROb2RlLnggKyB1c2VkTm9kZS53aWR0aCA8IGZyZWVOb2RlLnggKyBmcmVlTm9kZS53aWR0aCkge1xuXHRcdFx0bGV0IG5ld05vZGUgPSB7IC4uLmZyZWVOb2RlIH07XG5cdFx0XHRuZXdOb2RlLnggPSB1c2VkTm9kZS54ICsgdXNlZE5vZGUud2lkdGg7XG5cdFx0XHRuZXdOb2RlLndpZHRoID1cblx0XHRcdFx0ZnJlZU5vZGUueCArIGZyZWVOb2RlLndpZHRoIC0gKHVzZWROb2RlLnggKyB1c2VkTm9kZS53aWR0aCk7XG5cdFx0XHR0aGlzLmZyZWVSZWN0YW5nbGVzLnB1c2gobmV3Tm9kZSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEdvZXMgdGhyb3VnaCB0aGUgZnJlZSByZWN0YW5nbGUgbGlzdCBhbmQgcmVtb3ZlcyBhbnkgcmVkdW5kYW50IGVudHJpZXMuXG5cdCAqL1xuXHRwcnVuZUZyZWVMaXN0KCkge1xuXHRcdGxldCBpID0gMDtcblx0XHR3aGlsZSAoaSA8IHRoaXMuZnJlZVJlY3RhbmdsZXMubGVuZ3RoKSB7XG5cdFx0XHRsZXQgaiA9IGkgKyAxO1xuXHRcdFx0aWYgKGogPT09IHRoaXMuZnJlZVJlY3RhbmdsZXMubGVuZ3RoKSB7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0d2hpbGUgKGogPCB0aGlzLmZyZWVSZWN0YW5nbGVzLmxlbmd0aCkge1xuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0dGhpcy5pc0NvbnRhaW5lZEluKHRoaXMuZnJlZVJlY3RhbmdsZXNbaV0sIHRoaXMuZnJlZVJlY3RhbmdsZXNbal0pXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdHRoaXMuZnJlZVJlY3RhbmdsZXMuc3BsaWNlKGksIDEpO1xuXHRcdFx0XHRcdGktLTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0dGhpcy5pc0NvbnRhaW5lZEluKHRoaXMuZnJlZVJlY3RhbmdsZXNbal0sIHRoaXMuZnJlZVJlY3RhbmdsZXNbaV0pXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdHRoaXMuZnJlZVJlY3RhbmdsZXMuc3BsaWNlKGosIDEpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGorKztcblx0XHRcdFx0fVxuXHRcdFx0XHRpKys7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0aXNDb250YWluZWRJbihyZWN0QSwgcmVjdEIpIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0cmVjdEEgJiZcblx0XHRcdHJlY3RCICYmXG5cdFx0XHRyZWN0QS54ID49IHJlY3RCLnggJiZcblx0XHRcdHJlY3RBLnkgPj0gcmVjdEIueSAmJlxuXHRcdFx0cmVjdEEueCArIHJlY3RBLndpZHRoIDw9IHJlY3RCLnggKyByZWN0Qi53aWR0aCAmJlxuXHRcdFx0cmVjdEEueSArIHJlY3RBLmhlaWdodCA8PSByZWN0Qi55ICsgcmVjdEIuaGVpZ2h0XG5cdFx0KTtcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgRnJlZVNwYWNlQm94IHtcbiAgeCA9IDBcbiAgeSA9IDBcbiAgd2lkdGggPSBudWxsXG4gIGhlaWdodCA9IG51bGxcblxuICBjb25zdHJ1Y3Rvcih3aWR0aCwgaGVpZ2h0KSB7XG4gICAgdGhpcy53aWR0aCA9IHdpZHRoXG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHRcbiAgfVxuXG59IiwiaW1wb3J0IEJpbiBmcm9tIFwiLi9CaW5cIjtcbmltcG9ydCBCb3ggZnJvbSBcIi4vQm94XCI7XG5pbXBvcnQgU2NvcmUgZnJvbSBcIi4vU2NvcmVcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2NvcmVCb2FyZEVudHJ5IHtcbiAgICBiaW46IEJpbjtcbiAgICBib3g6IEJveDtcbiAgICBzY29yZTogU2NvcmU7XG5cbiAgICBjb25zdHJ1Y3RvcihiaW46IEJpbiwgYm94OiBCb3gpIHtcbiAgICAgICAgdGhpcy5iaW4gPSBiaW5cbiAgICAgICAgdGhpcy5ib3ggPSBib3hcbiAgICB9XG5cbiAgICBjYWxjdWxhdGUoKSB7XG4gICAgICAgIHRoaXMuc2NvcmUgPSB0aGlzLmJpbi5zY29yZUZvcih0aGlzLmJveCk7XG4gICAgICAgIHJldHVybiB0aGlzLnNjb3JlO1xuICAgIH1cblxuICAgIGZpdCgpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLnNjb3JlLmlzQmxhbmsoKTtcbiAgICB9XG59IiwiLy8gIyAgICAgICBib3hfMSBib3hfMiBib3hfMyAuLi5cbi8vICMgYmluXzEgIDEwMCAgIDIwMCAgICAwXG4vLyAjIGJpbl8yICAgMCAgICAgNSAgICAgMFxuLy8gIyBiaW5fMyAgIDkgICAgMTAwICAgIDBcbi8vICMgLi4uXG5pbXBvcnQgQmluIGZyb20gJy4vQmluJztcbmltcG9ydCBCb3ggZnJvbSAnLi9Cb3gnO1xuaW1wb3J0IFNjb3JlQm9hcmRFbnRyeSBmcm9tICcuL1Njb3JlQm9hcmRFbnRyeSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNjb3JlQm9hcmQge1xuXHRlbnRyaWVzOiBTY29yZUJvYXJkRW50cnlbXSA9IFtdO1xuXG5cdGNvbnN0cnVjdG9yKGJpbnM6IEJpbltdLCBib3hlczogQm94W10pIHtcblx0XHRiaW5zLmZvckVhY2goKGJpbikgPT4ge1xuXHRcdFx0dGhpcy5hZGRCaW5FbnRyaWVzKGJpbiwgYm94ZXMpO1xuXHRcdH0pO1xuXHR9XG5cblx0ZGVidWcoKSB7XG5cdFx0cmVxdWlyZSgnY29uc29sZS50YWJsZScpO1xuXHRcdGNvbnNvbGUudGFibGUoXG5cdFx0XHR0aGlzLmVudHJpZXMubWFwKChlbnRyeSkgPT4gKHtcblx0XHRcdFx0YmluOiBlbnRyeS5iaW4ubGFiZWwsXG5cdFx0XHRcdHNjb3JlOiBlbnRyeS5zY29yZSxcblx0XHRcdH0pKVxuXHRcdCk7XG5cdH1cblxuXHRhZGRCaW5FbnRyaWVzKGJpbiwgYm94ZXMpIHtcblx0XHRib3hlcy5mb3JFYWNoKChib3gpID0+IHtcblx0XHRcdGxldCBlbnRyeSA9IG5ldyBTY29yZUJvYXJkRW50cnkoYmluLCBib3gpO1xuXHRcdFx0ZW50cnkuY2FsY3VsYXRlKCk7XG5cdFx0XHR0aGlzLmVudHJpZXMucHVzaChlbnRyeSk7XG5cdFx0fSk7XG5cdH1cblxuXHRsYXJnZXN0Tm90Rml0aW5nQm94KCkge1xuICAgICAgICBsZXQgdW5maXQ6IFNjb3JlQm9hcmRFbnRyeTtcblx0XHRsZXQgZml0dGluZ0JveGVzID0gdGhpcy5lbnRyaWVzXG5cdFx0XHQuZmlsdGVyKChlbnRyeSkgPT4gZW50cnkuZml0KVxuXHRcdFx0Lm1hcCgoZW50cnkpID0+IGVudHJ5LmJveCk7XG5cbiAgICAgICAgdGhpcy5lbnRyaWVzLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB1bmZpdEFyZWEgPSB1bmZpdC5ib3gud2lkdGggKiB1bmZpdC5ib3guaGVpZ2h0O1xuICAgICAgICAgICAgY29uc3QgZW50cnlBcmVhID0gZW50cnkuYm94LndpZHRoICogZW50cnkuYm94LmhlaWdodDtcblx0XHRcdGlmICghZml0dGluZ0JveGVzLmluY2x1ZGVzKGVudHJ5LmJveCkpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHVuZml0ID09PSBudWxsIHx8IHVuZml0QXJlYSA8IGVudHJ5QXJlYSkge1xuXHRcdFx0XHR1bmZpdCA9IGVudHJ5O1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHVuZml0LmJveCA/IHVuZml0IDogZmFsc2U7XG5cdH1cblxuXHRiZXN0Rml0KCkge1xuXHRcdGxldCBiZXN0OiBTY29yZUJvYXJkRW50cnkgfCBudWxsID0gbnVsbDtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZW50cmllcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0bGV0IGVudHJ5ID0gdGhpcy5lbnRyaWVzW2ldO1xuXHRcdFx0aWYgKCFlbnRyeS5maXQoKSkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblx0XHRcdGlmIChiZXN0ID09PSBudWxsIHx8IGVudHJ5LnNjb3JlIDwgYmVzdC5zY29yZSkge1xuXHRcdFx0XHRiZXN0ID0gZW50cnk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBiZXN0O1xuXHR9XG5cblx0cmVtb3ZlQm94KGJveCkge1xuXHRcdHRoaXMuZW50cmllcyA9IHRoaXMuZW50cmllcy5maWx0ZXIoKGVudHJ5KSA9PiB7XG5cdFx0XHRyZXR1cm4gZW50cnkuYm94ICE9PSBib3g7XG5cdFx0fSk7XG5cdH1cblxuXHRhZGRCaW4oYmluKSB7XG5cdFx0dGhpcy5hZGRCaW5FbnRyaWVzKGJpbiwgdGhpcy5jdXJyZW50Qm94ZXMoKSk7XG5cdH1cblxuXHRyZWNhbGN1bGF0ZUJpbihiaW4pIHtcblx0XHR0aGlzLmVudHJpZXNcblx0XHRcdC5maWx0ZXIoKGVudHJ5KSA9PiBlbnRyeS5iaW4gPT09IGJpbilcblx0XHRcdC5mb3JFYWNoKChlbnRyeSkgPT4gZW50cnkuY2FsY3VsYXRlKCkpO1xuXHR9XG5cblx0Y3VycmVudEJveGVzKCkge1xuXHRcdHJldHVybiBbLi4ubmV3IFNldCh0aGlzLmVudHJpZXMubWFwKChlbnRyeSkgPT4gZW50cnkuYm94KSldO1xuXHR9XG59XG4iLCJpbXBvcnQgQmluIGZyb20gJy4vQmluJztcbmltcG9ydCBCb3ggZnJvbSAnLi9Cb3gnO1xuaW1wb3J0IFNjb3JlIGZyb20gJy4vU2NvcmUnO1xuaW1wb3J0IFNjb3JlQm9hcmQgZnJvbSAnLi9TY29yZUJvYXJkJztcbmltcG9ydCB7IFBhY2tlZFNjb3JlcyB9IGZyb20gJy4vVHlwZXMnO1xuaW1wb3J0IFNjb3JlQm9hcmRFbnRyeSBmcm9tICcuL1Njb3JlQm9hcmRFbnRyeSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhY2tlciB7XG5cdGJpbnM6IEJpbltdID0gW107XG5cdHVucGFja2VkQm94ZXM6IEJveFtdID0gW107XG5cblx0Y29uc3RydWN0b3IoYmluczogQmluW10pIHtcblx0XHR0aGlzLmJpbnMgPSBiaW5zO1xuXHR9XG5cblx0cGFjazxUIGV4dGVuZHMgQm94Pihib3hlczogVFtdKTogUGFja2VkU2NvcmVzPFQ+W10ge1xuICAgICAgICBsZXQgcGFja2VkQm94ZXM6IFBhY2tlZFNjb3JlczxUPltdID0gW107XG4gICAgICAgIGxldCBlbnRyeTogU2NvcmVCb2FyZEVudHJ5IHwgbnVsbDtcblxuXHRcdGJveGVzID0gYm94ZXMuZmlsdGVyKChib3gpID0+ICFib3gucGFja2VkKTtcblx0XHRpZiAoYm94ZXMubGVuZ3RoID09PSAwKSByZXR1cm4gcGFja2VkQm94ZXM7XG5cblx0XHRsZXQgbGltaXQgPSBTY29yZS5NQVhfSU5UO1xuXHRcdGxldCBib2FyZCA9IG5ldyBTY29yZUJvYXJkKHRoaXMuYmlucywgYm94ZXMpO1xuXHRcdHdoaWxlICgoZW50cnkgPSBib2FyZC5iZXN0Rml0KCkpKSB7XG5cdFx0XHRlbnRyeS5iaW4uaW5zZXJ0KGVudHJ5LmJveCk7XG5cdFx0XHRib2FyZC5yZW1vdmVCb3goZW50cnkuYm94KTtcblx0XHRcdGJvYXJkLnJlY2FsY3VsYXRlQmluKGVudHJ5LmJpbik7XG4gICAgICAgICAgICBwYWNrZWRCb3hlcy5wdXNoKHsgYm94OiBlbnRyeS5ib3ggYXMgVCwgc2NvcmU6IGVudHJ5LnNjb3JlIH0pO1xuXHRcdFx0aWYgKHBhY2tlZEJveGVzLmxlbmd0aCA+PSBsaW1pdCkge1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGlzLnVucGFja2VkQm94ZXMgPSBib3hlcy5maWx0ZXIoKGJveCkgPT4ge1xuXHRcdFx0cmV0dXJuICFib3gucGFja2VkO1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHBhY2tlZEJveGVzO1xuXHR9XG59IiwiaW1wb3J0IEJhc2UgZnJvbSAnLi9CYXNlJztcbmltcG9ydCBTY29yZSBmcm9tICcuLi9TY29yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJlc3RBcmVhRml0IGV4dGVuZHMgQmFzZSB7XG5cbiAgY2FsY3VsYXRlU2NvcmUoZnJlZVJlY3QsIHJlY3RXaWR0aCwgcmVjdEhlaWdodCkge1xuICAgIGxldCBhcmVhRml0ID0gZnJlZVJlY3Qud2lkdGggKiBmcmVlUmVjdC5oZWlnaHQgLSByZWN0V2lkdGggKiByZWN0SGVpZ2h0O1xuICAgIGxldCBsZWZ0T3Zlckhvcml6ID0gTWF0aC5hYnMoZnJlZVJlY3Qud2lkdGggLSByZWN0V2lkdGgpO1xuICAgIGxldCBsZWZ0T3ZlclZlcnQgPSBNYXRoLmFicyhmcmVlUmVjdC5oZWlnaHQgLSByZWN0SGVpZ2h0KTtcbiAgICBsZXQgc2hvcnRTaWRlRml0ID0gTWF0aC5taW4obGVmdE92ZXJIb3JpeiwgbGVmdE92ZXJWZXJ0KTtcbiAgICByZXR1cm4gbmV3IFNjb3JlKGFyZWFGaXQsIHNob3J0U2lkZUZpdCk7XG4gIH1cblxufSIsImltcG9ydCBCYXNlIGZyb20gJy4vQmFzZSc7XG5pbXBvcnQgU2NvcmUgZnJvbSAnLi4vU2NvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCZXN0TG9uZ1NpZGVGaXQgZXh0ZW5kcyBCYXNlIHtcblxuICBjYWxjdWxhdGVTY29yZShmcmVlUmVjdCwgcmVjdFdpZHRoLCByZWN0SGVpZ2h0KSB7XG4gICAgbGV0IGxlZnRPdmVySG9yaXogPSBNYXRoLmFicyhmcmVlUmVjdC53aWR0aCAtIHJlY3RXaWR0aCk7XG4gICAgbGV0IGxlZnRPdmVyVmVydCA9IE1hdGguYWJzKGZyZWVSZWN0LmhlaWdodCAtIHJlY3RIZWlnaHQpO1xuICAgIGxldCBhcmdzID0gW2xlZnRPdmVySG9yaXosIGxlZnRPdmVyVmVydF0uc29ydCgoYSwgYikgPT4gYSAtIGIpLnJldmVyc2UoKTtcbiAgICByZXR1cm4gbmV3IFNjb3JlKGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICB9XG5cbn0iLCJpbXBvcnQgQmFzZSBmcm9tICcuL0Jhc2UnO1xuaW1wb3J0IFNjb3JlIGZyb20gJy4uL1Njb3JlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQm90dG9tTGVmdCBleHRlbmRzIEJhc2Uge1xuXG4gIGNhbGN1bGF0ZVNjb3JlKGZyZWVSZWN0LCByZWN0V2lkdGgsIHJlY3RIZWlnaHQpIHtcbiAgICBsZXQgdG9wU2lkZVkgPSBmcmVlUmVjdC55ICsgcmVjdEhlaWdodDtcbiAgICByZXR1cm4gbmV3IFNjb3JlKHRvcFNpZGVZLCBmcmVlUmVjdC54KTtcbiAgfVxuXG59IiwiLyoqXG4gKiBQcmVjaXNpb24gdG8gcmV0YWluIGluIGZhY3RvcmVkSW50ZWdlcigpXG4gKi9cbmNvbnN0IEZBQ1RPUiA9IDU7XG5cbi8qKlxuICogRmFjdG9yIGEgbnVtYmVyIGJ5IEZBQ1RPUiBhbmQgcm91bmQgdG8gdGhlIG5lYXJlc3Qgd2hvbGUgbnVtYmVyXG4gKi9cbmV4cG9ydCBjb25zdCBmYWN0b3JlZEludGVnZXIgPSAoIHZhbHVlICkgPT4gKFxuICAgIE1hdGgucm91bmQoIHZhbHVlICogKCAxMCAqKiBGQUNUT1IgKSApXG4pO1xuIiwibGV0IGlzTG9nRW5hYmxlZCA9IGZhbHNlO1xuZXhwb3J0IGZ1bmN0aW9uIGVuYWJsZUxvZyhlbmFibGUgPSB0cnVlKSB7XG4gICAgaXNMb2dFbmFibGVkID0gZW5hYmxlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTG9nZ2VyKG5hbWVzcGFjZSA9ICdiaW5wYWNraW5nanMnKSB7XG4gICAgcmV0dXJuIGxvZy5iaW5kKHVuZGVmaW5lZCwgbmFtZXNwYWNlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvZyhuYW1lc3BhY2UsIC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gaXNMb2dFbmFibGVkID8gY29uc29sZS5kZWJ1Zy5hcHBseShjb25zb2xlLCBbbmFtZXNwYWNlXS5jb25jYXQoYXJncykpIDogdW5kZWZpbmVkO1xufSIsImltcG9ydCB7IGZhY3RvcmVkSW50ZWdlciB9IGZyb20gJy4vdXRpbCc7XG5pbXBvcnQge2NyZWF0ZUxvZ2dlcn0gZnJvbSBcIi4uL2xpYi9sb2dcIjtcbmNvbnN0IGxvZyA9IGNyZWF0ZUxvZ2dlcignM0Q6Jyk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJpbiB7XG5cbiAgbmFtZSA9ICcnO1xuICB3aWR0aCA9IDA7XG4gIGhlaWdodCA9IDA7XG4gIGRlcHRoID0gMDtcbiAgbWF4V2VpZ2h0ID0gMDtcblxuICBpdGVtcyA9IFtdO1xuXG4gIGNvbnN0cnVjdG9yKG5hbWUsIHcsIGgsIGQsIG13KSB7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLndpZHRoID0gZmFjdG9yZWRJbnRlZ2VyKCB3ICk7XG4gICAgdGhpcy5oZWlnaHQgPSBmYWN0b3JlZEludGVnZXIoIGggKTtcbiAgICB0aGlzLmRlcHRoID0gZmFjdG9yZWRJbnRlZ2VyKCBkICk7XG4gICAgdGhpcy5tYXhXZWlnaHQgPSBmYWN0b3JlZEludGVnZXIoIG13ICk7XG4gIH1cblxuICBnZXROYW1lKCkge1xuICAgIHJldHVybiB0aGlzLm5hbWU7XG4gIH1cblxuICBnZXRXaWR0aCgpIHtcbiAgICByZXR1cm4gdGhpcy53aWR0aDtcbiAgfVxuXG4gIGdldEhlaWdodCgpIHtcbiAgICByZXR1cm4gdGhpcy5oZWlnaHQ7XG4gIH1cblxuICBnZXREZXB0aCgpIHtcbiAgICByZXR1cm4gdGhpcy5kZXB0aDtcbiAgfVxuXG4gIGdldE1heFdlaWdodCgpIHtcbiAgICByZXR1cm4gdGhpcy5tYXhXZWlnaHQ7XG4gIH1cblxuICBnZXRJdGVtcygpIHtcbiAgICByZXR1cm4gdGhpcy5pdGVtcztcbiAgfVxuXG4gIGdldFZvbHVtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRXaWR0aCgpICogdGhpcy5nZXRIZWlnaHQoKSAqIHRoaXMuZ2V0RGVwdGgoKTtcbiAgfVxuXG4gIGdldFBhY2tlZFdlaWdodCgpIHtcbiAgICByZXR1cm4gdGhpcy5pdGVtcy5yZWR1Y2UoICggd2VpZ2h0LCBpdGVtICkgPT4gd2VpZ2h0ICsgaXRlbS5nZXRXZWlnaHQoKSwgMCApO1xuICB9XG5cbiAgd2VpZ2hJdGVtKGl0ZW0pIHtcbiAgICBjb25zdCBtYXhXZWlnaHQgPSB0aGlzLmdldE1heFdlaWdodCgpO1xuICAgIHJldHVybiAhIG1heFdlaWdodCB8fCBpdGVtLmdldFdlaWdodCgpICsgdGhpcy5nZXRQYWNrZWRXZWlnaHQoKSA8PSBtYXhXZWlnaHQ7XG4gIH1cblxuICAvKipcbiAgICogQ2FsY3VsYXRlIGEgc2NvcmUgZm9yIGEgZ2l2ZW4gaXRlbSBhbmQgcm90YXRpb24gdHlwZS5cbiAgICpcbiAgICogU2NvcmVzIGFyZSBoaWdoZXIgZm9yIHJvdGF0aW9ucyB0aGF0IGNsb3Nlc3QgbWF0Y2ggaXRlbSBkaW1lbnNpb25zIHRvIEJpbiBkaW1lbnNpb25zLlxuICAgKiBGb3IgZXhhbXBsZSwgcm90YXRpbmcgdGhlIGl0ZW0gc28gdGhlIGxvbmdlc3Qgc2lkZSBpcyBhbGlnbmVkIHdpdGggdGhlIGxvbmdlc3QgQmluIHNpZGUuXG4gICAqXG4gICAqIEV4YW1wbGUgKEJpbiBpcyAxMSB4IDguNSB4IDUuNSwgSXRlbSBpcyA4LjEgeCA1LjIgeCA1LjIpOlxuICAgKiAgUm90YXRpb24gMDpcbiAgICogICAgOC4xIC8gMTEgID0gMC43MzZcbiAgICogICAgNS4yIC8gOC41ID0gMC42MTJcbiAgICogICAgNS4yIC8gNS41ID0gMC45NDVcbiAgICogICAgLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogICAgMC43MzYgKiogMiArIDAuNjEyICoqIDIgKyAwLjk0NSAqKiAyID0gMS44MDlcbiAgICpcbiAgICogIFJvdGF0aW9uIDE6XG4gICAqICAgIDguMSAvIDguNSA9IDAuOTUzXG4gICAqICAgIDUuMiAvIDExID0gMC40NzNcbiAgICogICAgNS4yIC8gNS41ID0gMC45NDVcbiAgICogICAgLS0tLS0tLS0tLS0tLS0tLS1cbiAgICogICAgMC45NTMgKiogMiArIDAuNDczICoqIDIgKyAwLjk0NSAqKiAyID0gMi4wMjVcbiAgICpcbiAgICogQHBhcmFtIHtJdGVtfSBpdGVtXG4gICAqIEBwYXJhbSB7aW50fSByb3RhdGlvblR5cGVcbiAgICogQHJldHVybiB7ZmxvYXR9IHNjb3JlXG4gICAqL1xuICBzY29yZVJvdGF0aW9uKGl0ZW0sIHJvdGF0aW9uVHlwZSkge1xuICAgIGl0ZW0ucm90YXRpb25UeXBlID0gcm90YXRpb25UeXBlO1xuICAgIGxldCBkID0gaXRlbS5nZXREaW1lbnNpb24oKTtcblxuICAgIC8vIElmIHRoZSBpdGVtIGRvZXNuJ3QgZml0IGluIHRoZSBCaW5cbiAgICBpZiAoIHRoaXMuZ2V0V2lkdGgoKSA8IGRbMF0gfHwgdGhpcy5nZXRIZWlnaHQoKSA8IGRbMV0gfHwgdGhpcy5nZXREZXB0aCgpIDwgZFsyXSApIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgLy8gU3F1YXJlIHRoZSByZXN1bHRzIHRvIGluY3JlYXNlIHRoZSBpbXBhY3Qgb2YgaGlnaCB2YWx1ZXMgKGUuZy4gPiAwLjgpXG4gICAgY29uc3Qgd2lkdGhTY29yZSA9IE1hdGgucG93KCBkWzBdIC8gdGhpcy5nZXRXaWR0aCgpLCAyICk7XG4gICAgY29uc3QgaGVpZ2h0U2NvcmUgPSBNYXRoLnBvdyggZFsxXSAvIHRoaXMuZ2V0SGVpZ2h0KCksIDIgKTtcbiAgICBjb25zdCBkZXB0aFNjb3JlID0gTWF0aC5wb3coIGRbMl0gLyB0aGlzLmdldERlcHRoKCksIDIgKTtcblxuICAgIHJldHVybiB3aWR0aFNjb3JlICsgaGVpZ2h0U2NvcmUgKyBkZXB0aFNjb3JlO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB0aGUgYmVzdCByb3RhdGlvbiBvcmRlciBmb3IgYSBnaXZlbiBJdGVtIGJhc2VkIG9uIHNjb3JlUm90YXRpb24oKS5cbiAgICpcbiAgICogQHBhcmFtIHtJdGVtfSBpdGVtXG4gICAqIEByZXR1cm4ge0FycmF5fSBSb3RhdGlvbiB0eXBlcyBzb3J0ZWQgYnkgdGhlaXIgc2NvcmUsIERFU0NcbiAgICovXG4gIGdldEJlc3RSb3RhdGlvbk9yZGVyKGl0ZW0pIHtcbiAgICBjb25zdCByb3RhdGlvblNjb3JlcyA9IHt9O1xuXG4gICAgLy8gU2NvcmUgYWxsIHJvdGF0aW9uIHR5cGVzXG5cdGZvciAobGV0IGk9MDsgaTxpdGVtLmFsbG93ZWRSb3RhdGlvbi5sZW5ndGg7IGkrKykge1xuXHQgICAgY29uc3QgciA9IGl0ZW0uYWxsb3dlZFJvdGF0aW9uW2ldO1xuXHRcdHJvdGF0aW9uU2NvcmVzW3JdID0gdGhpcy5zY29yZVJvdGF0aW9uKCBpdGVtLCByICk7XG4gICAgfVxuXG4gICAgLy8gU29ydCB0aGUgcm90YXRpb24gdHlwZXMgKGluZGV4IG9mIHNjb3JlcyBvYmplY3QpIERFU0NcbiAgICAvLyBhbmQgZW5zdXJlIEludCB2YWx1ZXMgKE9iamVjdC5rZXlzIHJldHVybnMgc3RyaW5ncylcbiAgICBjb25zdCBzb3J0ZWRSb3RhdGlvbnMgPSBPYmplY3Qua2V5cyggcm90YXRpb25TY29yZXMgKS5zb3J0KCAoIGEsIGIgKSA9PiB7XG4gICAgICByZXR1cm4gcm90YXRpb25TY29yZXNbYl0gLSByb3RhdGlvblNjb3Jlc1thXTtcbiAgICB9ICkubWFwKCBOdW1iZXIgKTtcblxuICAgIHJldHVybiBzb3J0ZWRSb3RhdGlvbnM7XG4gIH1cblxuICBwdXRJdGVtKGl0ZW0sIHApIHtcbiAgICBjb25zdCBib3ggPSB0aGlzO1xuICAgIGxldCBmaXQgPSBmYWxzZTtcbiAgICBjb25zdCByb3RhdGlvbnMgPSB0aGlzLmdldEJlc3RSb3RhdGlvbk9yZGVyKCBpdGVtICk7XG4gICAgaXRlbS5wb3NpdGlvbiA9IHA7XG5cbiAgICBmb3IgKCBsZXQgaSA9IDA7IGkgPCByb3RhdGlvbnMubGVuZ3RoOyBpKysgKSB7XG4gICAgICBpdGVtLnJvdGF0aW9uVHlwZSA9IHJvdGF0aW9uc1tpXTtcbiAgICAgIGxldCBkID0gaXRlbS5nZXREaW1lbnNpb24oKTtcblxuICAgICAgaWYgKGJveC5nZXRXaWR0aCgpIDwgcFswXSArIGRbMF0gfHwgYm94LmdldEhlaWdodCgpIDwgcFsxXSArIGRbMV0gfHwgYm94LmdldERlcHRoKCkgPCBwWzJdICsgZFsyXSkge1xuICAgICAgICBmaXQgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZpdCA9IHRydWU7XG5cbiAgICAgICAgZm9yIChsZXQgaj0wOyBqPGJveC5pdGVtcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgIGxldCBfaiA9IGJveC5pdGVtc1tqXTtcbiAgICAgICAgICBpZiAoX2ouaW50ZXJzZWN0KGl0ZW0pKSB7XG4gICAgICAgICAgICBmaXQgPSBmYWxzZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmaXQpIHtcbiAgICAgICAgICBib3guaXRlbXMucHVzaChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsb2coJ3RyeSB0byBwdXRJdGVtJywgZml0LCAnaXRlbScsIGl0ZW0udG9TdHJpbmcoKSwgJ2JveCcsIGJveC50b1N0cmluZygpKTtcblxuICAgICAgaWYgKGZpdCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZpdDtcbiAgfVxuXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBgQmluOiR7dGhpcy5uYW1lfSAoV3hIeEQgPSAke3RoaXMuZ2V0V2lkdGgoKX14JHt0aGlzLmdldEhlaWdodCgpfXgke3RoaXMuZ2V0RGVwdGgoKX0sIE1heFdnLiA9ICR7dGhpcy5nZXRNYXhXZWlnaHQoKX0pYDtcbiAgfVxuXG59IiwiaW1wb3J0IHsgZmFjdG9yZWRJbnRlZ2VyIH0gZnJvbSAnLi91dGlsJztcblxuZXhwb3J0IGNvbnN0IFJvdGF0aW9uVHlwZV9XSEQgPSAwO1xuZXhwb3J0IGNvbnN0IFJvdGF0aW9uVHlwZV9IV0QgPSAxO1xuZXhwb3J0IGNvbnN0IFJvdGF0aW9uVHlwZV9IRFcgPSAyO1xuZXhwb3J0IGNvbnN0IFJvdGF0aW9uVHlwZV9ESFcgPSAzO1xuZXhwb3J0IGNvbnN0IFJvdGF0aW9uVHlwZV9EV0ggPSA0O1xuZXhwb3J0IGNvbnN0IFJvdGF0aW9uVHlwZV9XREggPSA1O1xuXG5leHBvcnQgY29uc3QgV2lkdGhBeGlzID0gMDtcbmV4cG9ydCBjb25zdCBIZWlnaHRBeGlzID0gMTtcbmV4cG9ydCBjb25zdCBEZXB0aEF4aXMgPSAyO1xuXG5leHBvcnQgY29uc3QgU3RhcnRQb3NpdGlvbiA9IFswLCAwLCAwXTtcblxuZXhwb3J0IGNvbnN0IFJvdGF0aW9uVHlwZVN0cmluZ3MgPSB7XG4gIFtSb3RhdGlvblR5cGVfV0hEXTogJ1JvdGF0aW9uVHlwZV9XSEQgKHcsaCxkKScsXG4gIFtSb3RhdGlvblR5cGVfSFdEXTogJ1JvdGF0aW9uVHlwZV9IV0QgKGgsdyxkKScsXG4gIFtSb3RhdGlvblR5cGVfSERXXTogJ1JvdGF0aW9uVHlwZV9IRFcgKGgsZCx3KScsXG4gIFtSb3RhdGlvblR5cGVfREhXXTogJ1JvdGF0aW9uVHlwZV9ESFcgKGQsaCx3KScsXG4gIFtSb3RhdGlvblR5cGVfRFdIXTogJ1JvdGF0aW9uVHlwZV9EV0ggKGQsdyxoKScsXG4gIFtSb3RhdGlvblR5cGVfV0RIXTogJ1JvdGF0aW9uVHlwZV9XREggKHcsZCxoKScsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJdGVtIHtcblxuICBuYW1lID0gJyc7XG4gIHdpZHRoID0gMDtcbiAgaGVpZ2h0ID0gMDtcbiAgZGVwdGggPSAwO1xuICB3ZWlnaHQgPSAwO1xuICBhbGxvd2VkUm90YXRpb24gPSBbMCwxLDIsMyw0LDVdO1xuXG4gIHJvdGF0aW9uVHlwZSA9IFJvdGF0aW9uVHlwZV9XSEQ7XG4gIHBvc2l0aW9uID0gW107IC8vIHgsIHksIHpcblxuICBjb25zdHJ1Y3RvcihuYW1lLCB3LCBoLCBkLCB3ZywgYWxsb3dlZFJvdGF0aW9uKSB7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLndpZHRoID0gZmFjdG9yZWRJbnRlZ2VyKCB3ICk7XG4gICAgdGhpcy5oZWlnaHQgPSBmYWN0b3JlZEludGVnZXIoIGggKTtcbiAgICB0aGlzLmRlcHRoID0gZmFjdG9yZWRJbnRlZ2VyKCBkICk7XG4gICAgdGhpcy53ZWlnaHQgPSBmYWN0b3JlZEludGVnZXIoIHdnICk7XG4gICAgdGhpcy5hbGxvd2VkUm90YXRpb24gPSBhbGxvd2VkUm90YXRpb24gPyBhbGxvd2VkUm90YXRpb24gOiB0aGlzLmFsbG93ZWRSb3RhdGlvbjtcbiAgfVxuXG4gIGdldFdpZHRoKCkge1xuICAgIHJldHVybiB0aGlzLndpZHRoO1xuICB9XG5cbiAgZ2V0SGVpZ2h0KCkge1xuICAgIHJldHVybiB0aGlzLmhlaWdodDtcbiAgfVxuXG4gIGdldERlcHRoKCkge1xuICAgIHJldHVybiB0aGlzLmRlcHRoO1xuICB9XG5cbiAgZ2V0V2VpZ2h0KCkge1xuICAgIHJldHVybiB0aGlzLndlaWdodDtcbiAgfVxuXG4gIGdldFJvdGF0aW9uVHlwZSgpIHtcbiAgICByZXR1cm4gdGhpcy5yb3RhdGlvblR5cGU7XG4gIH1cblxuICBnZXRBbGxvd2VkUm90YXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuYWxsb3dlZFJvdGF0aW9uO1xuICB9XG5cbiAgZ2V0Um90YXRpb25UeXBlU3RyaW5nKCkge1xuICAgIHJldHVybiBSb3RhdGlvblR5cGVTdHJpbmdzW3RoaXMuZ2V0Um90YXRpb25UeXBlKCldO1xuICB9XG5cbiAgZ2V0RGltZW5zaW9uKCkge1xuICAgIGxldCBkO1xuICAgIHN3aXRjaCAodGhpcy5yb3RhdGlvblR5cGUpIHtcbiAgICAgIGNhc2UgUm90YXRpb25UeXBlX1dIRDpcbiAgICAgICAgZCA9IFt0aGlzLmdldFdpZHRoKCksIHRoaXMuZ2V0SGVpZ2h0KCksIHRoaXMuZ2V0RGVwdGgoKV07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBSb3RhdGlvblR5cGVfSFdEOlxuICAgICAgICBkID0gW3RoaXMuZ2V0SGVpZ2h0KCksIHRoaXMuZ2V0V2lkdGgoKSwgdGhpcy5nZXREZXB0aCgpXTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFJvdGF0aW9uVHlwZV9IRFc6XG4gICAgICAgIGQgPSBbdGhpcy5nZXRIZWlnaHQoKSwgdGhpcy5nZXREZXB0aCgpLCB0aGlzLmdldFdpZHRoKCldO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgUm90YXRpb25UeXBlX0RIVzpcbiAgICAgICAgZCA9IFt0aGlzLmdldERlcHRoKCksIHRoaXMuZ2V0SGVpZ2h0KCksIHRoaXMuZ2V0V2lkdGgoKV07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBSb3RhdGlvblR5cGVfRFdIOlxuICAgICAgICBkID0gW3RoaXMuZ2V0RGVwdGgoKSwgdGhpcy5nZXRXaWR0aCgpLCB0aGlzLmdldEhlaWdodCgpXTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFJvdGF0aW9uVHlwZV9XREg6XG4gICAgICAgIGQgPSBbdGhpcy5nZXRXaWR0aCgpLCB0aGlzLmdldERlcHRoKCksIHRoaXMuZ2V0SGVpZ2h0KCldO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIGQ7XG4gIH1cblxuICBpbnRlcnNlY3QoaTIpIHtcbiAgICByZXR1cm4gcmVjdEludGVyc2VjdCh0aGlzLCBpMiwgV2lkdGhBeGlzLCBIZWlnaHRBeGlzKSAmJlxuICAgICAgICByZWN0SW50ZXJzZWN0KHRoaXMsIGkyLCBIZWlnaHRBeGlzLCBEZXB0aEF4aXMpICYmXG4gICAgICAgIHJlY3RJbnRlcnNlY3QodGhpcywgaTIsIFdpZHRoQXhpcywgRGVwdGhBeGlzKTtcbiAgfVxuXG4gIGdldFZvbHVtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRXaWR0aCgpICogdGhpcy5nZXRIZWlnaHQoKSAqIHRoaXMuZ2V0RGVwdGgoKTtcbiAgfVxuXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBgSXRlbToke3RoaXMubmFtZX0gKCR7dGhpcy5nZXRSb3RhdGlvblR5cGVTdHJpbmcoKX0gPSAke3RoaXMuZ2V0RGltZW5zaW9uKCkuam9pbigneCcpfSwgV2cuID0gJHt0aGlzLndlaWdodH0pYDtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgcmVjdEludGVyc2VjdCA9IChpMSwgaTIsIHgsIHkpID0+IHtcbiAgbGV0IGQxLCBkMiwgY3gxLCBjeTEsIGN4MiwgY3kyLCBpeCwgaXk7XG5cbiAgZDEgPSBpMS5nZXREaW1lbnNpb24oKTtcbiAgZDIgPSBpMi5nZXREaW1lbnNpb24oKTtcblxuICBjeDEgPSBpMS5wb3NpdGlvblt4XSArIGQxW3hdIC8gMjtcbiAgY3kxID0gaTEucG9zaXRpb25beV0gKyBkMVt5XSAvIDI7XG4gIGN4MiA9IGkyLnBvc2l0aW9uW3hdICsgZDJbeF0gLyAyO1xuICBjeTIgPSBpMi5wb3NpdGlvblt5XSArIGQyW3ldIC8gMjtcblxuICBpeCA9IE1hdGgubWF4KGN4MSwgY3gyKSAtIE1hdGgubWluKGN4MSwgY3gyKTtcbiAgaXkgPSBNYXRoLm1heChjeTEsIGN5MikgLSBNYXRoLm1pbihjeTEsIGN5Mik7XG5cbiAgcmV0dXJuIGl4IDwgKGQxW3hdICsgZDJbeF0pIC8gMiAmJiBpeSA8IChkMVt5XSArIGQyW3ldKSAvIDI7XG59OyIsImltcG9ydCBCaW4gZnJvbSAnLi9CaW4nO1xuaW1wb3J0IHtcbiAgSXRlbSxcbiAgU3RhcnRQb3NpdGlvbixcbiAgV2lkdGhBeGlzLFxuICBIZWlnaHRBeGlzLFxuICBEZXB0aEF4aXNcbn0gZnJvbSAnLi9JdGVtJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGFja2VyIHtcblxuICBiaW5zID0gW107XG4gIGl0ZW1zID0gW107XG4gIHVuZml0SXRlbXMgPSBbXTtcblxuICBhZGRCaW4oYmluKSB7XG4gICAgdGhpcy5iaW5zLnB1c2goYmluKTtcbiAgfVxuXG4gIGFkZEl0ZW0oaXRlbSkge1xuICAgIHRoaXMuaXRlbXMucHVzaChpdGVtKTtcbiAgfVxuXG4gIGZpbmRGaXR0ZWRCaW4oaSkge1xuICAgIGZvciAobGV0IF9pPTA7IF9pPHRoaXMuYmlucy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIGxldCBiID0gdGhpcy5iaW5zW19pXTtcblxuICAgICAgaWYgKCFiLndlaWdoSXRlbShpKSB8fCAhYi5wdXRJdGVtKGksIFN0YXJ0UG9zaXRpb24pKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoYi5pdGVtcy5sZW5ndGggPT09IDEgJiYgYi5pdGVtc1swXSA9PT0gaSkge1xuICAgICAgICBiLml0ZW1zID0gW107XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBiO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGdldEJpZ2dlckJpblRoYW4oYikge1xuICAgIGxldCB2ID0gYi5nZXRWb2x1bWUoKTtcbiAgICBmb3IgKGxldCBfaT0wOyBfaTx0aGlzLmJpbnM7IF9pKyspIHtcbiAgICAgIGxldCBiMiA9IHRoaXMuYmluc1tfaV07XG4gICAgICBpZiAoYjIuZ2V0Vm9sdW1lKCkgPiB2KSB7XG4gICAgICAgIHJldHVybiBiMjtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB1bmZpdEl0ZW0oKSB7XG4gICAgaWYgKHRoaXMuaXRlbXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMudW5maXRJdGVtcy5wdXNoKHRoaXMuaXRlbXNbMF0pO1xuICAgIHRoaXMuaXRlbXMuc3BsaWNlKDAsIDEpO1xuICB9XG5cbiAgcGFja1RvQmluKGIsIGl0ZW1zKSB7XG4gICAgbGV0IGIyID0gbnVsbDtcbiAgICBsZXQgdW5wYWNrZWQgPSBbXTtcbiAgICBsZXQgZml0ID0gYi53ZWlnaEl0ZW0oaXRlbXNbMF0pICYmIGIucHV0SXRlbShpdGVtc1swXSwgU3RhcnRQb3NpdGlvbik7XG5cbiAgICBpZiAoIWZpdCkge1xuICAgICAgbGV0IGIyID0gdGhpcy5nZXRCaWdnZXJCaW5UaGFuKGIpO1xuICAgICAgaWYgKGIyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhY2tUb0JpbihiMiwgaXRlbXMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuaXRlbXM7XG4gICAgfVxuXG4gICAgLy8gUGFjayB1bnBhY2tlZCBpdGVtcy5cbiAgICBmb3IgKGxldCBfaT0xOyBfaSA8IHRoaXMuaXRlbXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICBsZXQgZml0dGVkID0gZmFsc2U7XG4gICAgICBsZXQgaXRlbSA9IHRoaXMuaXRlbXNbX2ldO1xuXG4gICAgICBpZiAoYi53ZWlnaEl0ZW0oaXRlbSkpIHtcbiAgICAgICAgLy8gVHJ5IGF2YWlsYWJsZSBwaXZvdHMgaW4gY3VycmVudCBiaW4gdGhhdCBhcmUgbm90IGludGVyc2VjdCB3aXRoXG4gICAgICAgIC8vIGV4aXN0aW5nIGl0ZW1zIGluIGN1cnJlbnQgYmluLlxuICAgICAgICBsb29rdXA6XG4gICAgICAgIGZvciAobGV0IF9wdD0wOyBfcHQgPCAzOyBfcHQrKykge1xuICAgICAgICAgIGZvciAobGV0IF9qPTA7IF9qIDwgYi5pdGVtcy5sZW5ndGg7IF9qKyspIHtcbiAgICAgICAgICAgIGxldCBwdjtcbiAgICAgICAgICAgIGxldCBpYiA9IGIuaXRlbXNbX2pdO1xuICAgICAgICAgICAgbGV0IGQgPSBpYi5nZXREaW1lbnNpb24oKTtcbiAgICAgICAgICAgIHN3aXRjaCAoX3B0KSB7XG4gICAgICAgICAgICAgIGNhc2UgV2lkdGhBeGlzOlxuICAgICAgICAgICAgICAgIHB2ID0gW2liLnBvc2l0aW9uWzBdICsgZFswXSwgaWIucG9zaXRpb25bMV0sIGliLnBvc2l0aW9uWzJdXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBIZWlnaHRBeGlzOlxuICAgICAgICAgICAgICAgIHB2ID0gW2liLnBvc2l0aW9uWzBdLCBpYi5wb3NpdGlvblsxXSArIGRbMV0sIGliLnBvc2l0aW9uWzJdXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBEZXB0aEF4aXM6XG4gICAgICAgICAgICAgICAgcHYgPSBbaWIucG9zaXRpb25bMF0sIGliLnBvc2l0aW9uWzFdLCBpYi5wb3NpdGlvblsyXSArIGRbMl1dO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYi5wdXRJdGVtKGl0ZW0sIHB2KSkge1xuICAgICAgICAgICAgICBmaXR0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICBicmVhayBsb29rdXA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICghZml0dGVkKSB7XG4gICAgICAgIHdoaWxlIChiMiAhPT0gbnVsbCkge1xuICAgICAgICAgIGIyID0gdGhpcy5nZXRCaWdnZXJCaW5UaGFuKGIpO1xuICAgICAgICAgIGlmIChiMikge1xuICAgICAgICAgICAgYjIuaXRlbXMucHVzaChpdGVtKTtcbiAgICAgICAgICAgIGxldCBsZWZ0ID0gdGhpcy5wYWNrVG9CaW4oYjIsIGIyLml0ZW1zKTtcbiAgICAgICAgICAgIGlmIChsZWZ0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICBiID0gYjI7XG4gICAgICAgICAgICAgIGZpdHRlZCA9IHRydWU7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZml0dGVkKSB7XG4gICAgICAgICAgdW5wYWNrZWQucHVzaChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB1bnBhY2tlZDtcbiAgfVxuXG4gIHBhY2soKSB7XG4gICAgLy8gU29ydCBiaW5zIHNtYWxsZXN0IHRvIGxhcmdlc3QuXG4gICAgdGhpcy5iaW5zLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgIHJldHVybiBhLmdldFZvbHVtZSgpIC0gYi5nZXRWb2x1bWUoKTtcbiAgICB9KTtcblxuICAgIC8vIFNvcnQgaXRlbXMgbGFyZ2VzdCB0byBzbWFsbGVzdC5cbiAgICB0aGlzLml0ZW1zLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgIHJldHVybiBiLmdldFZvbHVtZSgpIC0gYS5nZXRWb2x1bWUoKTtcbiAgICB9KTtcblxuICAgIHdoaWxlICh0aGlzLml0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgIGxldCBiaW4gPSB0aGlzLmZpbmRGaXR0ZWRCaW4odGhpcy5pdGVtc1swXSk7XG5cbiAgICAgIGlmIChiaW4gPT09IG51bGwpIHtcbiAgICAgICAgdGhpcy51bmZpdEl0ZW0oKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuaXRlbXMgPSB0aGlzLnBhY2tUb0JpbihiaW4sIHRoaXMuaXRlbXMpO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG59XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHRpZihfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdKSB7XG5cdFx0cmV0dXJuIF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0uZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIGRlZmluaXRpb24pIHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqLCBwcm9wKSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTsgfSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07Il0sInNvdXJjZVJvb3QiOiIifQ==